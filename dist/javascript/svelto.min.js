"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _get=function t(e,i,s){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,i,s)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(s)},_slicedToArray=function(){function t(t,e){var i=[],s=!0,o=!1,n=void 0;try{for(var r,a=t[Symbol.iterator]();!(s=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{!s&&a.return&&a.return()}finally{if(o)throw n}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){var t=window.jQuery||window.$,e=!!t&&t().jquery,i=!!e&&e.split("-")[0].split("."),s=!!i&&i.map(Number),o=s&&s[0]>1||1===s[0]&&(s[1]>11||11===s[1]&&s[2]>=2);if(!t||!o)throw new Error("Svelto depends upon jQuery v1.11.2 or higher, dependency not found");window.jQuery=t}(),function(t){var e=t.cleanData;t.cleanData=function(i){for(var s,o=0;void 0!==(s=i[o]);o++){var n=t._data(s,"events");n&&n.remove&&t(s).triggerHandler("remove")}e(i)}}(jQuery),function(t){var e="_diff_index",i=window.Node.ELEMENT_NODE,s=window.Node.DOCUMENT_NODE,o={attributes:{key:"data-key",ignore:"data-ignore",checksum:"data-checksum"}};t.diff=function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_.isString(i)&&(i=t.parseHTML(i)[0]),e.nodeType===s&&(e=e.documentElement),t.diff.node(e,i,o)},t.diff.node=function(e,s){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.nodeType===s.nodeType)if(e.nodeType===i){if(t.diff.utilities.getChecksum(e)===t.diff.utilities.getChecksum(s))return;if(t.diff.utilities.isIgnored(e)&&t.diff.utilities.isIgnored(s))return;var n=e.childNodes,r=s.childNodes;if(0===n.length&&0===r.length||t.diff.children(e,n,r,o),e.nodeName===s.nodeName)o||t.diff.attributes(e,e.attributes,s.attributes);else{for(var a=s.cloneNode();e.firstChild;)a.appendChild(e.firstChild);e.parentNode.replaceChild(a,e)}}else e.nodeValue!==s.nodeValue&&(e.nodeValue=s.nodeValue);else e.parentNode.replaceChild(s,e)},t.diff.attributes=function(t,e,i){for(var s=i.length;s--;){var o=i[s],n=o.name,r=e.getNamedItem(n);r?r.value!==o.value&&(r.value=o.value):(i.removeNamedItem(n),e.setNamedItem(o))}if(e.length!==i.length)for(var a=e.length;a--;){var l=e[a].name;i.getNamedItem(l)||e.removeNamedItem(l)}},t.diff.children=function(i,s,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.diff.utilities.keyNodes(s),a=t.diff.utilities.keyNodes(o);for(var l in r)a[l]||i.removeChild(r[l]);for(var h in a){var c=r[h],u=a[h],p=u[e];if(c){if(t.diff.node(c,u,n),c[e]===p)continue;var d=s[p]||null;if(d===c)continue;i.insertBefore(c,d)}else{var _=s[p]||null;i.insertBefore(u,_)}}},t.diff.utilities={keyNodes:function(i){for(var s={},o=0,n=i.length;o<n;o++){var r=i[o];r[e]=o,s[t.diff.utilities.getKey(r)||o]=r}return s},getKey:function(e){if(e.nodeType===i)return e.getAttribute(t.diff.defaults.attributes.key)||e.id||void 0},getChecksum:function(e){return e.getAttribute(t.diff.defaults.attributes.checksum)||NaN},isIgnored:function(e){return null!==e.getAttribute(t.diff.defaults.attributes.ignore)}},t.diff.defaults=o,t.fn.diff=function(e){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=0,o=this.length;s<o;s++)t.diff(this[s],e,i);return this}}(jQuery),function(t){t.eventNamespacer=function(t,e){return t.split(/\s+/).map(function(t){return t+e}).join(" ")}}(jQuery),function(t){t.eventXY=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pageX",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pageY";return"originalEvent"in e?t.eventXY(e.originalEvent,i,s):"changedTouches"in e&&e.changedTouches.length?{x:e.changedTouches[0][i],y:e.changedTouches[0][s]}:"touches"in e&&e.touches.length?{x:e.touches[0][i],y:e.touches[0][s]}:i in e?{x:e[i],y:e[s]}:void 0}}(jQuery),function(t){t.frame=function(t){return requestAnimationFrame(t)}}(jQuery),function(t){t.getRect=function(e){return e===window?t.getWindowRect():e.getBoundingClientRect()},t.fn.getRect=function(){return this.length?t.getRect(this[0]):void 0},t.getWindowRect=function(){var t={};return t.left=0,t.top=0,t.width=window.innerWidth,t.height=window.innerHeight,t.right=t.width,t.bottom=t.height,t}}(jQuery),function(t){t.fn.hasAttribute=function(t){return this.length&&this[0].hasAttribute(t)}}(jQuery),function(t){t.fn.hsl=function(t,e,i){return this[0].style.backgroundColor="hsl("+t+","+e+"%,"+i+"%)",this}}(jQuery),function(t){var e=document.documentElement;t.isAttached=function(i){return i===e||t.contains(e,i)},t.fn.isAttached=function(){return t.isAttached(this[0])}}(jQuery),function(t){t.isFocused=function(t){return t===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},t.fn.isFocused=function(){return t.isFocused(this[0])}}(jQuery),function(t){t.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]}(jQuery),function(t){var e=t(document.documentElement),i=t(document),s=t(document.body);t.scrollTo=function(i){for(var o,n=t(i).offset().top,r=arguments.length,a=Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];(o=e.add(s)).animate.apply(o,[{scrollTop:n}].concat(a))},t.fn.scrollParent=function(e){var s=this.css("position");if("fixed"===s)return i;var o="absolute"===s,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=!0,a=!1,l=void 0;try{for(var h,c=this.parents()[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var u=h.value,p=t(u);if((!o||"static"!==p.css("position"))&&n.test(p.css("overflow")+p.css("overflow-y")+p.css("overflow-x")))return p}}catch(t){a=!0,l=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw l}}return i},t.hasScrollbars=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i?t.hasScrollbarY(e)&&t.hasScrollbarX(e):t.hasScrollbarY(e)||t.hasScrollbarX(e)},t.fn.hasScrollbars=function(){return this.length&&t.hasScrollbars(this[0])},t.hasScrollbarX=function(t){var e=getComputedStyle(t);if("scroll"===e.overflowX)return!0;var i=t.scrollWidth>t.clientWidth;return i&&"auto"===e.overflowX},t.fn.hasScrollbarX=function(){return this.length&&t.hasScrollbarX(this[0])},t.hasScrollbarY=function(t){var e=getComputedStyle(t);if("scroll"===e.overflowY)return!0;var i=t.scrollHeight>t.clientHeight;return i&&"auto"===e.overflowY},t.fn.hasScrollbarY=function(){return this.length&&t.hasScrollbarY(this[0])},t.fn.toggleScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hasClass("overflow-hidden"),e=arguments[1];return t?this.enableScroll():this.disableScroll(e)},t.fn.disableScroll=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.addClass("overflow-hidden")},t.fn.enableScroll=function(){return this.removeClass("overflow-hidden")}}(jQuery),function(t){t.fn.disableSelection=function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".svelto-disable-selection",function(t){return t.preventDefault()})}}(),t.fn.enableSelection=function(){return this.off(".svelto-disable-selection")}}(jQuery),function(t){t.uniqueAjax=function(e){if(e in t.uniqueAjax.requests)return t.uniqueAjax.requests[e];for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.uniqueAjax.requests[e]=t.ajax.apply(t,s)},t.uniqueAjax.requests={}}(jQuery),function(){var t=window.lodash||window._,e=!!t&&t.VERSION,i=!!e&&e.split("-")[0].split("."),s=!!i&&i.map(Number),o=s&&s[0]>4||4===s[0]&&(s[1]>6||6===s[1]&&s[2]>=1);if(!t||!o)throw new Error("Svelto depends upon lodash v4.6.1 or higher, dependency not found");window.lodash=t}(),function(t){t.mixin({true:t.constant(!0),false:t.constant(!1)})}(lodash),function(t){t.mixin({findMatches:function(t,e){for(var i=[],s=void 0;s=e.exec(t);)i.push(s);return i}})}(lodash),function(t){t.mixin({format:function(t){for(var e=1,i=arguments.length<=1?0:arguments.length-1;e<=i;e++)t=t.replace("$"+e,arguments.length<=e-1+1?void 0:arguments[e-1+1]);return t}})}(lodash),function(t){t.mixin({mkize:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[1e9,1e6,1e3],s=["B","M","K"],o=0,n=i.length;o<n;o++)if(t>=i[o])return Number((t/i[o]).toFixed(e))+s[o];return t}})}(lodash),function(t){t.mixin({move:function(t,e,i){t.splice(i,0,t.splice(e,1)[0])}})}(lodash),function(t){t.mixin({nowSecs:function(){return Math.floor(t.now()/1e3)}})}(lodash),function(t){t.mixin({replaceAll:function(t,e,i){var s=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return t.replace(new RegExp(s,"g"),i)}})}(lodash),function(t){t.mixin({roundCloser:function(e,i){t.isUndefined(i)&&(i=1);var s=e%i,o=i/2;return e-s+(s>=o?i:0)}})}(lodash),function(t){t.mixin({timeAgo:function(e){var i=t.nowSecs()-e,s=5,o=["year","month","week","day","hour","minute","second"],n=[31536e3,2592e3,604800,86400,3600,60,1];if(i<s)return{str:"Just now",next:s-i};for(var r=0,a=n.length;r<a;r++){var l=o[r],h=n[r],c=Math.floor(i/h);if(c>=1)return{str:c+" "+l+(c>1?"s":"")+" ago",next:h-(i-c*h)}}}})}(lodash),function(t,e){t.fn.zIndex=function(t){if(!e.isUndefined(t))return this.css("zIndex",t);if(!this.length)return 0;for(var i=this.eq(0),s=void 0,o=void 0;i.length&&i[0]!==document;){if(s=i.css("position"),e.includes(["absolute","relative","fixed"],s)&&(o=parseInt(i.css("zIndex"),10),!e.isNaN(o)&&0!==o))return o;i=i.parent()}return 0}}(jQuery,lodash),function(t){t.fn.topIndex=function(){var t=1e9;return function(){return this.zIndex(++t)}}}(jQuery),function(t,e,i){function s(t,e){return("undefined"==typeof t?"undefined":_typeof(t))===e}function o(){var t,e,i,o,n,r,a;for(var l in b)if(b.hasOwnProperty(l)){if(t=[],e=b[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(o=s(e.fn,"function")?e.fn():e.fn,n=0;n<t.length;n++)r=t[n],a=r.split("."),1===a.length?$[a[0]]=o:(!$[a[0]]||$[a[0]]instanceof Boolean||($[a[0]]=new Boolean($[a[0]])),$[a[0]][a[1]]=o),y.push((o?"":"no-")+a.join("-"))}}function n(t){var e=w.className,i=$._config.classPrefix||"";if(x&&(e=e.baseVal),$._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(s,"$1"+i+"js$2")}$._config.enableClasses&&(e+=" "+i+t.join(" "+i),x?w.className.baseVal=e:w.className=e)}function r(t,e){if("object"==("undefined"==typeof t?"undefined":_typeof(t)))for(var i in t)P(t,i)&&r(i,t[i]);else{t=t.toLowerCase();var s=t.split("."),o=$[s[0]];if(2==s.length&&(o=o[s[1]]),"undefined"!=typeof o)return $;e="function"==typeof e?e():e,1==s.length?$[s[0]]=e:(!$[s[0]]||$[s[0]]instanceof Boolean||($[s[0]]=new Boolean($[s[0]])),$[s[0]][s[1]]=e),n([(e&&0!=e?"":"no-")+s.join("-")]),$._trigger(t,e)}return $}function a(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):x?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function l(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function h(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function c(){var t=e.body;return t||(t=a(x?"svg":"body"),t.fake=!0),t}function u(t,i,s,o){var n,r,l,h,u="modernizr",p=a("div"),d=c();if(parseInt(s,10))for(;s--;)l=a("div"),l.id=o?o[s]:u+(s+1),p.appendChild(l);return n=a("style"),n.type="text/css",n.id="s"+u,(d.fake?d:p).appendChild(n),d.appendChild(p),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),p.id=u,d.fake&&(d.style.background="",d.style.overflow="hidden",h=w.style.overflow,w.style.overflow="hidden",w.appendChild(d)),r=i(p,t),d.fake?(d.parentNode.removeChild(d),w.style.overflow=h,w.offsetHeight):p.parentNode.removeChild(p),!!r}function p(t,e){return!!~(""+t).indexOf(e)}function d(e,s){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(h(e[o]),s))return!0;return!1}if("CSSSupportsRule"in t){for(var n=[];o--;)n.push("("+h(e[o])+":"+s+")");return n=n.join(" or "),u("@supports ("+n+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}return i}function _(t,e){return function(){return t.apply(e,arguments)}}function v(t,e,i){var o;for(var n in t)if(t[n]in e)return i===!1?t[n]:(o=e[t[n]],s(o,"function")?_(o,i||e):o);return!1}function f(t,e,o,n){function r(){c&&(delete A.style,delete A.modElem)}if(n=!s(n,"undefined")&&n,!s(o,"undefined")){var h=d(t,o);if(!s(h,"undefined"))return h}for(var c,u,_,v,f,g=["modernizr","tspan"];!A.style;)c=!0,A.modElem=a(g.shift()),A.style=A.modElem.style;for(_=t.length,u=0;u<_;u++)if(v=t[u],f=A.style[v],p(v,"-")&&(v=l(v)),A.style[v]!==i){if(n||s(o,"undefined"))return r(),"pfx"!=e||v;try{A.style[v]=o}catch(t){}if(A.style[v]!=f)return r(),"pfx"!=e||v}return r(),!1}function g(t,e,i,o,n){var r=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+j.join(r+" ")+r).split(" ");return s(e,"string")||s(e,"undefined")?f(a,e,o,n):(a=(t+" "+O.join(r+" ")+r).split(" "),v(a,e,i))}function m(t,e,s){return g(t,i,i,e,s)}var y=[],b=[],k={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!1,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){b.push({name:t,fn:e,options:i})},addAsyncTest:function(t){b.push({name:null,fn:t})}},$=function(){};$.prototype=k,$=new $;var S=k._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];k._prefixes=S;var w=e.documentElement,x="svg"===w.nodeName.toLowerCase(),C="Moz O ms Webkit",O=k._config.usePrefixes?C.toLowerCase().split(" "):[];k._domPrefixes=O;var P;!function(){var t={}.hasOwnProperty;P=s(t,"undefined")||s(t.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(e,i){return t.call(e,i)}}(),k._l={},k.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),$.hasOwnProperty(t)&&setTimeout(function(){$._trigger(t,$[t])},0)},k._trigger=function(t,e){if(this._l[t]){var i=this._l[t];setTimeout(function(){var t,s;for(t=0;t<i.length;t++)(s=i[t])(e)},0),delete this._l[t]}},$._q.push(function(){k.addTest=r});var j=k._config.usePrefixes?C.split(" "):[];k._cssomPrefixes=j;var T=function(e){var s,o=S.length,n=t.CSSRule;if("undefined"==typeof n)return i;if(!e)return!1;if(e=e.replace(/^@/,""),s=e.replace(/-/g,"_").toUpperCase()+"_RULE",s in n)return"@"+e;for(var r=0;r<o;r++){var a=S[r],l=a.toUpperCase()+"_"+s;if(l in n)return"@-"+a.toLowerCase()+"-"+e}return!1};k.atRule=T;var F=function(){function t(t,e){var o;return!!t&&(e&&"string"!=typeof e||(e=a(e||"div")),t="on"+t,o=t in e,!o&&s&&(e.setAttribute||(e=a("div")),e.setAttribute(t,""),o="function"==typeof e[t],e[t]!==i&&(e[t]=i),e.removeAttribute(t)),o)}var s=!("onblur"in e.documentElement);return t}();k.hasEvent=F;var E=function(t,e){var i=!1,s=a("div"),o=s.style;if(t in o){var n=O.length;for(o[t]=e,i=o[t];n--&&!i;)o[t]="-"+O[n]+"-"+e,i=o[t]}return""===i&&(i=!1),i};k.prefixedCSSValue=E;var R=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var i=e(t);return i&&i.matches||!1}:function(e){var i=!1;return u("@media "+e+" { #modernizr { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle).position}),i}}();k.mq=R;var W=(k.testStyles=u,{elem:a("modernizr")});$._q.push(function(){delete W.elem});var A={style:W.elem.style};$._q.unshift(function(){delete A.style});k.testProp=function(t,e,s){return f([t],i,e,s)};k.testAllProps=g;var D=k.prefixed=function(t,e,i){return 0===t.indexOf("@")?T(t):(t.indexOf("-")!=-1&&(t=l(t)),e?g(t,e,i):g(t,"pfx"))};k.prefixedCSS=function(t){var e=D(t);return e&&h(e)};k.testAllProps=m,o(),n(y),delete k.addTest,delete k.addAsyncTest;for(var z=0;z<$._q.length;z++)$._q[z]();t.Modernizr=$}(window,document),function(){var t=window.Modernizr,e=!!t&&t._version,i=!!e&&e.split("-")[0].split("."),s=!!i&&i.map(Number),o=s&&s[0]>3||3===s[0]&&(s[1]>3||3===s[1]&&s[2]>=1);if(!t||!o)throw new Error("Svelto depends upon Modernizr v3.3.1 or higher, dependency not found")}(),function(t){t.addTest("clip-path-polygon",t.testAllProps("clip-path","polygon( 0 0 )"))}(Modernizr),function(t,e){e(function(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg"),s=document.createElementNS(e,"clipPath"),o=document.createElementNS(e,"rect");s.setAttribute("id","ModernizrClipPath"),o.setAttribute("width","0"),s.appendChild(o),i.appendChild(s);var n=document.createElement("div");n.style.cssText="width:2px;height:2px;position:fixed;top:0;left:0;z-index:1000000000;opacity:0;",n.style[t.prefixed("clip-path")]="url(#ModernizrClipPath)",document.body.appendChild(i),document.body.appendChild(n);var r=n.getBoundingClientRect(),a=document.elementFromPoint(r.left+1,r.top+1)!==n;document.body.removeChild(n),document.body.removeChild(i),t.addTest("clip-path-url",a)})}(Modernizr,jQuery),function(t){t.addTest("flexbox",t.testAllProps("flexBasis","1px"))}(Modernizr),function(t){t.addTest("flexbox-legacy",t.testAllProps("boxDirection","reverse"))}(Modernizr),function(t){t.addTest("flexbox-tweener",t.testAllProps("flexAlign","end"))}(Modernizr),function(t){var e=t.testStyles("#modernizr {width:100px;height:100px;overflow:scroll;position:absolute;z-index:-1}",function(t){return t.offsetWidth===t.clientWidth});t.addTest("overlay-scrollbars",e)}(Modernizr),function(t){t.addTest("position-sticky",t.testAllProps("position","sticky"))}(Modernizr),function(t){var e=void 0;t.testStyles("#modernizr {width:100px;height:100px;overflow:scroll;position:absolute;z-index:-1}",function(t){return e=t.offsetWidth-t.clientWidth}),t.addTest("scrollbar-size-"+e,!0)}(Modernizr),function(){var t={VERSION:"0.7.13",$:jQuery,_:lodash,Modernizr:Modernizr,Widgets:{},Templates:{},$window:$(window),window:window,$document:$(document),document:document,$html:$(document.documentElement),html:document.documentElement,$head:$(document.head),head:document.head,$body:$(document.body),body:document.body};window.Svelto=t}(),function(t,e,i){var s={xslow:900,slow:500,normal:350,fast:150,xfast:75};i.Animations=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o){o&&e.merge(o.defaults.global,{maintainAspectRatio:!1,hover:{animationDuration:s.normal},defaultColor:"#ffffff",defaultFontColor:"#3f3f3f",defaultFontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif",defaultFontSize:13.4544,legend:{position:"bottom",labels:{boxWidth:16,fontSize:16,padding:10}},tooltips:{backgroundColor:"#212121",titleFontSize:16,bodyFontSize:16,footerFontSize:16},animations:{duration:s.normal}})}(Svelto.$,Svelto._,Svelto,Svelto.Animations,window.Chart),function(t,e,i){var s={xsmall:"xs",small:"sm",medium:"md",large:"lg",xlarge:"xl",widths:{xsmall:0,small:512,medium:768,large:1024,xlarge:1216}};i.Breakpoints=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s=navigator.userAgent?navigator.userAgent.toLowerCase():"",o=navigator.vendor?navigator.vendor.toLowerCase():"",n=navigator.appVersion?navigator.appVersion.toLowerCase():"",r=/^Opera\//i.test(s)||/\x20OPR\//i.test(s),a=/ipod/i.test(s),l=!a&&/iphone/i.test(s),h=/ipad/i.test(s),c=/android/i.test(s),u=c&&/mobile/i.test(s),p=c&&!u,d=/blackberry/i.test(s)||/BB10/i.test(s),_=/win/i.test(n),v=_&&/phone/i.test(s),f=_&&!v&&/touch/i.test(s),g=l||a||u||d||v,m=h||p||f,y={support:{browsers:["chrome","firefox","edge","ie","opera","safari"],devices:["desktop","mobile","tablet"],oss:["ios","android","blackberry","linux","mac","windows"]},is:{chrome:!r&&/chrome|chromium/i.test(s)&&/google inc/.test(o),firefox:/firefox/i.test(s),edge:/(edge)\/((\d+)?[\w\.]+)/i.test(s),ie:/msie/i.test(s)||"ActiveXObject"in window,opera:r,safari:/safari/i.test(s)&&/apple computer/i.test(o),iphone:l,ipad:h,ipod:a,ios:l||h||a,android:c,androidPhone:u,androidTablet:p,blackberry:d,linux:/linux/i.test(n),mac:!(l||h||a)&&/mac/i.test(n),windows:_,windowsPhone:v,windowsTablet:f,mobile:g,tablet:m,desktop:!g&&!m,online:function(){return navigator.onLine},offline:function(){return!navigator.onLine},touchDevice:"ontouchstart"in window||"DocumentTouch"in window&&document instanceof window.DocumentTouch}};i.Browser=y}(Svelto.$,Svelto._,Svelto),function(t,e){var i=!0,s=!1,o=void 0;try{for(var n,r=e.support.browsers[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value;t.addTest(a,e.is[a])}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}}(Svelto.Modernizr,Svelto.Browser),function(t,e){var i=!0,s=!1,o=void 0;try{for(var n,r=e.support.devices[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value;t.addTest(a,e.is[a])}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}}(Svelto.Modernizr,Svelto.Browser),function(t,e){var i=!0,s=!1,o=void 0;try{for(var n,r=e.support.oss[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value;t.addTest(a,e.is[a])}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}}(Svelto.Modernizr,Svelto.Browser),function(t,e,i){var s={primary:"primary",secondary:"secondary",tertiary:"tertiary",quaternary:"quaternary",black:"black",blue:"blue",brown:"brown",gray:"gray",green:"green",olive:"olive",orange:"orange",pink:"pink",purple:"purple",red:"red",teal:"teal",violet:"violet",white:"white",yellow:"yellow",error:"error",success:"success",warning:"warning",base:"base",inherit:"inherit",transparent:"transparent"};i.Colors=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s={encoder:encodeURIComponent,decoder:decodeURIComponent,get:function(t){return t?this.decoder(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+this.encoder(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(t,e,i,s,o,n){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var r="";if(i)switch(i.constructor){case Number:r=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:r="; expires="+i;break;case Date:r="; expires="+i.toUTCString()}return document.cookie=this.encoder(t)+"="+this.encoder(e)+r+(o?"; domain="+o:"")+(s?"; path="+s:"")+(n?"; secure":""),!0},remove:function(t,e,i){return!!this.has(t)&&(document.cookie=this.encoder(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0)},has:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+this.encoder(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function t(){var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);return e.map(t,this.decoder)}};i.Cookie=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s){var o={keys:{BACKSPACE:8,COMMA:188,DEL:46,DELETE:46,DOWN:40,END:35,ENTER:13,ESC:27,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,SPACEBAR:32,TAB:9,UP:38},keystroke:{match:function(t,i){var s=["ctrl","cmd","ctmd","alt","shift"],n=i.split("+").map(function(t){return t.trim().toLowerCase()});if(e.includes(n,"ctmd")){if(!o.keystroke.hasCtrlOrCmd(t))return!1}else{if(e.includes(n,"ctrl")!==t.ctrlKey)return!1;if(e.includes(n,"cmd")!==t.metaKey)return!1}if(e.includes(n,"alt")!==t.altKey)return!1;if(e.includes(n,"shift")!==t.shiftKey)return!1;var r=!0,a=!1,l=void 0;try{for(var h,c=n[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var u=h.value;if(!e.includes(s,u)&&t.keyCode!==o.keys[u.toUpperCase()]&&String.fromCharCode(t.keyCode).toLowerCase()!==u)return!1}}catch(t){a=!0,l=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw l}}return!0},hasCtrlOrCmd:function(t){return!s.is.mac&&t.ctrlKey||s.is.mac&&t.metaKey}}};i.Keyboard=o}(Svelto.$,Svelto._,Svelto,Svelto.Browser),function(t,e,i){var s={buttons:{LEFT:0,MIDDLE:1,RIGHT:2},hasButton:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"originalEvent"in t?s.hasButton(t.originalEvent,e,i):i&&!("button"in t)||t.button===e}};i.Mouse=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o){function n(e,i){var s=t.Event(e);return s.originalEvent=i,s}function r(t){if(v){if(f=d.isTouchEvent(t))!$&&d.options.events.emulated.tune&&($=Date.now()),y=!1,window.onscroll=l,g++;else if(g>0)return $&&!d.options.events.emulated.tuned&&d.options.events.emulated.tune&&(d.options.events.emulated.timeout=Math.ceil(Math.max(d.options.events.emulated.min,(Date.now()-$)*d.options.events.emulated.multiplier)),d.options.events.emulated.tuned=!0),m=!0,void g--;m=!1}k=t}function a(e){if(!m&&k&&(h(),(!f||!y)&&(f||o.hasButton(e,o.buttons.LEFT,!0))&&k.target===e.target)){if(f){var i=t.eventXY(k),s=t.eventXY(e),r=d.options.tap.threshold;if(Math.abs(i.x-s.x)>r||Math.abs(i.y-s.y)>r)return}var a=e.timeStamp||Date.now(),l=t(k.target);l.trigger(n(d.tap,e)),a-S<=d.options.dbltap.interval?w&&(l.trigger(n(d.dbltap,e)),w=!1):w=!0,S=a}}function l(){y=!0,window.onscroll=null}function h(){setTimeout(c,0),f&&(y||(window.onscroll=null),b&&clearTimeout(b),b=setTimeout(u,d.options.events.emulated.timeout))}function c(){k=void 0}function u(){g=0,b=!1}var p="spointer",d={options:{events:{prefix:p,emulated:{tune:!0,tuned:!1,timeout:2500,min:500,multiplier:2.5}},tap:{threshold:6},dbltap:{interval:300}},tap:p+"tap",dbltap:p+"dbltap",click:"click",dblclick:"dblclick",down:s.is.touchDevice?"touchstart mousedown":"mousedown",move:s.is.touchDevice?"touchmove mousemove":"mousemove",up:s.is.touchDevice?"touchend mouseup":"mouseup",cancel:s.is.touchDevice?"touchcancel mouseleave":"mouseleave",over:"mouseover",enter:"mouseenter",out:"mouseout",leave:"mouseleave",isDeviceEvent:function(t,i){return e.startsWith(t.type,i.toLowerCase())},isPointerEvent:function(t){return d.isDeviceEvent(t,d.options.events.prefix)},isMouseEvent:function(t){return d.isDeviceEvent(t,"mouse")},isTouchEvent:function(t){return d.isDeviceEvent(t,"touch")}};["tap","dbltap"].forEach(function(e){t.fn[e]=function(t,i){return arguments.length?this.on(d[e],null,t,i):this.triggger(e)}});var _=i.$document,v=s.is.touchDevice,f=void 0,g=0,m=void 0,y=void 0,b=void 0,k=void 0,$=void 0,S=0,w=!0;_.on(d.down,r),_.on(d.up,a),_.on(d.cancel,h),i.Pointer=d}(Svelto.$,Svelto._,Svelto,Svelto.Browser,Svelto.Mouse),function(t,e,i,s){var o=function(){function t(){_classCallCheck(this,t),this.queue=[]}return _createClass(t,[{key:"get",value:function(){return this.queue}},{key:"add",value:function(t){this._isReady?this.worker(t):this.queue.push(t)}},{key:"remove",value:function(t){e.pull(this.queue,t)}},{key:"ready",value:function(){this._isReady=!0,this.queue.forEach(this.worker.bind(this)),this.queue=[]}},{key:"worker",value:function(t){if("config"in t){var e=t,i=e.ready||e.__proto__.ready||s.Widget.ready,o=e._initReady||e.__proto__._initReady||s.Widget._initReady,n=e._setReady||e.__proto__._setReady||s.Widget._setReady;o.bind(e)(),i.bind(e)(n.bind(e))}else t()}}]),t}();i.Readify=new o,t(i.Readify.ready.bind(i.Readify))}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s,o){var n={throttle:150,previous:void 0,current:void 0,__resize:function(){var t=this.get();t!==this.current&&(this.previous=this.current,this.current=t,i.$window.trigger("breakpoint:change"))},get:function(){for(var t=e.sortBy(e.values(s.widths)),o=i.$window.width(),n=function(i,n){if(o>=t[i]&&(i===n-1||o<t[i+1]))return{v:e.findKey(s.widths,function(e){return e===t[i]})}},r=0,a=t.length;r<a;r++){var l=n(r,a);if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return l.v}}};o.add(function(){n.current=n.get(),i.$window.on("resize",e.throttle(n.__resize.bind(n),n.throttle))}),i.Breakpoint=n}(Svelto.$,Svelto._,Svelto,Svelto.Breakpoints,Svelto.Readify),function(t,e,i,s,o){s.add(function(){var t=o.pushState;o.pushState=function(s){return e.isFunction(o.onpushstate)&&o.onpushstate({state:s}),i.$window.trigger("pushstate"),t.apply(o,arguments)}})}(Svelto.$,Svelto._,Svelto,Svelto.Readify,window.history),function(t,e,i,s){s.add(function(){var t=window.location.href.split("#")[0];i.$window.on("popstate pushstate",function(){e.defer(function(){var e=window.location.href.split("#")[0];e!==t&&(t=e,i.$window.trigger("route"))})})})}(Svelto.$,Svelto._,Svelto,Svelto.Readify),function(t,e,i,s,o){var n=function(){function o(){_classCallCheck(this,o),this.widgetizers={}}return _createClass(o,[{key:"_getWidgets",value:function(t,e){return t.filter(e).add(t.find(e))}},{key:"get",value:function(){return this.widgetizers}},{key:"add",value:function(t,o,n){if(e.isObject(t)){var r=t;if(!r.config.plugin||!e.isString(r.config.selector))return;var a=r.widgetize||r.__proto__.widgetize||s.Widget.widgetize;return this.add(r.config.selector,a,r)}if(t in this.widgetizers||(this.widgetizers[t]=[]),this.widgetizers[t].push([o,n]),this._isReady){var l=this._getWidgets(i.$body,t);this.worker([[o,n]],l)}}},{key:"remove",value:function(t,i){if(e.isObject(t)){var o=t;if(!o.config.plugin||!e.isString(o.config.selector))return;var n=o.widgetize||o.__proto__.widgetize||s.Widget.widgetize;return this.remove(o.config.selector,n)}if(t in this.widgetizers){if(i)for(var r=0,a=this.widgetizers[t].length;r<a;r++)this.widgetizers[t][r][0]===i&&this.widgetizers[t].splice(r,1);i&&this.widgetizers[t].length||delete this.widgetizers[t]}}},{key:"ready",value:function(){this._isReady=!0,this.on(i.$body)}},{key:"on",value:function(t){for(var e in this.widgetizers)if(this.widgetizers.hasOwnProperty(e)){var i=this.widgetizers[e],s=this._getWidgets(t,e);this.worker(i,s)}}},{key:"worker",value:function(e,i){var s=!0,o=!1,n=void 0;try{for(var r,a=i[Symbol.iterator]();!(s=(r=a.next()).done);s=!0){var l=r.value,h=t(l),c=!0,u=!1,p=void 0;try{for(var d,_=e[Symbol.iterator]();!(c=(d=_.next()).done);c=!0){var v=_slicedToArray(d.value,2),f=v[0],g=v[1];f(h,g)}}catch(t){u=!0,p=t}finally{try{!c&&_.return&&_.return()}finally{if(u)throw p}}}}catch(t){o=!0,n=t}finally{try{!s&&a.return&&a.return()}finally{if(o)throw n}}}}]),o}();i.Widgetize=new n,t.fn.widgetize=function(){return i.Widgetize.on(this),this},o.add(i.Widgetize.ready.bind(i.Widgetize))}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Readify),function(t,e,i,s,o,n){var r={instanciate:function(e,i,s){var o=e.config.name;return t.data(s,"instance."+o)||new e(i,s)},make:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=!0,n=!1,r=void 0;try{for(var a,l=this.makers.order[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var h=a.value;this.makers[h](t,e,i)}}catch(t){n=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw r}}},unmake:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=!0,o=!1,n=void 0;try{for(var r,a=this.unmakers.order[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){
var l=r.value;this.unmakers[l](t,e)}}catch(t){o=!0,n=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw n}}},makers:{order:["configure","namespace","ready","widgetize","plugin"],configure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.config=e},namespace:function(t,i,s){if(e.isObject(s)){var o=e.upperFirst(t.config.name);s[o]=t}},ready:function(t){o.add(t)},widgetize:function(t){n.add(t)},plugin:function(i){if(i.config.plugin){var s=i.config.name;t.fn[s]=function(t){for(var s=e.isString(t)&&"_"!==t.charAt(0),o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var l=!0,h=!1,c=void 0;try{for(var u,p=this[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,_=r.instanciate(i,t,d);if(s&&e.isFunction(_[t])){var v=_[t].apply(_,n);if(!e.isUndefined(v))return v}}}catch(t){h=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(h)throw c}}return this}}}},unmakers:{order:["plugin","widgetize","ready","namespace","configure"],configure:function(t){delete t.config},namespace:function(t,i){if(e.isObject(i)){var s=e.upperFirst(t.config.name);delete i[s]}},ready:function(t){o.remove(t)},widgetize:function(t){n.remove(t)},plugin:function(e){e.config.plugin&&delete t.fn[e.config.name]}}};i.Factory=r}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Readify,Svelto.Widgetize),function(t,e,i,s,o){var n=t("html"),r={enabled:s.is.desktop,history:[],historySize:3,init:function(){r.focus(n)},set:function(t){if(r.enabled&&(r.history.unshift(t),r.history=e.uniq(r.history).slice(0,r.historySize),t.focus(),t.setSelectionRange)){var i=function(){var e=2*t.value.length;return e?(setTimeout(function(){return t.setSelectionRange(e,e)},1),void(t.scrollTop=1e6)):{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}},find:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,s=arguments[1],o=i.find("[autofocus], .autofocus").filter(":visible");return e.isBoolean(s)&&(o=o.filter(function(e,i){return t.isFocused(i)===s})),o.length?o[0]:null},focus:function(e){if(r.enabled){var i=r.find(e);i&&!t.isFocused(i)&&r.set(i)}},blur:function(e){if(r.enabled&&r.history[0]&&t.contains(e[0],r.history[0])){var i=r.history.find(function(e){return t(e).is(":visible")})||r.find(n);i&&r.set(i)}}};i.Autofocus=r,o.add(r.init.bind(r))}(Svelto.$,Svelto._,Svelto,Svelto.Browser,Svelto.Readify),function(t,e,i,s){var o=function(){function s(){_classCallCheck(this,s),this.$stylesheet=t('<style class="svelto-embedded svelto-embedded-'+t.guid++ +'">'),this.tree={}}return _createClass(s,[{key:"_cssfy",value:function(){var t="";for(var i in this.tree)if(this.tree.hasOwnProperty(i)){if(t+=i+"{",e.isPlainObject(this.tree[i]))for(var s in this.tree[i])this.tree[i].hasOwnProperty(s)&&(t+=s+":"+this.tree[i][s]+";");else e.isString(this.tree[i])&&(t+=this.tree[i]+";");t+="}"}return t}},{key:"_refresh",value:function(){this.$stylesheet.text(this._cssfy())}},{key:"get",value:function(t){return this.tree[t]}},{key:"set",value:function(t,i,s){if(i===!1)return this.remove(t);if(e.isPlainObject(i))this.tree[t]=e.extend(e.isPlainObject(this.tree[t])?this.tree[t]:{},i);else if(e.isString(i)){if(s)return this.set(t,_defineProperty({},i,s));this.tree[t]=i}this._refresh()}},{key:"remove",value:function(t){t in this.tree&&(delete this.tree[t],this._refresh())}},{key:"clear",value:function(){e.size(this.tree)&&(this.tree={},this._refresh())}},{key:"attach",value:function(){this.$stylesheet.appendTo(i.$head)}},{key:"detach",value:function(){this.$stylesheet.remove()}}]),s}();i.EmbeddedCSS=new o,s.add(i.EmbeddedCSS.attach.bind(i.EmbeddedCSS))}(Svelto.$,Svelto._,Svelto,Svelto.Readify),function(t,e,i){var s={xxxxsmall:"xxxxsmall",xxxsmall:"xxxsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"};i.Sizes=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n,r,a,l,h){var c={name:"widget",plugin:!1,selector:!1,templates:{base:!1},options:{characters:{},regexes:{},messages:{error:"An error occurred, please try again later"},attributes:{},datas:{},classes:{disabled:"disabled",hidden:"hidden"},selectors:{layout:".layout, body"},animations:{},breakpoints:{up:{},down:{},only:{}},keyboard:!0,keystrokes:{},callbacks:{}}},u=function(){function s(n,r){if(_classCallCheck(this,s),e.extend(this,this._getConfig(n,r)),this.templatesNamespace=e.upperFirst(this.name),!(this.templatesNamespace in o)){o[this.templatesNamespace]={};var a={imports:{Svelto:i,Templates:o,self:o[this.templatesNamespace]},variable:"o"};for(var l in this.templates)this.templates.hasOwnProperty(l)&&this.templates[l]&&(o[this.templatesNamespace][l]=e.template(this.templates[l],a))}return this.$element=t(r||(this.templates.base?this._template("base",this.options):void 0)),this.element=this.$element[0],this.$layout=this.$element.length?this.$element.parent().closest(this.options.selectors.layout):t(this.options.selectors.layout).first(),this.$layout=this.$layout.length?this.$layout:t(this.options.selectors.layout).first(),this.layout=this.$layout[0],this.$window=i.$window,this.window=i.window,this.$document=i.$document,this.document=i.document,this.$html=i.$html,this.html=i.html,this.$body=i.$body,this.body=i.body,this.$bindings=t(),this.element&&t.data(this.element,"instance."+this.name,this),this.guid=t.guid++,this.guc=this.name+"-"+this.guid,this.eventNamespace=".swns-"+this.guid,this._locks={},this._lockQueues={},this._make()===!1?this.destroy():this._variables()===!1?this.destroy():this._init()===!1?this.destroy():this._events()===!1?this.destroy():(this.___breakpoint(),this.__breakpoint(),void this.___remove())}return _createClass(s,null,[{key:"widgetize",value:function(t,e){t[e.config.name]()}},{key:"ready",value:function(t){t()}},{key:"isReady",value:function(){return!!this._ready}},{key:"whenReady",value:function(t){var e=this.isReady||this.__proto__.isReady||s.isReady;e.bind(this)()?t():this._readyQueue.push(t)}},{key:"_initReady",value:function(){this._ready=!1,this._readyQueue=[]}},{key:"_setReady",value:function(){this._ready=!0;var t=!0,e=!1,i=void 0;try{for(var s,o=this._readyQueue[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var n=s.value;n()}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}this._readyQueue=[]}}]),_createClass(s,[{key:"_getConfig",value:function(i,s){for(var o=[],n=Object.getPrototypeOf(this);n;)n.constructor.config&&o.push(n.constructor.config),n=Object.getPrototypeOf(n);if(o.push({}),o.reverse(),s){var r=t(s),a=e.last(o).name.toLowerCase(),l=r.data("options"),h=r.data(a+"-options");l&&o.push({options:l}),h&&o.push({options:h})}e.isPlainObject(i)&&o.push({options:i});var c=this._createOptions();return e.isPlainObject(c)&&o.push({options:c}),e.merge.apply(e,o)}},{key:"_createOptions",value:function(){}},{key:"destroy",value:function(){this._reset(),this._destroy(),this.element&&this.$element.removeData("instance."+this.name)}},{key:"_destroy",value:function(){}},{key:"_make",value:function(){}},{key:"_variables",value:function(){}},{key:"_init",value:function(){}},{key:"_events",value:function(){}},{key:"_reset",value:function(){this.$bindings.off(this.eventNamespace)}},{key:"widget",value:function(){return this.$element}},{key:"instance",value:function(){return this}},{key:"option",value:function(t,i){if(!t)return e.cloneDeep(this.options);if(e.isString(t)){if(e.isUndefined(i))return e.cloneDeep(e.get(this.options,t));this._setOption(t,i)}else if(e.isPlainObject(t))for(var s in t)t.hasOwnProperty(s)&&this._setOption(t,i)}},{key:"_setOption",value:function(t,i){e.set(this.options,t,i)}},{key:"enable",value:function(){this.$element.removeClass(this.options.classes.disabled)}},{key:"isEnabled",value:function(){return!this.isDisabled()}},{key:"disable",value:function(){this.$element.addClass(this.options.classes.disabled)}},{key:"isDisabled",value:function(){return this.$element.hasClass(this.options.classes.disabled)}},{key:"lock",value:function(t){this._locks[t]=!0}},{key:"unlock",value:function(t){if(delete this._locks[t],this._lockQueues[t]){var e=!0,i=!1,s=void 0;try{for(var o,n=this._lockQueues[t][Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var r=o.value;r()}}catch(t){i=!0,s=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw s}}delete this._lockQueues[t]}}},{key:"isLocked",value:function(t){return!!this._locks[t]}},{key:"whenUnlocked",value:function(t,e){e||(e=t,t=void 0),this.isLocked(t)?(this._lockQueues[t]||(this._lockQueues[t]=[]),this._lockQueues[t].push(e)):e()}},{key:"_on",value:function(i,s,o,n,r,a){var l=this;e.isBoolean(i)||(a=r,r=n,n=o,o=s,s=i,i=!1),s instanceof t||(a=r,r=n,n=o,o=s,s=this.$element),e.isString(n)||(a=r,r=n,n=!1),this.$bindings=this.$bindings.add(s);var h=function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];if(i||!l.$element.hasClass(l.options.classes.disabled))return r.apply(l,e)};h.guid=r.guid=r.guid||t.guid++,o=t.eventNamespacer(o,this.eventNamespace),s[a?"one":"on"](o,n,h)}},{key:"_one",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._on.apply(this,e.concat([!0]))}},{key:"_onHover",value:function(t,e){var i=this;e||(e=t,t=this.$element),this.$bindings=this.$bindings.add(t),this._on(t,r.enter,function(){return i._on.apply(i,_toConsumableArray(e))}),this._on(t,r.leave,function(){return i._off.apply(i,_toConsumableArray(e))})}},{key:"_off",value:function(e,i,s){s||e instanceof t||(s=i,i=e,e=this.$element),i=t.eventNamespacer(i,this.eventNamespace),e.off(i,s)}},{key:"_trigger",value:function(e,i,s){s||(i instanceof t.Event?s={}:(s=i||{},i=void 0)),i=t.Event(i),i.type=(this.name+":"+e).toLowerCase(),i.target=this.element;var o=i.originalEvent;if(o)for(var n in o)o.hasOwnProperty(n)&&(n in i||(i[n]=o[n]));return this.$element.trigger(i,s),!(this.options.callbacks[e].apply(this.element,[i].concat(s))===!1||i.isDefaultPrevented())}},{key:"___route",value:function(){this._on(!0,this.$window,"route",this.__route)}},{key:"___breakpoint",value:function(){this._on(!0,this.$window,"breakpoint:change",this.__breakpoint)}},{key:"__breakpoint",value:function(){var t=l.widths[h.current];for(var e in this.options.breakpoints.up)this.options.breakpoints.up.hasOwnProperty(e)&&t>=l.widths[e]&&this[this.options.breakpoints.up[e]]();for(var i in this.options.breakpoints.down)this.options.breakpoints.down.hasOwnProperty(i)&&t<=l.widths[i]&&this[this.options.breakpoints.down[i]]();for(var s in this.options.breakpoints.only)this.options.breakpoints.only.hasOwnProperty(s)&&t===l.widths[s]&&this[this.options.breakpoints.only[s]]()}},{key:"___keydown",value:function(){this._on(this.$document,"keydown",this.__keydown)}},{key:"__keydown",value:function(t){if(this.options.keyboard)for(var i in this.options.keystrokes)if(this.options.keystrokes.hasOwnProperty(i)){var s=!0,o=!1,n=void 0;try{for(var r,l=i.split(",")[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var h=r.value;if(a.keystroke.match(t,h)){var c=this.options.keystrokes[i],u=e.isArray(c)?c[0]:c,p=e.isArray(c)?e.castArray(c[1]):[];return void(this[u].apply(this,p)!==!1&&(t.preventDefault(),t.stopImmediatePropagation()))}}}catch(t){o=!0,n=t}finally{try{!s&&l.return&&l.return()}finally{if(o)throw n}}}}},{key:"___remove",value:function(){this.element&&this._on(!0,"remove",this.__remove)}},{key:"__remove",value:function(t){t&&t.target!==this.element||this.destroy()}},{key:"_delay",value:function(t,e){var i=this;return setTimeout(function(){return t.apply(i)},e||0)}},{key:"_defer",value:function(t){return this._delay(t)}},{key:"_frame",value:function(t){return requestAnimationFrame(t.bind(this))}},{key:"_throw",value:function(t){throw new Error(t)}},{key:"_throttle",value:function(i,s,o){var n=e.throttle(i,s,o);return n.guid=i.guid=i.guid||t.guid++,n}},{key:"_debounce",value:function(i,s,o){var n=e.debounce(i,s,o);return n.guid=i.guid=i.guid||t.guid++,n}},{key:"_frames",value:function(e,i){if(i)return this._throttle(e,1e3/i);var s=void 0,o=void 0,n=this,r=function(){s=!1,e.apply(n,o)},a=function(){s||(s=!0,o=arguments,requestAnimationFrame(r))};return a.guid=e.guid=e.guid||t.guid++,a}},{key:"_template",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o[this.templatesNamespace][t](e)}},{key:"before",value:function(){var t;(t=this.$element).before.apply(t,arguments)}},{key:"insertBefore",value:function(t){this.$element.insertBefore(t)}},{key:"after",value:function(){var t;(t=this.$element).after.apply(t,arguments)}},{key:"insertAfter",value:function(t){this.$element.insertAfter(t)}},{key:"prependTo",value:function(t){this.$element.prependTo(t)}},{key:"appendTo",value:function(t){this.$element.appendTo(t)}}]),s}();n.make(u,c)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Templates,Svelto.Factory,Svelto.Pointer,Svelto.Keyboard,Svelto.Breakpoints,Svelto.Breakpoint),function(t,e,i,s,o,n){var r={name:"autofocusable"},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"autofocus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$element;n.focus(t)}},{key:"autoblur",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$element;n.blur(t)}}]),e}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Autofocus),function(t,e,i,s,o,n){var r={name:"expander",plugin:!0,selector:".expander",options:{classes:{open:"open"},selectors:{content:".expander-content"},animations:{open:n.normal,close:n.normal},callbacks:{open:e.noop,close:e.noop}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$expander=this.$element,this.$content=this.$expander.find(this.options.selectors.content),this._isOpen=this.$expander.hasClass(this.options.classes.open)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isOpen;!!t!==this._isOpen&&(this._isOpen=!!t,this.$expander.toggleClass(this.options.classes.open,this._isOpen),this._isOpen?this.autofocus():this.autoblur(),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),e}(s.Autofocusable);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s,o){var n={name:"accordion",plugin:!0,selector:".accordion",options:{multiple:!1,selectors:{expander:s.Expander.config.selector},callbacks:{open:e.noop,close:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(this.options.selectors.expander),this.instances=this.$expanders.get().map(function(e){return t(e).expander("instance")})}},{key:"_events",value:function(){this.___open(),this.___close()}},{key:"___open",value:function(){this._on(!0,this.$expanders,"expander:open",this.__open)}},{key:"__open",value:function(t){this._trigger("open",{index:this.$expanders.index(t.target)}),this.__multiple(t.target)}},{key:"___close",value:function(){this._on(!0,this.$expanders,"expander:close",this.__close)}},{key:"__close",value:function(t){this._trigger("close",{index:this.$expanders.index(t.target)})}},{key:"__multiple",value:function(t){this.options.multiple||this.instances.forEach(function(e){return e.element!==t&&e.close()})}},{key:"enable",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"enable",this).call(this),e.invokeMap(this.instances,"enable")}},{key:"disable",value:function(){e.invokeMap(this.instances,"disable")}},{key:"isOpen",value:function(t){return this.instances[t].isOpen()}},{key:"toggle",value:function(t,e){this.instances[t].toggle(e)}},{key:"open",value:function(t){this.toggle(t,!0)}},{key:"close",value:function(t){this.toggle(t,!1)}}]),s}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"flippable",plugin:!0,selector:".flippable",options:{classes:{flip:"flipped"},selectors:{front:".flippable-front",back:".flippable-back"},callbacks:{front:e.noop,back:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$flippable=this.$element,this.$front=this.$flippable.find(this.options.selectors.front),this.$back=this.$flippable.find(this.options.selectors.back),this._isFlipped=this.$flippable.hasClass(this.options.classes.flip)}},{key:"isFlipped",value:function(){return this._isFlipped}},{key:"flip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isFlipped;!!t!==this._isFlipped&&(this._isFlipped=t,this.$flippable.toggleClass(this.options.classes.flip,this._isFlipped),this.autoblur(this._isFlipped?this.$front:this.$back),this.autofocus(this._isFlipped?this.$back:this.$front),this._trigger(this._isFlipped?"back":"front"))}},{key:"front",value:function(){this.flip(!1)}},{key:"back",value:function(){this.flip(!0)}}]),e}(s.Autofocusable);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r){var a={name:"modal",plugin:!0,selector:".modal",options:{scroll:{disable:!0},classes:{show:"show",open:"open",backdrop:{show:"modal-backdrop obscured-show obscured",open:"obscured-open"}},animations:{open:r.normal,close:r.normal},keystrokes:{esc:"close"},callbacks:{beforeopen:e.noop,open:e.noop,beforeclose:e.noop,close:e.noop}}},l=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$modal=this.$element,this.modal=this.element,this.$backdrop=this.$html,this._isOpen=this.$modal.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._isOpen&&(this.___keydown(),this.___tap(),this.___route())}},{key:"_destroy",value:function(){this.close()}},{key:"___tap",value:function(){this._on(!0,this.$html,n.tap,this.__tap)}},{key:"__tap",value:function(e){this.isLocked()||e.isDefaultPrevented()||!t.isAttached(e.target)||t(e.target).closest(this.$modal).length||(e.preventDefault(),e.stopImmediatePropagation(),this.close())}},{key:"__route",value:function(){this._isOpen&&!t.isAttached(this.modal)&&this.close()}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isOpen;!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this.isLocked()||this._isOpen||(this.lock(),this._isOpen=!0,this._trigger("beforeopen"),this.options.scroll.disable&&this.$layout.disableScroll(),this._frame(function(){this.$modal.addClass(this.options.classes.show),this.$backdrop.addClass(this.options.classes.backdrop.show),this._frame(function(){this.$modal.addClass(this.options.classes.open),this.$backdrop.addClass(this.options.classes.backdrop.open),this.autofocus(),this.unlock(),this._trigger("open")})}),this.___keydown(),this.___tap(),this.___route())}},{key:"close",value:function(){!this.isLocked()&&this._isOpen&&(this.lock(),this._isOpen=!1,this._trigger("beforeclose"),this._frame(function(){this.$modal.removeClass(this.options.classes.open),this.$backdrop.removeClass(this.options.classes.backdrop.open),this._delay(function(){this.$modal.removeClass(this.options.classes.show),this.$backdrop.removeClass(this.options.classes.backdrop.show),this.autoblur(),this.options.scroll.disable&&this.$layout.enableScroll(),this.unlock(),this._trigger("close")},this.options.animations.close)}),this._reset())}}]),i}(s.Autofocusable);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,o,n){var r={name:"overlay",plugin:!0,selector:".overlay",options:{classes:{show:"show",open:"open",parent:{show:"overlay-parent-show",open:"overlay-parent-open"}},animations:{open:n.fast,close:n.fast},keystrokes:{esc:"close"},callbacks:{open:e.noop,close:e.noop}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$overlay=this.$element,this._isOpen=this.$overlay.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._isOpen&&this.___keydown()}},{key:"_destroy",value:function(){this.close()}},{key:"_getParent",value:function(){return this.$parent||(this.$parent=this.$overlay.parent()),this.$parent}},{key:"___keydown",value:function(){this._onHover(!0,[this.$document,"keydown",this.__keydown])}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isOpen;!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this.isLocked()||this._isOpen||(this.lock(),this._isOpen=!0,this._frame(function(){this.$overlay.addClass(this.options.classes.show),this._getParent().addClass(this.options.classes.parent.show),this._frame(function(){this.$overlay.addClass(this.options.classes.open),this._getParent().addClass(this.options.classes.parent.open),this.autofocus(),this.unlock(),this._trigger("open")})}),this.___keydown())}},{key:"close",value:function(){!this.isLocked()&&this._isOpen&&(this.lock(),this._isOpen=!1,this._frame(function(){this.$overlay.removeClass(this.options.classes.open),this._getParent().removeClass(this.options.classes.parent.open),this._delay(function(){this.$overlay.removeClass(this.options.classes.show),this._getParent().removeClass(this.options.classes.parent.show),this.autoblur(),this.unlock(),this._trigger("close")},this.options.animations.close)}),this._reset())}}]),e}(s.Autofocusable);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s,o,n){var r={name:"spinnerOverlay",plugin:!0,templates:{overlay:'<div class="overlay spinner-overlay <%= o.dimmer ? "dimmer" : "" %>"><% if ( o.labeled ) { %><div class="spinner-label <%= o.colors.labeled %>"><% } %><svg class="spinner <%= ( o.multicolor ? "multicolor" : ( o.labeled ? "" : o.unlabeled ) ) %>"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg><% if ( o.labeled ) { %></div><% } %></div>'},options:{labeled:!0,dimmer:!0,multicolor:!1,colors:{labeled:n.white,unlabeled:n.secondary},callbacks:{open:e.noop,close:e.noop}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$overlayed=this.$element,this.$overlay=t(this._template("overlay",this.options)),this.instance=this.$overlay.overlay("instance")}},{key:"isOpen",value:function(){return this.instance.isOpen()}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isOpen();!!t!==this.isOpen()&&this[t?"open":"close"]()}},{key:"open",value:function(){this.isLocked()||this.isOpen()||(this.$overlay.prependTo(this.$overlayed),this.instance.open(),this._trigger("open"))}},{key:"close",value:function(){!this.isLocked()&&this.isOpen()&&(this.lock(),this.instance.close(),this._delay(function(){this.$overlay.detach(),this.unlock(),this._trigger("close")},s.Overlay.config.options.animations.close))}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Colors),function(t,e,i,s,o,n){if(n){var r={name:"chart",plugin:!0,selector:"canvas.chart",options:{defaults:{type:"line",colors:["#1565c0"],labels:["Dataset"],datas:[[]]},datas:{type:"type",colors:"colors",labels:"labels",datas:"datas"}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$chart=this.$element,this.chart=this.element;var t=["type","colors","labels","datas"],i=!0,s=!1,o=void 0;try{for(var n,r=t[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value;this[a]=this.$chart.data(this.options.datas[a])||this.options.defaults[a]}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}e.isArray(this.datas[0])||(this.datas=[this.datas])}},{key:"_init",value:function(){var t=this._getSettings();this.instance=new n(this.chart,t)}},{key:"_getSettings",value:function(){var t=this;return{type:this.type,data:{labels:this.datas[0].map(function(t,e){return e+1}),datasets:e.map(this.labels,function(e,i){return{label:e,data:t.datas[i],backgroundColor:t.colors[i]}})}}}}]),i}(s.Widget);o.make(a,r)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,window.Chart),function(t,e,i,s,o,n){var r={name:"checkbox",plugin:!0,selector:".checkbox",options:{selectors:{input:'input[type="checkbox"]'}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$checkbox=this.$element,this.$input=this.$checkbox.find(this.options.selectors.input),this.input=this.$input[0],this.inputId=this.$input.attr("id")}},{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this._on(!0,n.tap,this.__tap)}},{key:"__tap",value:function(e){e.target===this.input||t(e.target).is('label[for="'+this.inputId+'"]')||this.$input.prop("checked",!this.$input.prop("checked")).trigger("change")}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"radio",plugin:!0,selector:".radio",options:{selectors:{input:'input[type="radio"]'}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"__tap",value:function(e){e.target===this.input||t(e.target).is('label[for="'+this.inputId+'"]')||this.$input.prop("checked")||this.$input.prop("checked",!0).trigger("change")}}]),i}(s.Checkbox);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r){var a=e.filter(e.values(n),e.isString),l=[],h=!0,c=!1,u=void 0;try{for(var p,d=a[Symbol.iterator]();!(h=(p=d.next()).done);h=!0){var _=p.value;l.push(_+"-up"),l.push(_+"-down"),l.push(_+"-only"),l.push(_)}}catch(t){c=!0,u=t}finally{try{!h&&d.return&&d.return()}finally{if(c)throw u}}var v=l.map(function(t){return"[data-"+t+"]"}).join(","),f={name:"classSwitch",plugin:!0,selector:v,options:{switch:{up:{},down:{},only:{}}}},g=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_init",value:function(){this.status={up:{},down:{},only:{}},this._populate(),this.__classSwitch()}},{key:"_events",value:function(){this.___classSwitch()}},{key:"_populateBreakpoint",value:function(t){var i=n[t],s=this.$element.data(i+"-up");e.isString(s)&&(this.options.switch.up[t]=s);var o=this.$element.data(i+"-down");e.isString(o)&&(this.options.switch.down[t]=o);var r=this.$element.data(i+"-only"),a=this.$element.data(i),l=e.isString(r)?r:e.isString(a)?a:void 0;e.isString(l)&&(this.options.switch.only[t]=l)}},{key:"_populate",value:function(){for(var t in n)n.hasOwnProperty(t)&&e.isString(n[t])&&this._populateBreakpoint(t)}},{key:"_getStatus",value:function(){var t={up:{},down:{},only:{}},e=n.widths[r.current];for(var i in this.options.switch.up)if(this.options.switch.up.hasOwnProperty(i)){var s=e>=n.widths[i];t.up[i]=s}for(var o in this.options.switch.down)if(this.options.switch.down.hasOwnProperty(o)){var a=e<=n.widths[o];t.down[o]=a}for(var l in this.options.switch.only)if(this.options.switch.only.hasOwnProperty(l)){var h=e===n.widths[l];t.only[l]=h}return t}},{key:"_getDeltaStatus",value:function(t,e){var i={up:{},down:{},only:{}};for(var s in e)if(e.hasOwnProperty(s))for(var o in e[s])e[s].hasOwnProperty(o)&&!!t[s][o]!=!!e[s][o]&&(i[s][o]=!!e[s][o]);return i}},{key:"___classSwitch",value:function(){this._on(!0,this.$window,"breakpoint:change",this.__classSwitch)}},{key:"__classSwitch",value:function(){var t=this._getStatus(),e=this._getDeltaStatus(this.status,t);for(var i in e)if(e.hasOwnProperty(i))for(var s in e[i])e[i].hasOwnProperty(s)&&this.$element.toggleClass(this.options.switch[i][s],e[i][s]);this.status=t}}]),i}(s.Widget);o.make(g,f)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Breakpoints,Svelto.Breakpoint),function(t,e,i,s,o,n){var r={name:"datepicker",plugin:!0,selector:".datepicker",options:{exporters:{YYYYMMDD:function(t,i){return[e.padStart(t.getUTCFullYear(),4,0),e.padStart(parseInt(t.getUTCMonth(),10)+1,2,0),e.padStart(t.getUTCDate(),2,0)].join(i.separator)},UNIXTIMESTAMP:function(t){return Math.floor(t.getTime()/1e3)},ISO:function(t){return t.toISOString()},UTC:function(t){return t.toUTCString()}},importers:{YYYYMMDD:function(t,e){var i=t.split(e.separator);return new Date(Date.UTC(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10)))},UNIXTIMESTAMP:function(t){return new Date(e.isString(t)&&t.length?1e3*t:NaN)},ISO:function(t){return new Date(t)},UTC:function(t){return new Date(t)}},months:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDayOfWeek:0,date:{min:!1,max:!1,today:!1,current:!1,selected:!1},format:{type:"UNIXTIMESTAMP",data:{separator:"/"}},classes:{today:"datepicker-day-today",selected:"datepicker-day-selected",clamped:"datepicker-day-clamped"},selectors:{navigation:{previous:".datepicker-navigation .previous",next:".datepicker-navigation .next",today:".datepicker-navigation .today"},day:{previous:".datepicker-days .previous",current:".datepicker-days :not(.previous):not(.next)",next:".datepicker-days .next",today:".datepicker-day-today",selected:".datepicker-day-selected",clamped:".datepicker-day-clamped"},title:".datepicker-title",input:"input"},keystrokes:{"up, left":"previousMonth","right, down":"nextMonth"},callbacks:{change:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$datepicker=this.$element,this.$input=this.$datepicker.find(this.options.selectors.input),this.$navigationPrev=this.$datepicker.find(this.options.selectors.navigation.previous),this.$navigationNext=this.$datepicker.find(this.options.selectors.navigation.next),this.$navigationToday=this.$datepicker.find(this.options.selectors.navigation.today),this.$navigationTitle=this.$datepicker.find(this.options.selectors.title),this.$daysPrev=this.$datepicker.find(this.options.selectors.day.previous),this.$daysCurrent=this.$datepicker.find(this.options.selectors.day.current),this.$daysNext=this.$datepicker.find(this.options.selectors.day.next),this.$daysAll=this.$daysPrev.add(this.$daysCurrent).add(this.$daysNext),this.$daySelected=this.$daysAll.filter(this.options.selectors.day.selected),this.$dayToday=this.$daysAll.filter(this.options.selectors.day.today)}},{key:"_init",value:function(){this._unhighlightSelected(),
this._unhighlightToday(),this.options.date.today instanceof Date||(this.options.date.today=new Date),this.set(this.$input.val()),this.options.date.current=this._clampDate(this.options.date.current||this.options.date.selected||this.options.date.today),this._refresh()}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___navigation(),this.___dayTap()}},{key:"_cloneDate",value:function(t){return new Date(t.getTime())}},{key:"_clampDate",value:function(t){return new Date(e.clamp(t.getTime(),this.options.date.min?this.options.date.min.getTime():void 0,this.options.date.max?this.options.date.max.getTime():void 0))}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(t,e){e&&e._datepickerId===this.guid||this.set(this.$input.val())}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___navigation",value:function(){this._on(this.$navigationPrev,n.tap,e.wrap("previousMonth",this.__navigation)),this._on(this.$navigationNext,n.tap,e.wrap("nextMonth",this.__navigation)),this._on(this.$navigationToday,n.tap,e.wrap("navigateToToday",this.__navigation))}},{key:"__navigation",value:function(t,e){e.preventDefault(),e.stopImmediatePropagation(),this[t]()}},{key:"___dayTap",value:function(){this._on(n.tap,this.options.selectors.day.current,this.__dayTap)}},{key:"__dayTap",value:function(e){var i=t(e.currentTarget);if(!i.is(this.options.selectors.day.selected)&&!i.is(this.options.selectors.day.clamped)){var s=parseInt(i.text(),10),o=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),s,12);this.set(o)}}},{key:"_buildCalendar",value:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,i-=this.options.firstDayOfWeek%7,i=i<0?7+i:i;var s=31-t,o=i,n=9-s-o;this.$daysPrev.slice(0,n).addClass(this.options.classes.hidden),this.$daysPrev.slice(n,n+o).removeClass(this.options.classes.hidden),this.$daysPrev.slice(n+o).addClass(this.options.classes.hidden),this.$daysCurrent.slice(28,e).removeClass(this.options.classes.hidden),this.$daysCurrent.slice(e).addClass(this.options.classes.hidden),this.$daysCurrent.removeClass(this.options.classes.clamped),this.options.date.min&&this.options.date.current.getFullYear()===this.options.date.min.getFullYear()&&this.options.date.current.getMonth()===this.options.date.min.getMonth()&&this.$daysCurrent.slice(0,this.options.date.min.getDate()-1).addClass(this.options.classes.clamped),this.options.date.max&&this.options.date.current.getFullYear()===this.options.date.max.getFullYear()&&this.options.date.current.getMonth()===this.options.date.max.getMonth()&&this.$daysCurrent.slice(this.options.date.max.getDate()).addClass(this.options.classes.clamped),o=(e+i)%7,o=0===o?0:7-o,this.$daysNext.slice(0,o).removeClass(this.options.classes.hidden),this.$daysNext.slice(o).addClass(this.options.classes.hidden)}},{key:"_highlightDay",value:function(t,e){if(t instanceof Date){var i=12*t.getFullYear()+t.getMonth()-(12*this.options.date.current.getFullYear()+this.options.date.current.getMonth());switch(i){case-1:return this.$daysPrev.eq(t.getDate()-23).addClass(e);case 0:return this.$daysCurrent.eq(t.getDate()-1).addClass(e);case 1:return this.$daysNext.eq(t.getDate()-1).addClass(e)}}return!1}},{key:"_unhighlightSelected",value:function(){this.$daySelected.length&&this.$daySelected.removeClass(this.options.classes.selected)}},{key:"_highlightSelected",value:function(){this.options.date.selected&&(this.$daySelected=this._highlightDay(this.options.date.selected,this.options.classes.selected))}},{key:"_unhighlightToday",value:function(){this.$dayToday.length&&this.$dayToday.removeClass(this.options.classes.today)}},{key:"_highlightToday",value:function(){this.options.date.today&&(this.$dayToday=this._highlightDay(this.options.date.today,this.options.classes.today))}},{key:"_updateNavigation",value:function(){if(this.options.date.min&&this.$navigationPrev.length){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0);this.$navigationPrev.toggleClass(this.options.classes.disabled,t.getTime()<this.options.date.min.getTime())}if(this.options.date.max&&this.$navigationNext.length){var e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,1);this.$navigationNext.toggleClass(this.options.classes.disabled,e.getTime()>this.options.date.max.getTime())}this.$navigationToday.length&&this.$navigationToday.toggleClass(this.options.classes.disabled,this.options.date.current.getFullYear()===this.options.date.today.getFullYear()&&this.options.date.current.getMonth()===this.options.date.today.getMonth())}},{key:"_updateTitle",value:function(){this.$navigationTitle.text(this.options.months[this.options.date.current.getMonth()]+" "+this.options.date.current.getFullYear())}},{key:"_updateInput",value:function(){this.options.date.selected&&this.$input.val(this._export(this.options.date.selected)).trigger("change",{_datepickerId:this.guid})}},{key:"_export",value:function(t){return this.options.exporters[this.options.format.type](t,this.options.format.data)}},{key:"_import",value:function(t){return this.options.importers[this.options.format.type](t,this.options.format.data)}},{key:"_refresh",value:function(){this._unhighlightSelected(),this._unhighlightToday(),this._buildCalendar(),this._updateNavigation(),this._highlightSelected(),this._highlightToday(),this._updateTitle()}},{key:"get",value:function(t){return!!this.options.date.selected&&(t?this._export(this.options.date.selected):this._cloneDate(this.options.date.selected))}},{key:"set",value:function(t){t=t instanceof Date?t:this._import(t),e.isNaN(t.valueOf())||(t=this._clampDate(t),this.options.date.selected&&t.getTime()===this.options.date.selected.getTime()||(this.options.date.selected&&this._unhighlightSelected(),this.options.date.selected=t,this.options.date.current&&(this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?this._highlightSelected():(this.options.date.current=this._cloneDate(this.options.date.selected),this._refresh())),this._updateInput(),this._trigger("change")))}},{key:"navigateToToday",value:function(){this.options.date.current.getFullYear()===this.options.date.today.getFullYear()&&this.options.date.current.getMonth()===this.options.date.today.getMonth()||(this.options.date.current=this._clampDate(this.options.date.today),this._refresh())}},{key:"navigateMonth",value:function(t){e.isNaN(t)||(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this.options.date.current=this._clampDate(this.options.date.current),this._refresh())}},{key:"previousMonth",value:function(){this.navigateMonth(-1)}},{key:"nextMonth",value:function(){this.navigateMonth(1)}}]),s}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r,a,l){var h={name:"draggable",plugin:!0,selector:".draggable",options:{draggable:e.true,threshold:{touch:function(){return this.options.axis?0:5},mouse:0},tolerance:{touch:0,mouse:5},onlyHandlers:!1,revert:!1,axis:!1,$helper:!1,proxy:{$element:!1,noMotion:!0},constrainer:{$element:!1,center:!1,tolerance:{x:0,y:0}},modifiers:{x:e.true,y:e.true},scroll:{active:!1,speed:20,sensitivity:50},classes:{dragging:"draggable-dragging",reverting:"draggable-reverting",layout:{dragging:"draggable-layout-dragging"}},selectors:{handler:".draggable-handler"},animations:{revert:n.fast},callbacks:{start:e.noop,move:e.noop,end:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.draggable=this.element,this.$draggable=this.$element,this.$handlers=this.options.onlyHandlers?this.$draggable.find(this.options.selectors.handler):this.$draggable,this.__doMove=this._frames(this.__doMove)}},{key:"_events",value:function(){this.___down(),this.___proxy()}},{key:"_getThreshold",value:function(){var t=this.isTouch?this.options.threshold.touch:this.options.threshold.mouse;return e.isFunction(t)?t.call(this):t}},{key:"_getTolerance",value:function(){var t=this.isTouch?this.options.tolerance.touch:this.options.tolerance.mouse;return e.isFunction(t)?t.call(this):t}},{key:"___down",value:function(){this._on(this.$handlers,a.down,this.__down)}},{key:"___proxy",value:function(){this.options.proxy.$element&&this._on(this.options.proxy.$element,a.down,this.__down)}},{key:"_centerToPoint",value:function(t,e){var i=this.$movable.offset(),s={x:t.x-(i.left+this.$movable.outerWidth()/2),y:t.y-(i.top+this.$movable.outerHeight()/2)};return this._actionMove(s,e)}},{key:"_actionMove",value:function(t,i){if(this.initialXY=this.initialXY||this.$movable.translate(),!this.inited){if(this.inited=!0,this.options.constrainer.$element){var s=this.options.constrainer.$element[0]===window?{top:this.$window.scrollTop(),left:this.$window.scrollLeft()}:this.options.constrainer.$element.offset(),o=this.$movable.offset();if("y"!==this.options.axis){var n=this.options.constrainer.center?this.$movable.outerWidth()/2:0;this.translateX_min=s.left-(o.left-this.initialXY.x)-n,this.translateX_max=s.left+this.options.constrainer.$element.outerWidth()-(o.left-this.initialXY.x+this.$movable.outerWidth())+n}if("x"!==this.options.axis){var r=this.options.constrainer.center?this.$movable.outerHeight()/2:0;this.translateY_min=s.top-(o.top-this.initialXY.y)-r,this.translateY_max=s.top+this.options.constrainer.$element.outerHeight()-(o.top-this.initialXY.y+this.$movable.outerHeight())+r}}i||this._addClasses()}var a=this.initialXY.x,l=this.initialXY.y;"y"!==this.options.axis&&(a+=t.x,this.options.constrainer.$element&&(a=e.clamp(a,this.translateX_min-this.options.constrainer.tolerance.x,this.translateX_max+this.options.constrainer.tolerance.x))),"x"!==this.options.axis&&(l+=t.y,this.options.constrainer.$element&&(l=e.clamp(l,this.translateY_min-this.options.constrainer.tolerance.y,this.translateY_max+this.options.constrainer.tolerance.y)));var h={x:"y"!==this.options.axis&&this.options.modifiers.x(a),y:"x"!==this.options.axis&&this.options.modifiers.y(l)};if(h.x===!1&&h.y===!1)return this.initialXY;var c={x:e.isBoolean(h.x)?h.x?a:this.initialXY.x:h.x,y:e.isBoolean(h.y)?h.y?l:this.initialXY.y:h.y};return this.$movable.translate(c.x,c.y),this.motion=!0,c}},{key:"_toggleClasses",value:function(t){this.$layout.toggleClass(this.options.classes.layout.dragging,t),this.$movable.toggleClass(this.options.classes.dragging,t)}},{key:"_addClasses",value:function(){this._toggleClasses(!0)}},{key:"_removeClasses",value:function(){this._toggleClasses(!1)}},{key:"_getHelper",value:function(i){return e.isFunction(this.options.$helper)?this.options.$helper(i):!!(this.options.$helper instanceof t&&this.options.$helper.length)&&this.options.$helper}},{key:"_initHelper",value:function(){this.$helper.appendTo(this.$layout)}},{key:"_destroyHelper",value:function(){this.$helper.remove()}},{key:"_autoscroll",value:function(t){if(this.options.scroll.active)if(this.scrollInited||(this.$scrollParent=this.$movable.scrollParent(),this.scrollParent=this.$scrollParent[0],this.scrollParentIsDocument=this.scrollParent===document||"HTML"===this.scrollParent.tagName,this.scrollInited=!0),this.scrollParentIsDocument){if("x"!==this.options.axis){var e=this.$document.scrollTop();t.y-e<=this.options.scroll.sensitivity?this.$document.scrollTop(e-this.options.scroll.speed):this.$window.height()-(t.y-e)<=this.options.scroll.sensitivity&&this.$document.scrollTop(e+this.options.scroll.speed)}if("y"!==this.options.axis){var i=this.$document.scrollLeft();t.x-i<=this.options.scroll.sensitivity?this.$document.scrollLeft(i-this.options.scroll.speed):this.$window.width()-(t.x-i)<=this.options.scroll.sensitivity&&this.$document.scrollLeft(i+this.options.scroll.speed)}}else{var s=this.$scrollParent.offset();"x"!==this.options.axis&&(s.top+this.scrollParent.offsetHeight-t.y<=this.options.scroll.sensitivity?this.scrollParent.scrollTop+=this.options.scroll.speed:t.y-s.top<=this.options.scroll.sensitivity&&(this.scrollParent.scrollTop-=this.options.scroll.speed)),"y"!==this.options.axis&&(s.left+this.scrollParent.offsetWidth-t.x<=this.options.scroll.sensitivity?this.scrollParent.scrollLeft+=this.options.scroll.speed:t.x-s.left<=this.options.scroll.sensitivity&&(this.scrollParent.scrollLeft-=this.options.scroll.speed))}}},{key:"_revert",value:function(){this.lock(),this._frame(function(){this.$movable.addClass(this.options.classes.reverting),this._frame(function(){this.$movable.translate(this.initialXY.x,this.initialXY.y),this._delay(function(){this.$movable.removeClass(this.options.classes.reverting),this.$helper&&this._destroyHelper(),this.unlock()},this.options.animations.revert)})})}},{key:"__click",value:function(t){this.motion&&(t.preventDefault(),t.stopImmediatePropagation())}},{key:"__dragStart",value:function(t){t.preventDefault(),t.stopImmediatePropagation()}},{key:"__down",value:function(e){this.isLocked()||!this.options.draggable(this)||l.hasButton(e,l.buttons.RIGHT)||(e.stopImmediatePropagation(),this.inited=!1,this.motion=!1,this.skippable=!0,this.scrollInited=!1,this.ended=!1,this.$helper=this._getHelper(this.$draggable),this.helper=!!this.$helper&&this.$helper[0],this.$movable=this.$helper||this.$draggable,this.startEvent=e,this.startXY=t.eventXY(e),this.isProxyed=this.options.proxy.$element&&e.currentTarget===this.options.proxy.$element[0],this.initialXY=!1,this._trigger("start",{draggable:this.draggable,helper:this.helper,isProxyed:this.isProxyed,startEvent:this.startEvent,startXY:this.startXY}),this._on(!0,this.$document,a.move,this.__move),this._one(!0,this.$document,a.up,this.__up),this._one(!0,this.$document,a.cancel,this.__cancel),this._one(!0,a.click,this.__click),this._one(!0,this.$document,"dragstart",this.__dragStart))}},{key:"__move",value:function(e){if(this.moveEvent=e,this.moveXY=t.eventXY(e),this.deltaXY={x:this.moveXY.x-this.startXY.x,y:this.moveXY.y-this.startXY.y},this.skippable){this.isTouch=a.isTouchEvent(e);var i=Math.abs(this.deltaXY.x),s=Math.abs(this.deltaXY.y);if(this.options.axis){var o=this._getTolerance(),n="x"===this.options.axis&&s>o&&s>i||"y"===this.options.axis&&i>o&&i>s;if(n)return this._off(this.$document,a.move,this.__move)}var r=this._getThreshold();switch(this.options.axis){case"x":if(i<r)return;break;case"y":if(s<r)return;break;default:if(i<r&&s<r)return}this.skippable=!1}e.preventDefault(),e.stopImmediatePropagation(),this.__doMove()}},{key:"__doMove",value:function(){if(!this.ended){this.inited||(this.$helper&&this._initHelper(),(this.$helper||this.isProxyed)&&(this.initialXY=this._centerToPoint(this.startXY)));var t=this._actionMove(this.deltaXY);this._autoscroll(this.moveXY),this._trigger("move",{draggable:this.draggable,helper:this.helper,isProxyed:this.isProxyed,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,moveEvent:this.moveEvent,moveXY:this.moveXY,dragXY:t})}}},{key:"__up",value:function(i){i.preventDefault(),i.stopImmediatePropagation(),this.ended=!0;var s=t.eventXY(i),o=this.initialXY;this.inited&&this._removeClasses(),this.motion?this.options.revert?this._revert():this.$helper?this._destroyHelper():o=this.$movable.translate():this.isProxyed&&!this.$helper&&(e.isFunction(this.options.proxy.noMotion)?this.options.proxy.noMotion():this.options.proxy.noMotion)&&l.hasButton(i,l.buttons.LEFT,!0)&&(o=this._centerToPoint(s,!0)),this._off(this.$document,a.move,this.__move),this._off(this.$document,a.cancel,this.__cancel),this._off(this.$document,"dragstart",this.__dragStart),this.startEvent.target!==i.target&&this._off(a.click,this.__click),this._trigger("end",{draggable:this.draggable,helper:this.helper,isProxyed:this.isProxyed,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,endEvent:i,endXY:s,dragXY:o,motion:this.motion})}},{key:"__cancel",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.ended=!0;var i=t.eventXY(e),s=this.$movable.translate();this.inited&&this._removeClasses(),this.motion&&(this.options.revert?(this._revert(),s=this.initialXY):this.$helper&&this._destroyHelper()),this._off(this.$document,a.move,this.__move),this._off(this.$document,a.up,this.__up),this._off(a.click,this.__click),this._off(this.$document,"dragstart",this.__dragStart),this._trigger("end",{draggable:this.draggable,helper:this.helper,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,endEvent:e,endXY:i,dragXY:s,motion:this.motion})}}]),s}(s.Widget);o.make(c,h)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations,Svelto.Browser,Svelto.Pointer,Svelto.Mouse),function(t,e,i,s,o,n){var r={name:"flickable",plugin:!0,selector:".flickable",options:{duration:150,threshold:5,callbacks:{flick:e.noop}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_events",value:function(){this.___down()}},{key:"___down",value:function(){this._on(n.down,this.__down)}},{key:"__down",value:function(e){this._startXY=t.eventXY(e),this._startTimestamp=e.timeStamp||Date.now(),this._motion=!1,this.___move(),this.___up(),this.___cancel()}},{key:"___move",value:function(){this._one(!0,this.$document,n.move,this.__move)}},{key:"__move",value:function(){this._motion=!0}},{key:"___up",value:function(){this._one(!0,this.$document,n.up,this.__up)}},{key:"__up",value:function(e){if(this._endTimestamp=e.timeStamp||Date.now(),this._motion&&this._endTimestamp-this._startTimestamp<=this.options.duration){var i=t.eventXY(e),s={x:i.x-this._startXY.x,y:i.y-this._startXY.y},o={x:Math.abs(s.x),y:Math.abs(s.y)};if(o.x>=this.options.threshold||o.y>=this.options.threshold){var r=void 0,a=void 0;o.x>o.y?(r="horizontal",a=s.x>0?"right":"left"):(r="vertical",a=s.y>0?"bottom":"top"),this._trigger("flick",{orientation:r,direction:a,startEvent:this._startEvent,startXY:this._startXY,endEvent:e,endXY:i})}}this._motion||this._off(this.$document,n.move,this.__move),this._off(this.$document,n.cancel,this.__cancel)}},{key:"___cancel",value:function(){this._one(!0,this.$document,n.cancel,this.__cancel)}},{key:"__cancel",value:function(){this._motion||this._off(this.$document,n.move,this.__move),this._off(this.$document,n.up,this.__up)}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"formSync",plugin:!0,selector:"form[data-sync-group]",options:{live:!1,attributes:{name:"name"},datas:{group:"sync-group"},selectors:{form:"form",elements:'input:not([type="button"]), textarea, select',checkable:'[type="radio"], [type="checkbox"]',radio:'[type="radio"]',checkbox:'[type="checkbox"]',textfield:'input:not([type="button"]):not([type="checkbox"]):not([type="radio"]), textarea'}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$form=this.$element,this.$elements=this.$form.find(this.options.selectors.elements),this.group=this.$form.data(this.options.datas.group)}},{key:"_events",value:function(){this.___change(),this.___input()}},{key:"___change",value:function(){this._on(!0,this.$elements,"change",this._debounce(this.__sync,100))}},{key:"___input",value:function(){if(this.options.live){var t=this.$elements.filter(this.options.selectors.textfield);this._on(!0,t,"input",this._debounce(this.__sync,100))}}},{key:"__sync",value:function(e,i){if(!i||i._formSynced!==this.group){var s=t(e.target),o=s.attr(this.options.attributes.name),n=t(this.options.selectors.form+"[data-"+this.options.datas.group+'="'+this.group+'"]').not(this.$form).find("["+this.options.attributes.name+'="'+o+'"]').not(s);if(n.length){var r=s.val(),a=!!s.prop("checked"),l=!0,h=!1,c=void 0;try{for(var u,p=n[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,_=t(d),v=_.val(),f=!!_.prop("checked");r===v&&a===f||(!s.is(this.options.selectors.radio)||r===v&&a!==f)&&(s.is(this.options.selectors.checkable)?_.prop("checked",a).trigger("change",{_formSynced:this.group}):_.val(r).trigger("change",{_formSynced:this.group}))}}catch(t){h=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(h)throw c}}}}}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"infobar",plugin:!0,selector:".infobar",options:{callbacks:{close:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$infobar=this.$element}},{key:"close",value:function(){this.$infobar.detach(),this._trigger("close")}}]),e}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"inputAutogrow",plugin:!0,selector:"input.autogrow",options:{minWidth:1,callbacks:{change:e.noop}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$input=this.$element,this.$tempInput=t("<input>").css({position:"fixed",visibility:"hidden",padding:0,"min-width":0,width:0})}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this.___inputChange()}},{key:"_getNeededWidth",value:function(){this.$tempInput.css("font",this.$input.css("font")).val(this.$input.val()).appendTo(this.$layout);var t=this.$tempInput[0].scrollWidth;return this.$tempInput.detach(),Math.max(this.options.minWidth,t)}},{key:"___inputChange",value:function(){this._on(!0,"input change",this._update)}},{key:"_update",value:function(){var t=this._getNeededWidth();t!==this._prevWidth&&(this._prevWidth=t,this.$input.width(t),this._trigger("change"))}}],[{key:"widgetize",value:function(t){n.is.ie||n.is.edge||t.inputAutogrow()}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser),function(t,e,i,s,o){var n={name:"inputFileNames",plugin:!0,selector:".input-file-names",options:{placeholder:"Select a file...",callbacks:{change:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$names=this.$element,this.$input=this.$names.closest("label").find('input[type="file"]'),this.input=this.$input[0]}},{key:"_init",value:function(){this.options.placeholder=this.$names.text()||this.options.placeholder,this._update()}},{key:"_events",value:function(){this.___change()}},{key:"_getNames",value:function(){for(var t=[],e=0,i=this.input.files.length;e<i;e++)t.push(this.input.files[e].name);return t}},{key:"_getText",value:function(){var t=this._getNames();return t.length?t.join(", "):this.options.placeholder}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this._update)}},{key:"_update",value:function(){var t=this.$names.text(),e=this._getText();t!==e&&(this.$names.text(e),this._trigger("change"))}}]),e}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"numbox",plugin:!0,selector:".numbox",options:{min:0,max:100,value:0,step:1,datas:{min:"min",max:"max",step:"step"},selectors:{decreaser:".numbox-decreaser",increaser:".numbox-increaser",input:"input"},keystrokes:{"left, down":"decrease","right, up":"increase"},callbacks:{change:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$numbox=this.$element,this.$input=this.$numbox.find(this.options.selectors.input),this.$decreaser=this.$numbox.find(this.options.selectors.decreaser),this.$increaser=this.$numbox.find(this.options.selectors.increaser),this._prevValue=!1}},{key:"_init",value:function(){var t=this.$input.val();this.options.min=Number(this.$numbox.data(this.options.datas.min)||this.options.min),this.options.max=Number(this.$numbox.data(this.options.datas.max)||this.options.max),this.options.step=Number(this.$numbox.data(this.options.datas.step)||this.options.step),this.options.value=this._sanitizeValue(t||this.options.value),Number(t)!==this.options.value?this._update():this._updateButtons()}},{key:"_events",value:function(){this.___inputChange(),this.___keydown(),this.___increaser(),this.___decreaser()}},{key:"_sanitizeValue",value:function(t){return t=Number(t),t=e.isNaN(t)?0:e.roundCloser(t,this.options.step),e.clamp(t,this.options.min,this.options.max)}},{key:"___inputChange",value:function(){this._on(!0,this.$input,"input change",this.__inputChange)}},{key:"__inputChange",value:function(){this.set(this.$input.val())}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___increaser",value:function(){this._on(this.$decreaser,n.tap,this.decrease)}},{key:"___decreaser",value:function(){this._on(this.$increaser,n.tap,this.increase)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"_updateButtons",value:function(){var t=this.options.value===this.options.min,e=this.options.value===this.options.max;this.$decreaser.toggleClass(this.options.classes.disabled,t),this.$increaser.toggleClass(this.options.classes.disabled,e)}},{key:"_update",value:function(){this._updateInput(),this._updateButtons()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){return t=Number(t),e.isNaN(t)||(t=this._sanitizeValue(t),t===this.options.value)?void(this.$input.val()!==String(this.options.value)&&this._updateInput()):(this._prevValue=this.options.value,this.options.value=t,this._update(),void this._trigger("change"))}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"pager",plugin:!0,selector:".pager",options:{selectors:{previous:".previous",next:".next"},keystrokes:{left:"previous",right:"next"}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$pager=this.$element}},{key:"_events",value:function(){this.___keydown()}},{key:"__keydown",value:function(e){var s=this;this.isLocked()||t.isFocused(document.activeElement)||(this.lock(),this._scrolled=!1,this.___scroll(),this._delay(function(){s.unlock(),s._scrolled||(s.___scrollReset(),e.isDefaultPrevented()||e.isPropagationStopped()||_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"__keydown",s).call(s,e))},50))}},{key:"___scroll",value:function(){this._one(!0,this.$document,"scroll",this.__scroll)}},{key:"___scrollReset",value:function(){this._off(this.$document,"scroll",this.__scroll)}},{key:"__scroll",value:function(){this._scrolled=!0}},{key:"previous",value:function(){var t=this.$pager.find(this.options.selectors.previous);t.length&&t[0].click()}},{key:"next",value:function(){var t=this.$pager.find(this.options.selectors.next);t.length&&t[0].click()}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"pagination",plugin:!0,selector:".pagination"},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Pager);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"progressbar",plugin:!0,selector:".progressbar",templates:{base:'<div class="progressbar <%= o.striped ? "striped" : "" %> <%= o.indeterminate ? "indeterminate" : "" %> <%= o.labeled ? "labeled" : "" %> <%= o.colors.off %> <%= o.size %> <%= o.css %>"><div class="progressbar-highlight <%= o.colors.on %>"></div></div>'},options:{value:0,colors:{on:"",off:""},striped:!1,indeterminate:!1,labeled:!1,decimals:0,size:"",css:"",datas:{value:"value",decimals:"decimals"},selectors:{highlight:".progressbar-highlight"},callbacks:{change:e.noop,empty:e.noop,full:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$progressbar=this.$element,this.$highlight=this.$progressbar.find(this.options.selectors.highlight)}},{key:"_init",value:function(){this.options.value=this._sanitizeValue(this.$progressbar.data(this.options.datas.value)||this.options.value),this.options.decimals=Number(this.$progressbar.data(this.options.datas.decimals)||this.options.decimals),this._update()}},{key:"_sanitizeValue",value:function(t){var i=Number(t);return e.clamp(e.isNaN(i)?0:i,0,100)}},{key:"_roundValue",value:function(t){return Number(t.toFixed(this.options.decimals))}},{key:"_updateWidth",value:function(){this.$highlight.css("min-width",this.options.value+"%")}},{key:"_updateLabel",value:function(){this.$highlight.attr("data-"+this.options.datas.value,this._roundValue(this.options.value)+"%")}},{key:"_update",value:function(){this._updateWidth(),this._updateLabel()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){t=this._sanitizeValue(t),t!==this.options.value&&(this.options.value=t,this._update(),this._trigger("change"),0===this.options.value?this._trigger("empty"):100===this.options.value&&this._trigger("full"))}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s){t.progressbar=function(t){return t=e.isNumber(t)?{value:t}:t,new s(t)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.Progressbar),function(t,e,i,s,o,n,r){var a={name:"rails",plugin:!0,selector:".rails",options:{navigation:{hidable:!1},scroll:{speed:200},selectors:{start:".rails-start",left:".rails-left",right:".rails-right",end:".rails-end",navigation:".rails-navigation, .rails-start, .rails-left, .rails-right, .rails-end",content:".rails-content",active:".rails-active"},animations:{scroll:n.fast},keystrokes:{"home, page_up":"start",left:"left",right:"right","end, page_down":"end"}}},l=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$rails=this.$element,this.$start=this.$rails.find(this.options.selectors.start),this.$left=this.$rails.find(this.options.selectors.left),this.$right=this.$rails.find(this.options.selectors.right),this.$end=this.$rails.find(this.options.selectors.end),this.$navigation=this.$rails.find(this.options.selectors.navigation),this.$content=this.$rails.find(this.options.selectors.content),this.$active=this.$content.find(this.options.selectors.active)}},{key:"_init",value:function(){this._scrollToElement(this.$active),this._updateNavigation();
}},{key:"_events",value:function(){this.___keydown(),this.___resize(),this.___scroll(),this.___startTap(),this.___leftTap(),this.___rightTap(),this.___endTap()}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___startTap",value:function(){this._on(this.$start,r.tap,this.start)}},{key:"___leftTap",value:function(){this._on(this.$left,r.tap,this.left)}},{key:"___rightTap",value:function(){this._on(this.$right,r.tap,this.right)}},{key:"___endTap",value:function(){this._on(this.$end,r.tap,this.end)}},{key:"_updateNavigation",value:function(){if(this.$navigation.length){var t=this.$content.scrollLeft(),e=0===t,i=this.$content[0].scrollWidth-t-this.$content.outerWidth()<=1;if((this.$start.length||this.$left.length)&&this.$start.add(this.$left).toggleClass(this.options.classes.disabled,e),(this.$end.length||this.$right.length)&&this.$end.add(this.$right).toggleClass(this.options.classes.disabled,i),this.options.navigation.hidable){var s=e&&i;this.$navigation.toggleClass(this.options.classes.hidden,s)}}}},{key:"___resize",value:function(){this._on(!0,this.$window,"resize",this._frames(this._updateNavigation,Math.max(this.options.animations.scroll||60)))}},{key:"___scroll",value:function(){this._on(!0,this.$content,"scroll",this._frames(this._updateNavigation,Math.max(this.options.animations.scroll||60)))}},{key:"_scroll",value:function(t){this.$content.animate({scrollLeft:t},this.options.animations.scroll)}},{key:"_deltaScroll",value:function(t){this._scroll(this.$content.scrollLeft()+t)}},{key:"_scrollToElement",value:function(t){if(t.length){var e=t.position().left+this.$content.scrollLeft()+t.outerWidth()/2-this.$content.outerWidth()/2;this._scroll(e)}}},{key:"start",value:function(){this._scroll(0)}},{key:"left",value:function(){this._deltaScroll(-this.options.scroll.speed)}},{key:"right",value:function(){this._deltaScroll(this.options.scroll.speed)}},{key:"end",value:function(){this._scroll(this.$content[0].scrollWidth)}}]),e}(s.Widget);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations,Svelto.Pointer),function(t,e,i,s,o,n){var r={name:"remoteTrigger",options:{widget:!1,ajax:{},attributes:{href:"href"},datas:{url:"url",data:"data",method:"method"}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$trigger=this.$element}},{key:"_init",value:function(){this.options.ajax.url=this.$trigger.data(this.options.datas.url)||this.$trigger.attr(this.options.attributes.href)||this.options.ajax.url,this.options.ajax.data=this.$trigger.data(this.options.datas.data)||this.options.ajax.data,this.options.ajax.method=this.$trigger.data(this.options.datas.method)||this.options.ajax.method}},{key:"_events",value:function(){this.___tap()}},{key:"_getOptions",value:function(){return{ajax:this.options.ajax,storage:{enabled:e.get(this.options.widget.config,"storage.enabled")||e.get(s.RemoteWidget.config,"storage.enabled")||this.$trigger.is(s.Storable.config.selector)}}}},{key:"___tap",value:function(){this._on(n.tap,this.trigger)}},{key:"trigger",value:function(){new this.options.widget(this._getOptions()).request()}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r,a){var l={name:"ripple",plugin:!0,selector:".ripple",templates:{circle:'<div class="ripple-circle"></div>'},options:{classes:{circle:{show:"show",hide:"hide"},center:"ripple-center"},animations:{show:a.xslow,hide:a.xslow,overlap:a.xslow/100*58},callbacks:{show:e.noop,hide:e.noop}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$ripple=this.$element,this.circles=[]}},{key:"_events",value:function(){this.___downTap()}},{key:"___downTap",value:function(){this._on(r.tap+" mousedown",this.__downTap)}},{key:"__downTap",value:function(e){if(!this.isLocked()){if(this.lock(),this.$ripple.hasClass(this.options.classes.center)){var i=this.$ripple.offset();this._show({x:i.left+this.$ripple.outerWidth()/2,y:i.top+this.$ripple.outerHeight()/2})}else this._show(t.eventXY(e));this._one(!0,this.$document,r.up,this.__up)}}},{key:"__up",value:function(){this._defer(function(){this.unlock();var t=!0,e=!1,i=void 0;try{for(var s,o=this.circles[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var n=_slicedToArray(s.value,2),r=n[0],a=n[1];this._hide(r,a)}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}this.circles=[]})}},{key:"_show",value:function(i){var s=t(this._template("circle")),o=this.$ripple.offset(),n=i.x-o.left,r=i.y-o.top,a=Math.max(n,this.$ripple.outerWidth()-n),l=Math.max(r,this.$ripple.outerHeight()-r),h=Math.sqrt(Math.pow(a,2)+Math.pow(l,2)),c=2*h;this.circles.push([s,e.now()]),this._frame(function(){s.css({width:c,height:c,top:r,left:n}).prependTo(this.$ripple),this._frame(function(){s.addClass(this.options.classes.circle.show),this._trigger("show")})})}},{key:"_hide",value:function(t,i){var s=Math.max(0,this.options.animations.show-this.options.animations.overlap+i-e.now());this._delay(function(){t.addClass(this.options.classes.circle.hide),this._delay(function(){t.remove(),this._trigger("hide")},this.options.animations.hide)},s)}}]),s}(s.Widget);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,o,n){var r={name:"tableSortable",plugin:!0,selector:"table.sortable:not(.datatable)",options:{sorters:{int:function(t,e){return parseInt(t,10)-parseInt(e,10)},float:function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}},datas:{sorter:"sort",value:"sort-value"},classes:{sort:{asc:"sort-asc",desc:"sort-desc"}},selectors:{header:"thead th",sortable:"[data-sort]",body:"tbody",notEmptyRow:"tr:not(.table-row-empty)",rowCell:"td"},callbacks:{sort:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$table=this.$element,this.$headers=this.$table.find(this.options.selectors.header),this.$sortables=this.$headers.filter(this.options.selectors.sortable),this.$tbody=this.$table.find(this.options.selectors.body),this.table=this.element,this.tbody=this.$tbody[0],this.sortData={},this.isDirty=!0,this.$currentSortable=!1,this.currentIndex=!1,this.currentDirection=!1}},{key:"_init",value:function(){var t=this.$headers.filter("."+this.options.classes.sort.asc+", ."+this.options.classes.sort.desc).first();1===t.length&&this.sort(this.$headers.index(t),t.hasClass(this.options.classes.sort.asc)?"asc":"desc")}},{key:"_events",value:function(){this.___change(),this.___tap()}},{key:"___change",value:function(){this._on(!0,"change tablehelper:change",this.__change)}},{key:"__change",value:function(){this.currentIndex!==!1&&(this.sortData={},this.isDirty=!0,this.sort(this.currentIndex,this.currentDirection))}},{key:"___tap",value:function(){this._on(this.$sortables,n.tap,this.__tap)}},{key:"__tap",value:function(t){var e=this.$headers.index(t.target),i=this.currentIndex===e&&"asc"===this.currentDirection?"desc":"asc";this.sort(e,i)}},{key:"sort",value:function(t,i){var s=this.$headers.eq(t);if(s.length){var o=s.data(this.options.datas.sorter);if(o){var n=this.options.sorters[o];if(n){if(i=i&&"desc"===i.toLowerCase()?"desc":"asc",e.isUndefined(this.sortData[t])||this.isDirty){var r=this.$tbody.find(this.options.selectors.notEmptyRow);this.sortData[t]=new Array(r.length);for(var a=0,l=r.length;a<l;a++){var h=r.eq(a).find(this.options.selectors.rowCell).eq(t),c=h.data(this.options.datas.value)||h.text();this.sortData[t][a]=[r[a],c]}}(t!==this.currentIndex||this.isDirty)&&this.sortData[t].sort(function(t,e){return n(t[1],e[1])});var u=!1;if(u=this.isDirty||t!==this.currentIndex||this.currentDirection===!1?"desc"===i:i!==this.currentDirection,u&&this.sortData[t].reverse(),t!==this.currentIndex||i!==this.currentDirection||this.isDirty){this.table.removeChild(this.tbody);for(var p=0,d=this.sortData[t].length;p<d;p++)this.tbody.appendChild(this.sortData[t][p][0]);this.table.appendChild(this.tbody)}t===this.currentIndex&&i===this.currentDirection||(this.$currentSortable&&this.$currentSortable.removeClass(this.options.classes.sort[this.currentDirection]),s.addClass(this.options.classes.sort[i])),this.isDirty=!1,this.$currentSortable=s,this.currentIndex=t,this.currentDirection=i,this._trigger("sort",{index:this.currentIndex,direction:this.currentDirection})}}}}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"tableHelper",plugin:!0,selector:"table.table",templates:{row:'<tr <%= o.id ? "class=" + o.id : "" %> ><% for ( var i = 0, l = o.datas.length; i < l; i++ ) { %><td><%= o.datas[i] %></td><% } %><% for ( var i = 0, l = o.missing; i < l; i++ ) { %><td></td><% } %></tr>'},options:{rowIdPrefix:"srid",selectors:{header:"thead",body:"tbody",headerCell:"th",rowCell:"td",emptyRow:"tr.table-row-empty",notEmptyRow:"tr:not(.table-row-empty)"},callbacks:{change:e.noop,add:e.noop,update:e.noop,remove:e.noop,clear:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$table=this.$element,this.$header=this.$table.find(this.options.selectors.header),this.$body=this.$table.find(this.options.selectors.body),this.$headerCells=this.$header.find(this.options.selectors.headerCell),this.$emptyRow=this.$body.find(this.options.selectors.emptyRow),this.columnsNr=this.$headerCells.length}},{key:"_getRowId",value:function(t){return this.options.rowIdPrefix+"-"+this.guid+"-"+t}},{key:"add",value:function(i){for(var s=!!i&&this._getRowId(i),o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];if(n.length){if(s&&1===t("."+s).length)return;var a=e.chunk(n,this.columnsNr),l=t(),h=!0,c=!1,u=void 0;try{for(var p,d=a[Symbol.iterator]();!(h=(p=d.next()).done);h=!0){var _=p.value,v=this._template("row",{id:s,datas:_,missing:this.columnsNr-_.length});l=l.add(v)}}catch(t){c=!0,u=t}finally{try{!h&&d.return&&d.return()}finally{if(c)throw u}}this.$body.append(l),this._trigger("change"),this._trigger("add",{$rows:l})}}},{key:"update",value:function(i){for(var s=t("."+this._getRowId(i)),o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];if(n.length&&1===s.length){for(var a=s.find(this.options.selectors.rowCell),l=0,h=n.length;l<h;l++)e.isString(n[l])&&a.eq(l).html(n[l]);this._trigger("change"),this._trigger("update",{$row:s})}}},{key:"remove",value:function(e){var i=t("."+this._getRowId(e));1===i.length&&(i.remove(),this._trigger("change"),this._trigger("remove",{$row:i}))}},{key:"clear",value:function(){var t=this.$body.find(this.options.selectors.notEmptyRow);t.length&&(t.remove(),this._trigger("change"),this._trigger("clear",{$rows:t}))}}]),s}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"targeter",options:{widget:!1,target:!1,datas:{target:"target"}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){if(this._targetSelector=this.options.target||this.$element.data(this.options.datas.target),this.$target=this._targetSelector?t(this._targetSelector):this.$element.closest(this.options.widget.config.selector),!this.$target.length){if(!this.options.$fallback||!this.options.$fallback.length)return!1;this.$target=this.options.$fallback}this.target=this.$target[0],this.options.widget&&(this._targetInstance=this.$target[this.options.widget.config.name]("instance"))}},{key:"_events",value:function(){this.___targetRemove()}},{key:"___targetRemove",value:function(){this._on(!0,this.$target,"remove",this.__targetRemove)}},{key:"__targetRemove",value:function(){this.__remove()}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"closer",options:{methods:{isOpen:"isOpen",close:"close"}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_events",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_events",this).call(this),this.___tap()}},{key:"___tap",value:function(){this._on(n.tap,this.__tap)}},{key:"__tap",value:function(t){this.close(t)}},{key:"isOpen",value:function(){return this._targetInstance[this.options.methods.isOpen]()}},{key:"close",value:function(t){return this._targetInstance[this.options.methods.close](this.element,t)}}]),e}(s.Targeter);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"expanderCloser",plugin:!0,selector:".expander-closer",options:{widget:s.Expander}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"infobarCloser",plugin:!0,selector:".infobar-closer",options:{widget:s.Infobar}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"modalCloser",plugin:!0,selector:".modal-closer",options:{widget:s.Modal}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"overlayCloser",plugin:!0,selector:".overlay-closer",options:{widget:s.Overlay}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r){var a={name:"opener",options:{hover:{active:!1,delays:{open:750,close:250}},methods:{open:"open"}}},l=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_events",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_events",this).call(this),this.___hover()}},{key:"__tap",value:function(t){this.open(t)}},{key:"___hover",value:function(){this.options.hover.active&&this._on(r.enter,this.__hoverEnter)}},{key:"__hoverEnter",value:function(){this.isOpen()?this._isHoverOpen&&(this._hoverCloseTimeout&&(clearTimeout(this._hoverCloseTimeout),this._hoverCloseTimeout=!1),this._one(!0,r.leave,this.__hoverLeave)):(this._isHoverOpen=!1,this._hoverOpenTimeout=this._delay(this.__hoverOpen,this.options.hover.delays.open),this._one(!0,r.leave,this.__hoverLeave))}},{key:"__hoverOpen",value:function(){this.isOpen()||(this.open(),this._isHoverOpen=!0),this._hoverOpenTimeout=!1}},{key:"__hoverLeave",value:function(){this._hoverOpenTimeout&&(clearTimeout(this._hoverOpenTimeout),this._hoverOpenTimeout=!1),this.isOpen()&&this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close),this._one(!0,this.$target,r.enter,this.__hoverTargetEnter))}},{key:"__hoverClose",value:function(){this.isOpen()&&this._isHoverOpen&&this.close(),this._isHoverOpen=!1,this._hoverCloseTimeout=!1,this._off(this.$target,r.enter,this.__hoverTargetEnter)}},{key:"__hoverTargetEnter",value:function(){this._hoverCloseTimeout&&(clearTimeout(this._hoverCloseTimeout),this._hoverCloseTimeout=!1),this.isOpen()&&this._isHoverOpen&&this._one(!0,this.$target,r.leave,this.__hoverTargetLeave)}},{key:"__hoverTargetLeave",value:function(){this.isOpen()&&this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close),this._one(!0,this.$target,r.enter,this.__hoverTargetEnter))}},{key:"open",value:function(t){return this._targetInstance[this.options.methods.open](this.element,t)}}]),e}(s.Closer);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer),function(t,e,i,s,o){var n={name:"expanderOpener",plugin:!0,selector:".expander-opener",options:{widget:s.Expander}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"modalOpener",plugin:!0,selector:".modal-opener",options:{widget:s.Modal}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"overlayOpener",plugin:!0,selector:".overlay-opener",options:{widget:s.Overlay}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r){var a={name:"scroller",plugin:!0,selector:".scroller",options:{animations:{scroll:r.fast},callbacks:{scroll:e.noop}}},l=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_events",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_events",this).call(this),this.___tap()}},{key:"___tap",value:function(){this._on(n.tap,this.__tap)}},{key:"__tap",value:function(t){this.scroll()}},{key:"scroll",value:function(){t.scrollTo(this.target,this.options.animations.scroll),this._trigger("scroll")}}]),i}(s.Targeter);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,o){var n={name:"toggler",options:{methods:{toggle:"toggle"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"__tap",value:function(t){this.toggle(void 0,t)}},{key:"toggle",value:function(t,e){return this._targetInstance[this.options.methods.toggle](t,this.element,e)}}]),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"expanderToggler",plugin:!0,selector:".expander-toggler",options:{widget:s.Expander}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"flippableFlipper",plugin:!0,selector:".flippable-flipper",options:{widget:s.Flippable,methods:{toggle:"flip",open:"front",close:"back"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"modalToggler",plugin:!0,selector:".modal-toggler",options:{widget:s.Modal}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"overlayToggler",plugin:!0,selector:".overlay-toggler",options:{widget:s.Overlay}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"textareaAutogrow",plugin:!0,selector:"textarea.autogrow",options:{callbacks:{change:e.noop}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$textarea=this.$element,this.$tempTextarea=t("<textarea>").css({position:"fixed",visibility:"hidden",padding:0,"min-height":0,height:0})}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this.___inputChange()}},{key:"_getNeededHeight",value:function(){this.$tempTextarea.css("font",this.$textarea.css("font")).val(this.$textarea.val()||" ").appendTo(this.$layout);var t=this.$tempTextarea[0].scrollHeight;return this.$tempTextarea.detach(),t}},{key:"___inputChange",value:function(){this._on(!0,"input change",this._update)}},{key:"_update",value:function(){var t=this._getNeededHeight();t!==this._prevHeight&&(this.$textarea.height(t),this._prevHeight=t,this._trigger("change"))}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"textareaSender",plugin:!0,selector:"form textarea",options:{selectors:{form:"form"},keystrokes:{"ctmd + enter":"send"}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$textarea=this.$element,this.textarea=this.element,this.$form=this.$textarea.closest(this.options.selectors.form)}},{key:"_events",value:function(){this.___keydown()}},{key:"send",value:function(){t.isFocused(this.textarea)&&this.$form.submit()}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"timeAgo",plugin:!0,selector:".timeago, .time-ago",options:{timestamp:!1,title:!1,datas:{timestamp:"timestamp"},callbacks:{change:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$timeAgoElement=this.$element}},{key:"_init",value:function(){this.options.timestamp||(this.options.timestamp=this.$timeAgoElement.data(this.options.datas.timestamp)),this.isEnabled()&&this._loop()}},{key:"_destroy",value:function(){clearTimeout(this.loopId)}},{key:"_loop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loopId=this._delay(function(){this._loop(this._update().next)},1e3*t)}},{key:"_update",value:function(){var t=e.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgoElement.attr("title",t.str):this.$timeAgoElement.text(t.str),this._trigger("change"),t}},{key:"enable",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enable",this).call(this),this._loop()}},{key:"disable",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"disable",this).call(this),clearTimeout(this.loopId)}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Timer),function(t,e,i,s,o,n,r,a,l){var h={name:"zoomable",plugin:n.is.desktop,selector:"img.zoomable",options:{offset:50,src:!1,original:{src:!1,substitute:!0,width:!1,height:!1},magnification:{enabled:!1,limited:!0,offset:50,minSide:2*Math.min(screen.width,screen.height),maxSide:3*Math.min(screen.width,screen.height)},preloading:{enabled:!1,wait:!0},classes:{magnified:"magnified",preload:"preload",show:"show",zoom:"zoom",zoomed:"zoomed",backdrop:{show:"zoomable-backdrop obscured-show obscured",zoom:"obscured-open",zoomed:""}},attributes:{src:"src"},datas:{original:"original",width:"width",height:"height"},animations:{zoom:l.normal,unzoom:l.normal},keystrokes:{esc:"__esc"},callbacks:{loading:e.noop,zoom:e.noop,unzoom:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$zoomable=this.$element,this.zoomable=this.element,this.$backdrop=this.$html,this._isZoomed=!1}},{key:"_init",value:function(){return this.options.src=this.$zoomable.attr(this.options.attributes.src)||this.options.src,this.options.original.src=this.$zoomable.data(this.options.datas.original)||this.options.original.src,this.options.original.width=this.$zoomable.data(this.options.datas.width)||this.options.original.width,this.options.original.height=this.$zoomable.data(this.options.datas.height)||this.options.original.height,this.options.magnification.enabled=this.$zoomable.hasClass(this.options.classes.magnified)||this.options.magnification.enabled,this.options.preloading.enabled=this.$zoomable.hasClass(this.options.classes.preload)||this.options.preloading.enabled,!this.options.original.src||e.isNumber(this.options.original.width)&&e.isNumber(this.options.original.height)?(this.options.preloading.enabled&&this.options.original.src&&this.preload(),void(this.$zoomable.hasClass(this.options.classes.zoom)&&this.zoom())):(console.error("Zoomable: wrong 'data-width' and/or 'data-height', they are required when using 'data-original'"),!1)}},{key:"_events",value:function(){this.___tap(),this._isZoomed&&(this.___tapOutside(),this.___keydown(),this.___scroll(),this.___resize(),this.options.magnification.enabled&&this.___move())}},{key:"_destroy",value:function(){this.unzoom()}},{key:"___tap",value:function(){this._on(r.tap,this.__tap)}},{key:"__tap",value:function(t){t.preventDefault(),t.stopImmediatePropagation(),a.keystroke.match(t.originalEvent,"ctmd")?window.open(this.options.original.src||this.options.src,"_new"):this.toggle(void 0,t)}},{key:"___tapOutside",value:function(){this._on(!0,this.$html,r.tap,this.__tapOutside)}},{key:"__tapOutside",value:function(e){this.isLocked()||e.isDefaultPrevented()||!t.isAttached(e.target)||t(e.target).closest(this.$zoomable).length||(e.preventDefault(),e.stopImmediatePropagation(),this.unzoom())}},{key:"___keydown",value:function(){this._on(!0,this.$document,"keydown",this.__keydown)}},{key:"__esc",value:function(){this.unzoom()}},{key:"___scroll",value:function(){this.options.magnification.enabled||this._on(!0,this.$window.add(this.$zoomable.parents()),"scroll",this._frames(this.__scroll,60))}},{key:"__scroll",value:function(){this.unzoom()}},{key:"___resize",value:function(){this._on(!0,this.$window,"resize",this._frames(this.__resize,60))}},{key:"__resize",value:function(){this._positionate()}},{key:"___move",value:function(){this._on(!0,this.$document,r.move,this._frames(this.__move))}},{key:"__move",value:function(i){if(this._matrix){var s=t.eventXY(i,"clientX","clientY"),o=s.x,n=s.y,r=this.options.offset,a=this.options.magnification.offset,l=this._minWidth*this._scale,h=this._minHeight*this._scale,c=e.clamp(o-a,0,this._viewportWidth-a),u=e.clamp(n-a,0,this._viewportHeight-a),p=e.clamp(c/(this._viewportWidth-2*a),0,1),d=e.clamp(u/(this._viewportHeight-2*a),0,1),_=Math.max(0,l-this._viewportWidth+2*r),v=Math.max(0,h-this._viewportHeight+2*r);this._matrix[4]=this._translateX+_/2-_*p,this._matrix[5]=this._translateY+v/2-v*d,this.$zoomable.matrix(this._matrix)}}},{key:"_positionate",value:function(t){t&&(this._initialMatrix=this.$zoomable.matrix(),this._translateX=0,this._translateY=0,this._minWidth=this.zoomable.width||this.$zoomable.outerWidth(),this._minHeight=this.zoomable.height||this.$zoomable.outerHeight(),this._maxWidth=this.options.original.src?this.options.original.width:this.zoomable.naturalWidth?this.zoomable.naturalWidth:this._minWidth,this._maxHeight=this.options.original.src?this.options.original.height:this.zoomable.naturalHeight?this.zoomable.naturalHeight:this._minHeight,this._aspectRatio=this._maxWidth/this._maxHeight,this._maxScale=this._maxWidth/this._minWidth),this._viewportRect=this.$window.getRect(),this._viewportWidth=this._viewportRect.width,this._viewportHeight=this._viewportRect.height,this._viewportAspectRatio=this._viewportWidth/this._viewportHeight;var e=this.$zoomable.getRect();this._maxWidth<=this._viewportWidth-this.options.offset&&this._maxHeight<=this._viewportHeight-this.options.offset?this._scale=this._maxScale:this._aspectRatio<this._viewportAspectRatio?this._scale=(this._viewportHeight-this.options.offset)/this._maxHeight*this._maxScale:this._scale=(this._viewportWidth-this.options.offset)/this._maxWidth*this._maxScale,this.options.magnification.enabled&&(this._maxWidth<=this._maxHeight?(this._scale+=this.options.magnification.minSide/(this._minWidth*this._scale),this._minHeight*this._scale>this.options.magnification.maxSide&&(this._scale=this.options.magnification.maxSide*this._maxScale/this._maxHeight)):(this._scale+=this.options.magnification.minSide/(this._minHeight*this._scale),this._minWidth*this._scale>this.options.magnification.maxSide&&(this._scale=this.options.magnification.maxSide*this._maxScale/this._maxWidth)),this.options.magnification.limited&&(this._scale=Math.min(this._maxScale,this._scale))),this._translateX=this._translateX+(t?this._initialMatrix[4]:0)+this._viewportWidth/2-(e.left+e.width/2),this._translateY=this._translateY+(t?this._initialMatrix[5]:0)+this._viewportHeight/2-(e.top+e.height/2),this._matrix=[this._scale,this._initialMatrix[1],this._initialMatrix[2],this._scale,this._translateX,this._translateY],this.$zoomable.matrix(this._matrix)}},{key:"_unpositionate",value:function(){this.$zoomable.matrix(this._initialMatrix)}},{key:"isPreloading",value:function(){return!!this._isPreloading}},{key:"isPreloaded",value:function(){return!!this._isPreloaded}},{key:"preload",value:function(e){var i=this;this._isPreloading||this._isPreloaded||(this._isPreloading=!0,t.ajax({url:this.options.original.src,xhr:function t(){var t=new window.XMLHttpRequest;return t.addEventListener("progress",function(t){t.lengthComputable&&i._trigger("loading",{loaded:t.loaded,total:t.total,percentage:t.loaded/t.total*100})},!1),t},success:function(){i._isPreloaded=!0,i.options.original.substitute&&i.$zoomable.attr("src",i.options.original.src),e&&e()},error:function(){console.error('Zoomable: failed to preload "'+i.options.original.src+'"')},complete:function(){i._isPreloading=!1}}))}},{key:"isZoomed",value:function(){return this._isZoomed}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isZoomed,e=arguments[1];!!t!==this._isZoomed&&this[t?"zoom":"unzoom"](e)}},{key:"zoom",value:function(t){var e=this;if(!this.isLocked()&&!this._isZoomed){if(this.options.original.src&&this.options.preloading.wait&&!this._isPreloaded)return this.preload(function(){return e.zoom(t)});this.lock(),this._isZoomed=!0,
this.options.magnification.enabled&&this.$layout.disableScroll(),this._frame(function(){this.$zoomable.addClass(this.options.classes.show),this.$backdrop.addClass(this.options.classes.backdrop.show),this._frame(function(){this.$zoomable.addClass(this.options.classes.zoom),this.$backdrop.addClass(this.options.classes.backdrop.zoom),this._positionate(!0),this.options.magnification.enabled&&t&&this.__move(t),this._delay(function(){this.$zoomable.addClass(this.options.classes.zoomed),this.$backdrop.addClass(this.options.classes.backdrop.zoomed),this.options.original.src&&this.$zoomable.attr("src",this.options.original.src),this.unlock(),this._trigger("zoom")},this.options.animations.zoom)})}),this._reset(),this.___tap(),this.___tapOutside(),this.___keydown(),this.___scroll(),this.___resize(),this.options.magnification.enabled&&this.___move()}}},{key:"unzoom",value:function(){!this.isLocked()&&this._isZoomed&&(this._isZoomed=!1,this.lock(),this._frame(function(){this.$zoomable.removeClass(this.options.classes.zoomed),this.$backdrop.removeClass(this.options.classes.backdrop.zoomed),this._frame(function(){this._unpositionate(),this.$zoomable.removeClass(this.options.classes.zoom),this.$backdrop.removeClass(this.options.classes.backdrop.zoom),this._delay(function(){this.options.original.src&&!this.options.original.substitute&&this.$zoomable.attr("src",this.options.src),this.$zoomable.removeClass(this.options.classes.show),this.$backdrop.removeClass(this.options.classes.backdrop.show),this.options.magnification.enabled&&this.$layout.enableScroll(),this.unlock(),this._trigger("unzoom")},this.options.animations.unzoom)})}),this._reset(),this.___tap())}}]),s}(s.Widget);o.make(c,h)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer,Svelto.Keyboard,Svelto.Animations),function(t,e,i,s,o){var n={name:"zoomableCloser",plugin:!0,selector:".zoomable-closer",options:{widget:s.Zoomable}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"zoomableOpener",plugin:!0,selector:".zoomable-opener",options:{widget:s.Zoomable}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"zoomableToggler",plugin:!0,selector:".zoomable-toggler",options:{widget:s.Zoomable}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){for(var s={},o=0,n=24;o<=n;o++)s[o]="z-depth-"+o;i.ZDepths=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){t.fn.blurred=function(t){return this.toggleClass("blurred",t)}}(Svelto.$,Svelto._,Svelto),function(t,e,i){t.fn.obscured=function(t){return this.toggleClass("obscured",t)}}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s=function(){function t(e,i){_classCallCheck(this,t),this.set(e,i)}return _createClass(t,[{key:"set",value:function(t,i){if(i)switch(i.toLowerCase()){case"hex":return this.setHex(t);case"rgb":return this.setRgb(t);case"hsv":return this.setHsv(t);case"hsl":return this.setHsl(t)}if(e.isPlainObject(t)){if("r"in t&&"g"in t&&"b"in t)return Number(t.r)>99||Number(t.g)>99||Number(t.b)>99?this.setRgb(t):this.setHex(t);if("h"in t&&"s"in t){if("l"in t)return this.setHsl(t);if("v"in t)return this.setHsv(t)}}else if(e.isString(t)){if(t=e.trim(t,"#"),/^[0-9a-f]{6}$/i.test(t))return this.setHex({r:t[0]+t[1],g:t[2]+t[3],b:t[4]+t[5]});if(/^[0-9a-f]{3}$/i.test(t))return this.setHex({r:t[0].repeat(2),g:t[1].repeat(2),b:t[2].repeat(2)})}throw new Error("Invalid color")}},{key:"setHex",value:function(t){this.hex=e.cloneDeep(t)}},{key:"setRgb",value:function(e){this.hex=t.rgb2hex(e)}},{key:"setHsv",value:function(e){this.hex=t.hsv2hex(e)}},{key:"setHsl",value:function(e){this.hex=t.hsl2hex(e)}},{key:"getHex",value:function(){return this.hex}},{key:"getRgb",value:function(){return t.hex2rgb(this.hex)}},{key:"getHsv",value:function(){return t.hex2hsv(this.hex)}},{key:"getHsl",value:function(){return t.hex2hsl(this.hex)}}],[{key:"hex2rgb",value:function(e){return{r:t.hex2dec(e.r),g:t.hex2dec(e.g),b:t.hex2dec(e.b)}}},{key:"hex2hsv",value:function(e){return t.rgb2hsv(t.hex2rgb(e))}},{key:"hex2hsl",value:function(e){return t.hsv2hsl(t.hex2hsv(e))}},{key:"rgb2hex",value:function(e){return{r:t.dec2hex(e.r),g:t.dec2hex(e.g),b:t.dec2hex(e.b)}}},{key:"rgb2hsv",value:function(t){var e=t.r/255,i=t.g/255,s=t.b/255,o=void 0,n=void 0,r=Math.max(e,i,s),a=r-Math.min(e,i,s),l=function(t){return(r-t)/6/a+.5};if(0===a)o=n=0;else{n=a/r;var h=l(e),c=l(i),u=l(s);e===r?o=u-c:i===r?o=1/3+h-u:s===r&&(o=2/3+c-h),o<0?o+=1:o>1&&(o-=1)}return{h:360*o,s:100*n,v:100*r}}},{key:"rgb2hsl",value:function(e){return t.hsv2hsl(t.rgb2hsv(e))}},{key:"hsv2hex",value:function(e){return t.rgb2hex(t.hsv2rgb(e))}},{key:"hsv2rgb",value:function(t){var e=void 0,i=void 0,s=void 0,o=t.h,n=t.s,r=t.v;if(n/=100,r/=100,0===n)e=i=s=r;else{var a=void 0,l=void 0,h=void 0,c=void 0,u=void 0;switch(o/=60,a=Math.floor(o),l=o-a,h=r*(1-n),c=r*(1-n*l),u=r*(1-n*(1-l)),a){case 0:e=r,i=u,s=h;break;case 1:e=c,i=r,s=h;break;case 2:e=h,i=r,s=u;break;case 3:e=h,i=c,s=r;break;case 4:e=u,i=h,s=r;break;default:e=r,i=h,s=c}}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}},{key:"hsv2hsl",value:function(t){var e=t.s/100,i=t.v/100,s=(2-e)*i,o=e*i;return{h:t.h,s:0!==o?o/(s<=1?s:2-s)*100:0,l:s/2*100}}},{key:"hsl2hex",value:function(e){return t.hsv2hex(t.hsl2hsv(e))}},{key:"hsl2rgb",value:function(e){return t.hsv2rgb(t.hsl2hsv(e))}},{key:"hsl2hsv",value:function(t){var e=t.l/100*2,i=t.s/100*(e<=1?e:2-e);return{h:t.h,s:e+i!==0?2*i/(e+i)*100:0,v:(e+i)/2*100}}},{key:"dec2hex",value:function(t){return e.padStart(parseInt(t,10).toString(16),2,"0")}},{key:"hex2dec",value:function(t){return parseInt(t,16)}}]),t}();i.Color=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n,r){var a={name:"colorpicker",plugin:!0,selector:".colorpicker",options:{exporters:{hex:function t(e){var t=e.getHex();return"#"+t.r+t.g+t.b}},startColor:"#ff0000",format:{type:"hex",data:void 0},live:!1,selectors:{sb:{wrp:".colorpicker-sb",handler:".colorpicker-sb .colorpicker-handler"},hue:{wrp:".colorpicker-hue",handler:".colorpicker-hue .colorpicker-handler"},input:"input"},callbacks:{change:e.noop}}},l=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$colorpicker=this.$element,this.$sbWrp=this.$colorpicker.find(this.options.selectors.sb.wrp),this.$sbHandler=this.$colorpicker.find(this.options.selectors.sb.handler),this.$hueWrp=this.$colorpicker.find(this.options.selectors.hue.wrp),this.$hueHandler=this.$colorpicker.find(this.options.selectors.hue.handler),this.$input=this.$colorpicker.find(this.options.selectors.input),this.sbWrpSize=this.$sbWrp.width(),this.hueWrpHeight=this.sbWrpSize,this.hsv=!1}},{key:"_init",value:function(){this.set(this.$input.val()),this.hsv||this.set(this.options.startColor)}},{key:"_events",value:function(){this.___change(),this.___sbKeydown(),this.___sbDrag(),this.___hueKeydown(),this.___hueDrag()}},{key:"_destroy",value:function(){this.$sbHandler.draggable("destroy"),this.$hueHandler.draggable("destroy")}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"___sbKeydown",value:function(){this._onHover(this.$sbWrp,[this.$document,"keydown",this.__sbKeydown])}},{key:"__sbKeydown",value:function(t){switch(t.keyCode){case r.keys.UP:this.hsv.v=Math.min(100,this.hsv.v+1);break;case r.keys.RIGHT:this.hsv.s=Math.min(100,this.hsv.s+1);break;case r.keys.DOWN:this.hsv.v=Math.max(0,this.hsv.v-1);break;case r.keys.LEFT:this.hsv.s=Math.max(0,this.hsv.s-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateSb(),this._updateInput()}},{key:"___sbDrag",value:function(){this.$sbHandler.draggable({draggable:this.isEnabled.bind(this),proxy:{$element:this.$sbWrp},constrainer:{$element:this.$sbWrp,center:!0},callbacks:{start:this.__sbDragStart.bind(this),move:this._frames(this.__sbDragMove.bind(this),60),end:this.__sbDragEnd.bind(this)}})}},{key:"_sbDragSet",value:function(t,i){this.hsv.s=100*e.clamp(t.x,0,this.sbWrpSize)/this.sbWrpSize,this.hsv.v=100-100*e.clamp(t.y,0,this.sbWrpSize)/this.sbWrpSize,this._updateSb(!1),i&&this._updateInput()}},{key:"__sbDragStart",value:function(){this._sbDragging=!0}},{key:"__sbDragMove",value:function(t,e){this._sbDragging&&this._sbDragSet(e.dragXY,this.options.live)}},{key:"__sbDragEnd",value:function(t,e){this._sbDragging=!1,this._sbDragSet(e.dragXY,!0)}},{key:"___hueKeydown",value:function(){this._onHover(this.$hueWrp,[this.$document,"keydown",this.__hueKeydown])}},{key:"__hueKeydown",value:function(t){switch(t.keyCode){case r.keys.UP:this.hsv.h=Math.min(359,this.hsv.h+1);break;case r.keys.DOWN:this.hsv.h=Math.max(0,this.hsv.h-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateHue(),this._updateInput()}},{key:"___hueDrag",value:function(){this.$hueHandler.draggable({draggable:this.isEnabled.bind(this),axis:"y",proxy:{$element:this.$hueWrp},constrainer:{$element:this.$hueWrp},callbacks:{start:this.__hueDragStart.bind(this),move:this._frames(this.__hueDragMove.bind(this),60),end:this.__hueDragEnd.bind(this)}})}},{key:"_hueDragSet",value:function(t,i){this.hsv.h=359-359*e.clamp(t.y,0,this.hueWrpHeight)/this.hueWrpHeight,this._updateHue(!1),i&&this._updateInput()}},{key:"__hueDragStart",value:function(){this._hueDragging=!0}},{key:"__hueDragMove",value:function(t,e){this._hueDragging&&this._hueDragSet(e.dragXY,this.options.live)}},{key:"__hueDragEnd",value:function(t,e){this._hueDragging=!1,this._hueDragSet(e.dragXY,!0)}},{key:"_updateSb",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=n.hsv2hsl(this.hsv);if(this.$sbHandler.hsl(e.h,e.s,e.l),t){var i=this.sbWrpSize/100*this.hsv.s,s=this.sbWrpSize/100*(100-this.hsv.v);this.$sbHandler.translate(i,s)}}},{key:"_updateHue",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=n.hsv2hsl(this.hsv);if(this.$hueHandler.hsl(this.hsv.h,100,50),this.$sbHandler.hsl(e.h,e.s,e.l),this.$sbWrp.hsl(this.hsv.h,100,50),t){var i=this.hueWrpHeight/100*(100-this.hsv.h/360*100);this.$hueHandler.translateY(i)}}},{key:"_updateInput",value:function(){this.$input.val(this._export()).trigger("change"),this._trigger("change")}},{key:"_update",value:function(){this._updateSb(),this._updateHue(),this._updateInput()}},{key:"_export",value:function(){return this.options.exporters[this.options.format.type](new n(this.hsv,"hsv"),this.options.format.data)}},{key:"get",value:function(){return this._export()}},{key:"set",value:function(t){if(t=e.attempt(function(){return new n(t)}),!e.isError(t)){var i=t.getHsv();e.isEqual(this.hsv,i)||(this.hsv=i,this._update())}}}]),i}(s.Widget);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Color,Svelto.Keyboard),function(t,e,i){var s={get:function(){return["top","bottom","left","right"]},getOpposite:function(t){return{top:"bottom",bottom:"top",left:"right",right:"left"}[t]}};i.Directions=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n,r,a,l,h){var c={name:"panel",plugin:!0,selector:".panel",options:{direction:"left",type:"default",pin:!1,flick:{open:!1,close:!0,treshold:20},scroll:{disable:!0},classes:{show:"show",open:"open",pinned:"pinned",flickable:"flickable",backdrop:{show:"panel-backdrop obscured-show obscured",open:"obscured-open",pinned:"panel-backdrop-pinned"},layout:{show:"panel-layout"}},datas:{direction:"direction",type:"type"},animations:{open:l.normal,close:l.normal},keystrokes:{esc:"__esc"},callbacks:{beforeopen:e.noop,open:e.noop,beforeclose:e.noop,close:e.noop}}},u=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"_variables",value:function(){var t=this;this.$panel=this.$element,this.panel=this.element,this.$backdrop=this.$html,this.options.direction=h.get().find(function(e){return t.$panel.hasClass(e)})||this.options.direction,this.options.flick.open=this.options.flick.open||this.$panel.hasClass(this.options.classes.flickable),this.options.pin&&e.merge(this.options.breakpoints,{up:_defineProperty({},this.options.pin,"_autopin"),down:_defineProperty({},this.options.pin,"_autounpin")}),this._isOpen=this.$panel.hasClass(this.options.classes.open),this._isPinned=this.$panel.hasClass(this.options.classes.pinned),this.options.type=this.$panel.data(this.options.datas.type)||this.options.type,this.layoutPinnedClass=s.Panel.config.name+"-"+this.options.type+"-"+this.options.classes.pinned+"-"+this.options.direction}},{key:"_events",value:function(){this._isOpen?(this.___breakpoint(),this.___tap(),this.___keydown(),this.___panelFlick(),this.___route()):(this.___layoutFlick(),this.___panelFlick())}},{key:"_destroy",value:function(){this.close()}},{key:"___tap",value:function(){this._on(!0,this.$html,a.tap,this.__tap)}},{key:"__tap",value:function(e){this.isLocked()||this._isPinned||e.isDefaultPrevented()||!t.isAttached(e.target)||t(e.target).closest(this.$panel).length||(e.preventDefault(),e.stopImmediatePropagation(),this.close())}},{key:"___keydown",value:function(){this._on(!0,this.$document,"keydown",this.__keydown)}},{key:"__esc",value:function(){this._isPinned||this.close()}},{key:"___layoutFlick",value:function(){this.options.flick.open&&(this.$layout.flickable(),this._on(this.$layout,"flickable:flick",this.__layoutFlick))}},{key:"__layoutFlick",value:function(t,e){if(!this._isOpen&&e.direction===h.getOpposite(this.options.direction)){var i=this.$layout.offset();switch(this.options.direction){case"left":if(e.startXY.x-i.left>this.options.flick.treshold)return;break;case"right":if(this.$layout.outerWidth()+i.left-e.startXY.x>this.options.flick.treshold)return;break;case"top":if(e.startXY.y-i.top>this.options.flick.treshold)return;break;case"bottom":if(this.$layout.outerHeight()+i.top-e.startXY.y>this.options.flick.treshold)return}t.preventDefault(),t.stopImmediatePropagation(),this.open()}}},{key:"___panelFlick",value:function(){this.options.flick.close&&(this.$panel.flickable(),this._on(!0,"flickable:flick",this.__panelFlick))}},{key:"__panelFlick",value:function(t,e){this._isOpen&&e.direction===this.options.direction&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}},{key:"__route",value:function(){this._isOpen&&!t.isAttached(this.panel)&&this.close()}},{key:"_autopin",value:function(){this._isPinned||(this._wasAutoOpened=!this._isOpen,this.pin())}},{key:"_autounpin",value:function(){this._isPinned&&this[this._wasAutoOpened?"close":"unpin"]()}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isOpen;!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this.isLocked()||this._isOpen||(this.lock(),this._isOpen=!0,this._trigger("beforeopen"),this._isPinned||(this.options.pin&&n.widths[r.current]>=n.widths[this.options.pin]?this.pin():this.options.scroll.disable&&this.$layout.disableScroll()),this._frame(function(){this.$panel.addClass(this.options.classes.show),this.$backdrop.addClass(this.options.classes.backdrop.show),this.$layout.addClass(this.options.classes.layout.show),this._frame(function(){this.$panel.addClass(this.options.classes.open),this.$backdrop.addClass(this.options.classes.backdrop.open),this.autofocus(),this.unlock(),this._trigger("open")})}),this._reset(),this.___breakpoint(),this.___tap(),this.___keydown(),this.___panelFlick(),this.___route())}},{key:"close",value:function(){!this.isLocked()&&this._isOpen&&(this.unpin(),this.lock(),this._isOpen=!1,this._trigger("beforeclose"),this._frame(function(){this.$panel.removeClass(this.options.classes.open),this.$backdrop.removeClass(this.options.classes.backdrop.open),this._delay(function(){this.$panel.removeClass(this.options.classes.show),this.$backdrop.removeClass(this.options.classes.backdrop.show),this.$layout.removeClass(this.options.classes.layout.show),this.autoblur(),this.options.scroll.disable&&this.$layout.enableScroll(),this.unlock(),this._trigger("close")},this.options.animations.close)}),this._reset(),this.___breakpoint(),this.___layoutFlick())}},{key:"isPinned",value:function(){return this._isPinned}},{key:"togglePin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isPinned;!!t!==this._isPinned&&this[t?"pin":"unpin"]()}},{key:"pin",value:function(){this._isPinned||(this._isPinned=!0,this.$panel.addClass(this.options.classes.pinned),this.$layout.addClass(this.layoutPinnedClass),this.$backdrop.addClass(this.options.classes.backdrop.pinned),this._isOpen?this.$layout.enableScroll():this.open())}},{key:"unpin",value:function(){this._isOpen&&this._isPinned&&(this._isPinned=!1,this.$layout.removeClass(this.layoutPinnedClass).disableScroll(),this._delay(function(){this.$backdrop.removeClass(this.options.classes.backdrop.pinned),this.$panel.removeClass(this.options.classes.pinned)},this.options.animations.close))}}]),o}(s.Autofocusable);o.make(u,c)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Breakpoints,Svelto.Breakpoint,Svelto.Pointer,Svelto.Animations,Svelto.Directions),function(t,e,i,s,o){var n={name:"panelCloser",plugin:!0,selector:".panel-closer",options:{widget:s.Panel}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"panelOpener",plugin:!0,selector:".panel-opener",options:{widget:s.Panel}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"panelToggler",plugin:!0,selector:".panel-toggler",options:{widget:s.Panel}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r){var a={name:"tabs",plugin:!0,selector:".tabs",options:{direction:"top",highlight:!0,classes:{active:{trigger:"active",container:"active"}},selectors:{triggers:".tabs-triggers > *",containers:".tabs-containers > *"},callbacks:{change:e.noop}}},l=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){var t=this;this.$tabs=this.$element,this.$triggers=this.$tabs.find(this.options.selectors.triggers),this.$containers=this.$tabs.find(this.options.selectors.containers),this.options.direction=r.get().find(function(e){return t.$tabs.hasClass(e)})||this.options.direction,this.index=!1}},{key:"_init",value:function(){var t=this.$triggers.filter("."+this.options.classes.active.trigger).first(),e=this.$triggers.index(t);this.set(e)}},{key:"_events",value:function(){this.___tap()}},{key:"_sanitizeIndex",value:function(t){return e.clamp(t,0,this.$triggers.length)}},{key:"___tap",value:function(){this._on(this.$triggers,n.tap,this.__tap)}},{key:"__tap",value:function(e){e.stopImmediatePropagation();var i=this.$triggers.index(t(e.currentTarget));this.set(i)}},{key:"_toggleSelection",value:function(t,e){var i=this.$triggers.eq(t),s=this.$containers.eq(t);if(i.toggleClass(this.options.classes.active.trigger,e),s.toggleClass(this.options.classes.active.container,e),e?(s.widgetize(),this.autofocus(s)):this.autoblur(s),this.options.highlight){var o=r.getOpposite(this.options.direction);i.toggleClass("highlighted highlight-"+o,e)}}},{key:"_select",value:function(t){this._toggleSelection(t,!0)}},{key:"_unselect",value:function(t){this._toggleSelection(t,!1)}},{key:"get",value:function(){return this.index}},{key:"set",value:function(t){t=this._sanitizeIndex(t),t!==this.index&&(e.isNumber(this.index)&&this._unselect(this.index),this.index=t,this._select(this.index),this._trigger("change"))}}]),s}(s.Autofocusable);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Directions),function(t,e,i,s){var o={_raw:s,_rawUrl:"/json/emoji.json",_data:void 0,_parse:function(t){t.alts={},t.emojis={},t.emoticons={};var i=!0,s=!1,o=void 0;try{for(var n,r=t.categories[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value,l=!0,h=!1,c=void 0;try{for(var u,p=function(){var i=u.value;i.alts&&i.alts.forEach(function(e){return t.alts[e]=i}),t.emojis[i.id]=i,i.emoticons&&i.emoticons.forEach(function(s){var o=t.emoticons[s];e.isUndefined(o)?t.emoticons[s]=i:e.isArray(o)?t.emoticons[s].push(i):t.emoticons[s]=[o,i]})},d=a.emojis[Symbol.iterator]();!(l=(u=d.next()).done);l=!0)p()}catch(t){h=!0,c=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw c}}}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}return t},getRemoteRaw:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.uniqueAjax("EmojiDataRaw",o._rawUrl));case 1:case"end":return e.stop()}},null,this)},getRaw:function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o._raw){t.next=2;break}return t.abrupt("return",o._raw);case 2:return t.next=4,regeneratorRuntime.awrap(o.getRemoteRaw());case 4:return t.abrupt("return",o._raw=t.sent);case 5:case"end":return t.stop()}},null,this)},get:function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o._data){e.next=2;break}return e.abrupt("return",o._data);case 2:return e.next=4,regeneratorRuntime.awrap(o.getRaw());case 4:if(t=e.sent,!o._data){e.next=7;break}return e.abrupt("return",o._data);case 7:return e.abrupt("return",o._data=o._parse(t));case 8:case"end":return e.stop()}},null,this)}};i.EmojiData=o}(Svelto.$,Svelto._,Svelto,Svelto.EmojiDataRaw),function(t,e,i){var s=document.documentElement,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=n.find(function(t){return t[1]in document}),a={};r&&r.forEach(function(t,e){return a[n[0][e]]=t});var l={request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;a.requestFullscreen&&t[a.requestFullscreen](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a.exitFullscreen&&document[a.exitFullscreen]()},toggle:function(t){l.isFullscreen?l.exit():l.request(t)},get isFullscreen(){return!!l.element},get element(){return document[a.fullscreenElement]},get enabled(){return!!document[a.fullscreenEnabled]},raw:a};i.Fullscreen=l}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n){var r={name:"fullscreenable",plugin:!0,selector:".fullscreenable"},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"isFullscreen",value:function(){return n.isFullscreen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n.isFullscreen;!!t!==n.isFullscreen&&(t?this.request():this.exit())}},{key:"request",value:function(){n.request(this.element)}},{key:"exit",value:function(){n.exit()}}]),e}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Fullscreen),function(t,e,i,s,o){var n={name:"fullscreenableExiter",plugin:!0,selector:".fullscreenable-exiter, .fullscreen-exiter",options:{widget:s.Fullscreenable,$fallback:i.$html,methods:{isOpen:"isFullscreen",close:"exit"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"fullscreenableRequester",plugin:!0,selector:".fullscreenable-requester, .fullscreen-requester",options:{widget:s.Fullscreenable,$fallback:i.$html,methods:{open:"request"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"fullscreenableToggler",plugin:!0,selector:".fullscreenable-toggler, .fullscreen-toggler",options:{widget:s.Fullscreenable,$fallback:i.$html}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){var s={match:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i||(t=t.toLowerCase(),e=e.toLowerCase());for(var s=-1,o=void 0,n=t.length,r=0,a=e.length;r<a;r++){for(o=s+1;o<n;o++)t[o]===e[r]&&(s=o,o=n+1);if(o===n)return!1}return!0}};i.Fuzzy=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o){var n=function t(i){if(i)switch(i.constructor){case Number:return i!==1/0&&e.nowSecs()+i;case String:return t(new Date(i));case Date:var s=i.getTime();return!e.isNaN(s)&&Math.floor(s/1e3)}return!1},r={encoder:JSON.stringify,decoder:JSON.parse},a=function(){function t(e){_classCallCheck(this,t),this.name=e.name,this.cookie=e.cookie,this.actions=o.Group.config.decoder(s.get(this.name)||"{}")}return _createClass(t,[{key:"get",value:function(t){var i=this.actions[t];if(i){if(!(i.x&&i.x<e.nowSecs()))return i.t;this.remove(t)}return 0}},{key:"set",value:function(t,i,s){if(i=Number(i),!e.isNaN(i)){if(t in this.actions){if(0===i&&!this.actions[t].x)return this.remove(t);this.actions[t].t=i}else this.actions[t]={t:i},s=n(s),s&&(this.actions[t].x=s);this.update()}}},{key:"update",value:function(){s.set(this.name,o.Group.config.encoder(this.actions),this.cookie.end,this.cookie.path,this.cookie.domain,this.cookie.secure)}},{key:"remove",value:function(t){t?e.size(this.actions)>1?(delete this.actions[t],this.update()):this.remove():(this.actions={},s.remove(this.name,this.cookie.path,this.cookie.domain))}}]),t}();o.Group=a,o.Group.config=r}(Svelto.$,Svelto._,Svelto,Svelto.Cookie,Svelto.NTA={}),function(t,e,i,s){var o=function(){function t(e){_classCallCheck(this,t),this.group=new s.Group({name:e.group,cookie:e.cookie}),this.name=e.name,this.expiry=e.expiry}return _createClass(t,[{key:"get",value:function(){return this.group.get(this.name)}},{key:"set",value:function(t,e){this.group.set(this.name,t,e||this.expiry)}},{key:"remove",value:function(){this.group.remove(this.name)}}]),t}();s.Action=o}(Svelto.$,Svelto._,Svelto,Svelto.NTA),function(t,e,i,s){var o={group:"nta",action:!1,times:1/0,expiry:!1,fn:!1,cookie:{end:1/0,path:void 0,domain:void 0,secure:void 0}};t.nTimesAction=function(i){if(i=e.merge({},t.nTimesAction.defaults,i),i.action){var o=new s.Action({group:i.group,name:i.action,expiry:i.expiry,cookie:i.cookie}),n=o.get();if(i.fn&&n<i.times){var r=i.fn(i.group,i.action,n+1);r!==!1&&o.set(n+1)}return o}if(i.group)return new s.Group({name:i.group,cookie:i.cookie})},t.nTimesAction.defaults=o}(Svelto.$,Svelto._,Svelto,Svelto.NTA),function(t,e,i){t.oneTimeAction=function(i){return t.nTimesAction(e.extend({group:"ota"},i,{times:1}))}}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s={alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,hexadecimal:/^[a-fA-F0-9]+$/,integer:/^(?:-?(?:[0-9]*))$/,float:/^-?(?:(?:\d+)(?:\.\d*)?|(?:\.\d+)+)$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i};i.Regexes=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s={key:localStorage.key.bind(localStorage),remove:localStorage.removeItem.bind(localStorage),clear:localStorage.clear.bind(localStorage),get:function(t){var i=localStorage.getItem(t),o=e.attempt(JSON.parse,i);return e.isPlainObject(o)?"exp"in o&&o.exp<e.nowSecs()?(s.remove(t),null):"val"in o?o.val:o:i},set:function(t,i,s){var o={val:i};s&&(o.exp=e.nowSecs()+s);try{localStorage.setItem(t,JSON.stringify(o))}catch(t){}}};i.Storage=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n){var r={name:"storable",selector:".storable"},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.storageNamespace="swns."+this.name}},{key:"_storageGet",value:function(t){return n.get(this.storageNamespace+"."+t)}},{key:"_storageSet",value:function(t,e,i){n.set(this.storageNamespace+"."+t,e,i)}},{key:"_storageRemove",value:function(t){n.remove(this.storageNamespace+"."+t)}}]),e}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Storage),function(t,e,i,s,o){var n={name:"remote",options:{requests:{multiple:{parallel:!1,sequential:!0}},
ajax:{cache:!0,method:"GET",timeout:31e3},storage:{enabled:!1},callbacks:{beforesend:e.noop,complete:e.noop,error:e.noop,success:e.noop,abort:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_variables",this).call(this),this._requestsNr=0}},{key:"_reset",value:function(){this.abort(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_reset",this).call(this)}},{key:"_getAjax",value:function(t){return e.extend({},this.options.ajax,t,{beforeSend:this.__beforesend.bind(this),complete:this.__complete.bind(this),error:this.__error.bind(this),success:this.__success.bind(this)})}},{key:"__beforesend",value:function(t){this.isAborted()||this._trigger("beforesend",t)}},{key:"__complete",value:function(t){this.isAborted()||this._trigger("complete",t)}},{key:"__error",value:function(t){this.isAborted()||this._trigger("error",t)}},{key:"__success",value:function(t){this.isAborted()||this._trigger("success",t)}},{key:"__abort",value:function(){this._trigger("abort")}},{key:"isRequesting",value:function(){return!!this.xhr&&!e.includes([0,4],this.xhr.readyState)}},{key:"getRequestsNr",value:function(){return this._requestsNr}},{key:"canRequest",value:function(){return!(!this.options.requests.multiple.parallel&&this.isRequesting())&&!(!this.options.requests.multiple.sequential&&this._requestsNr)}},{key:"request",value:function(e){this.canRequest()&&(this._requestsNr++,this._isAborted=!1,this.ajax=this._getAjax(e),this.xhr=t.ajax(this.ajax))}},{key:"isAborted",value:function(){return!!this._isAborted}},{key:"abort",value:function(){this.xhr&&this.isRequesting()&&(this._isAborted=!0,this.xhr.abort(),this.__abort())}}]),s}(s.Storable);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){var s=function(){function t(){_classCallCheck(this,t),this.set.apply(this,arguments)}return _createClass(t,[{key:"set",value:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this}},{key:"once",value:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){return e.action()},t),this}},{key:"play",value:function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remainingTime),this.isActive=!0),this}},{key:"pause",value:function(){return this.isActive&&(this.isActive=!1,this.remainingTime-=Date.now()-this.last,this.clearTimer()),this}},{key:"stop",value:function(){return this.isActive=!1,this.remainingTime=this.intervalTime,this.clearTimer(),this}},{key:"toggle",value:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this}},{key:"reset",value:function(){return this.isActive=!1,this.play(!0),this}},{key:"clearTimer",value:function(){clearTimeout(this.timeoutObject)}},{key:"setTimer",value:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remainingTime=t,this.last=Date.now(),this.clearTimer(),this.timeoutObject=setTimeout(function(){return e.go()},t)}},{key:"go",value:function(){this.isActive&&(this.action(),this.setTimer())}},{key:"remaining",value:function(t){return e.isUndefined(t)?this.remainingTime:(this.remainingTime=t,this)}}]),t}();i.Timer=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o,n,r,a){var l={name:"carousel",plugin:!0,selector:".carousel",options:{startIndex:0,wrap:!0,cycle:!1,interval:5e3,intervalMinimumRemaining:1e3,classes:{previous:"previous",current:"current"},selectors:{previous:".carousel-previous",next:".carousel-next",indicator:".carousel-indicator",itemsWrp:".carousel-items",item:".carousel-items > *"},animations:{cycle:a.normal},keystrokes:{"left, up":"previous","right, down, space":"next"},callbacks:{change:e.noop}}},h=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$carousel=this.$element,this.$previous=this.$carousel.find(this.options.selectors.previous),this.$next=this.$carousel.find(this.options.selectors.next),this.$indicators=this.$carousel.find(this.options.selectors.indicator),this.$itemsWrp=this.$carousel.find(this.options.selectors.itemsWrp),this.$items=this.$carousel.find(this.options.selectors.item),this.maxIndex=this.$items.length-1,this._previous=!1,this._current=!1,this.timer=new r(this.next.bind(this),this.options.interval,!1)}},{key:"_init",value:function(){var t=this.$items.filter("."+this.options.classes.current).first();t.length?this._current=this._getItemObj(this.$items.index(t)):this.set(this.options.startIndex)}},{key:"_events",value:function(){this.___previousTap(),this.___nextTap(),this.___indicatorTap(),this.___keydown(),this.___cycle()}},{key:"_destroy",value:function(){this.timer.stop()}},{key:"_sanitizeIndex",value:function(t){return t=Number(t),e.isNaN(t)?NaN:e.clamp(t,0,this.maxIndex)}},{key:"___previousTap",value:function(){this._on(this.$previous,n.tap,this.previous)}},{key:"___nextTap",value:function(){this._on(this.$next,n.tap,this.next)}},{key:"___indicatorTap",value:function(){this._on(this.$indicators,n.tap,this.__indicatorTap)}},{key:"__indicatorTap",value:function(t){this.set(this.$indicators.index(t.currentTarget))}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___cycle",value:function(){this._on(!0,this.$itemsWrp,n.enter,this.__cycleEnter),this._on(!0,this.$itemsWrp,n.leave,this.__cycleLeave)}},{key:"__cycleEnter",value:function(){this.options.cycle&&this.timer.pause()}},{key:"__cycleLeave",value:function(){this.options.cycle&&(this.timer.remaining(Math.max(this.options.intervalMinimumRemaining,this.timer.remaining())),this.timer.play())}},{key:"_getItemObj",value:function(t){return{index:t,$item:this.$items.eq(t),$indicator:this.$indicators.eq(t)}}},{key:"_getPrevIndex",value:function(t){return t>0?t-1:this.options.wrap?this.maxIndex:0}},{key:"_getNextIndex",value:function(t){return t<this.maxIndex?t+1:this.options.wrap?0:this.maxIndex}},{key:"_updatePreviousNext",value:function(){this.$previous.toggleClass(this.options.classes.disabled,0===this._current.index&&!this.options.wrap),this.$next.toggleClass(this.options.classes.disabled,this._current.index===this.maxIndex&&!this.options.wrap)}},{key:"enable",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enable",this).call(this),(this.options.cycle||this._wasCycling)&&this.play()}},{key:"disable",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"disable",this).call(this),this._wasCycling=this.options.cycle,this.options.cycle&&this.stop()}},{key:"get",value:function(){return this._current.index}},{key:"set",value:function(t){t=this._sanitizeIndex(t),this.isLocked()||e.isNaN(t)||this._current&&t===this._current.index||(this.lock(),this._current&&(this._current.$item.removeClass(this.options.classes.current).addClass(this.options.classes.previous),this._current.$indicator.removeClass(this.options.classes.current),this._previous=this._current),this._current=this._getItemObj(t),this._current.$item.addClass(this.options.classes.current),this._current.$indicator.addClass(this.options.classes.current),this._updatePreviousNext(),this.options.cycle&&this.timer.stop(),this._delay(function(){this._previous&&this._previous.$item.removeClass(this.options.classes.previous),this.options.cycle&&this.timer.play(),this.unlock(),this._trigger("change")},this.options.animations.cycle))}},{key:"previous",value:function(){this.set(this._getPrevIndex(this._current.index))}},{key:"next",value:function(){this.set(this._getNextIndex(this._current.index))}},{key:"play",value:function(){this.options.cycle=!0,this.timer.remaining(Math.max(this.options.intervalMinimumRemaining,this.timer.remaining())),this.timer.play()}},{key:"pause",value:function(){this.options.cycle=!1,this.timer.pause()}},{key:"stop",value:function(){this.options.cycle=!1,this.timer.stop()}},{key:"reset",value:function(){this.options.cycle=!0,this.timer.reset()}}]),i}(s.Widget);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Timer,Svelto.Animations),function(t,e,i){var s=function(t,e){var i=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),s=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));return i*s},o={point:!1,$comparer:!1,$not:!1,onlyBest:!1};t.fn.touching=function(i){i=e.extend({},t.fn.touching.defaults,i);var o=i.$not?this.not(i.$not):this;if(i.$comparer){var n=i.$comparer.getRect(),r=[],a=[],l=!0,h=!1,c=void 0;try{for(var u,p=o[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,_=t.getRect(d),v=s(n,_);v>0&&(r.push(d),a.push(v))}}catch(t){h=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(h)throw c}}return!!r.length&&t(i.onlyBest?r[a.indexOf(e.max(a))]:r)}if(i.point){var f=!0,g=!1,m=void 0;try{for(var y,b=o[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var k=y.value,$=t.getRect(k);if(i.point.y>=$.top&&i.point.y<=$.bottom&&i.point.x>=$.left&&i.point.x<=$.right)return t(k)}}catch(t){g=!0,m=t}finally{try{!f&&b.return&&b.return()}finally{if(g)throw m}}}return!1},t.fn.touching.defaults=o}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,o){var n={name:"droppable",plugin:!0,selector:".droppable",options:{selector:"*",classes:{target:void 0,hover:void 0},callbacks:{enter:e.noop,leave:e.noop,drop:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.droppable=this.element,this.$droppable=this.$element,this.__isCompatible=void 0,this._wasHovering=!1}},{key:"_events",value:function(){this.___drag()}},{key:"_isCompatible",value:function(i){return e.isUndefined(this.__isCompatible)&&(this.__isCompatible=t(i).is(this.options.selector),this.__isCompatible&&this.$droppable.addClass(this.options.classes.target)),this.__isCompatible}},{key:"_isPointHovering",value:function(e,i){var s=e||t.eventXY(i,"clientX","clientY");return!!this.$droppable.touching({point:s}).length}},{key:"___drag",value:function(){this.___dragMove(),this.___dragEnd()}},{key:"___dragMove",value:function(){this._on(this.$layout,"draggable:move",this._frames(this.__dragMove,60))}},{key:"__dragMove",value:function(t,e){if(this._isCompatible(e.draggable)){var i=this._isPointHovering(!1,e.moveEvent);i!==this._wasHovering&&(this.$droppable.toggleClass(this.options.classes.hover,i),this._trigger(i?"enter":"leave",{draggable:e.draggable,helper:e.helper,droppable:this.droppable})),this._wasHovering=i}}},{key:"___dragEnd",value:function(){this._on(this.$layout,"draggable:end",this.__dragEnd)}},{key:"__dragEnd",value:function(t,e){this._isCompatible(e.draggable)&&(this.$droppable.removeClass(this.options.classes.target),this._isPointHovering(!1,e.endEvent)&&(this._wasHovering&&this.$droppable.removeClass(this.options.classes.hover),this._trigger("drop",{draggable:e.draggable,helper:e.helper,droppable:this.droppable}))),this.__isCompatible=void 0}}]),s}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s){var o=e.camelCase(i.prefixedCSS("transform")),n=3;t.fn.matrix=function(t){if(t)return t=t.map(function(t){return parseFloat(parseFloat(t).toFixed(n))}).join(","),this[0].style[o]="matrix("+t+")",this;var e=getComputedStyle(this[0],null)[o];return e&&"none"!==e?e.match(/[0-9., e-]+/)[0].split(", ").map(function(t){return parseFloat(parseFloat(t).toFixed(n))}):[1,0,0,1,0,0]};for(var r=["scaleX","skewY","skewX","scaleY","translateX","translateY"],a=0,l=r.length;a<l;a++)t.fn[r[a]]=function(t){return function(i){var s=this.matrix();return e.isUndefined(i)?s[t]:(s[t]=i,this.matrix(s))}}(a);for(var h=["scale","skew","translate"],c=[[0,3],[2,1],[4,5]],u=0,p=h.length;u<p;u++)t.fn[h[u]]=function(t){return function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=this.matrix(),n=c[t];return e.isUndefined(i)||e.isUndefined(s)?{x:o[n[0]],y:o[n[1]]}:(o[n[0]]=i,o[n[1]]=s,this.matrix(o))}}(u)}(Svelto.$,Svelto._,Svelto.Modernizr,Svelto),function(t,e,i,s,o){var n={axis:!1,strict:!1,$anchor:!1,point:!1,pointer:!1,spacing:0,constrainer:{$element:!1,center:!1,tolerance:{x:0,y:0}},directions:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},alignment:{x:"center",y:"center"},callbacks:{change:e.noop}};t.fn.positionate=function(i){if(!this.length)return this;i=e.merge({},t.fn.positionate.defaults,i);var n=this[0],r=t(n),a=r.getRect(),l=window.innerWidth,h=window.innerHeight,c=e.uniq(e.union(i.direction?[i.direction]:[],i.axis?i.directions[i.axis]:[],i.strict&&(i.direction||i.axis)?[]:i.directions.all)),u=i.$anchor?i.$anchor.getRect():{top:i.point.y-window.scrollY,bottom:i.point.y-window.scrollY,left:i.point.x-window.scrollX,right:i.point.x-window.scrollX,width:0,height:0};n._positionateGuid=n._positionateGuid||t.guid++,n._positionateGuc="positionate-"+n._positionateGuid,r.addClass(n._positionateGuc);var p=c.map(function(t){switch(t){case"top":return u.top;case"bottom":return h-u.bottom;case"left":return u.left;case"right":return l-u.right}});p.forEach(function(t,i){if(t<0){var o=s.getOpposite(c[i]),n=c.indexOf(o);n!==-1&&(e.move(c,n,0),e.move(p,n,0))}});var d=c.map(function(t,e){switch(t){case"top":case"bottom":return Math.min(a.height,p[e])*Math.min(l,a.width);case"left":case"right":return Math.min(a.width,p[e])*Math.min(h,a.height)}}),_=d.indexOf(e.max(d)),v=c[_],f={};switch(v){case"top":f.top=u.top-a.height-i.spacing;break;case"bottom":f.top=u.bottom+i.spacing;break;case"left":f.left=u.left-a.width-i.spacing;break;case"right":f.left=u.right+i.spacing}switch(v){case"top":case"bottom":switch(i.alignment.x){case"left":f.left=u.left;break;case"center":f.left=u.left+u.width/2-a.width/2;break;case"right":f.left=u.right-a.width}break;case"left":case"right":switch(i.alignment.y){case"top":f.top=u.top;break;case"center":f.top=u.top+u.height/2-a.height/2;break;case"bottom":f.top=u.bottom-a.height}}if(i.$anchor){var g=(p[_],u.top+u.height>=0&&u.top<=h),m=u.left+u.width>=0&&u.left<=l;g&&(f.top=e.clamp(f.top,i.spacing,h-a.height-i.spacing)),m&&(f.left=e.clamp(f.left,i.spacing,l-a.width-i.spacing))}else if(i.constrainer.$element){var y=i.constrainer.$element.getRect(),b=i.constrainer.center?a.width/2:0,k=i.constrainer.center?a.height/2:0;f.top=e.clamp(f.top,y.top-k-i.constrainer.tolerance.y+i.spacing,y.bottom-a.height+k+i.constrainer.tolerance.y-i.spacing),f.left=e.clamp(f.left,y.left-b-i.constrainer.tolerance.x+i.spacing,y.right-a.width+b+i.constrainer.tolerance.x-i.spacing)}var $={positionable:n,coordinates:f,direction:v};r.translate(f.left,f.top);var S=n._positionatePrevDirection;n._positionatePrevDirection=v,S!==v&&r.removeClass("position-"+S).addClass("position-"+v);var w=n._positionatePrevPointer;if(n._positionatePrevPointer=i.pointer,"auto"===w&&("auto"!==i.pointer||v!==S)){var x=s.getOpposite(S);r.removeClass("pointing-"+x)}if(i.pointer){if("auto"===i.pointer){var C=s.getOpposite(v);r.addClass("pointing-"+C)}switch(v){case"top":case"bottom":var O=e.clamp(u.left-f.left+u.width/2,0,a.width);i.pointer instanceof t?i.pointer.translate(O,0):"auto"===i.pointer&&o.set("."+n._positionateGuc+":after","left:"+O+"px !important;");break;case"left":case"right":var P=e.clamp(a.height,u.top-f.top+u.height/2,0,a.height);i.pointer instanceof t?i.pointer.translate(0,P):"auto"===i.pointer&&o.set("."+n._positionateGuc+":after","top:"+P+"px !important;")}}return i.callbacks.change($),this},t.fn.positionate.defaults=n}(Svelto.$,Svelto._,Svelto,Svelto.Directions,Svelto.EmbeddedCSS),function(t,e,i,s,o,n,r,a){var l={name:"popover",plugin:!0,selector:".popover",options:{contentChangeEvents:"change datepicker:change editor:fullscreen editor:unfullscreen editor:preview editor:unpreview inputautogrow:change tabs:change tablehelper:change tagbox:change textareaautogrow:change",mustCloseEvents:"modal:beforeopen modal:beforeclose panel:beforeopen panel:beforeclose",parentChangeEvents:"popover:close modal:close panel:close editor:unfullscreen",positionate:{},spacing:{affixed:0,fullscreen:0,noTip:5,normal:12},classes:{anchorDirection:"popover-anchor-$1",noTip:"no-tip",affixed:"affixed",fullscreen:"fullscreen",fullscreenRequest:"fullscreen-request",moving:"moving",show:"show",open:"open"},animations:{open:a.fast,close:a.fast},keystrokes:{esc:"__esc"},callbacks:{beforeopen:e.noop,open:e.noop,beforeclose:e.noop,close:e.noop}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$popover=this.$element,this.popover=this.$popover[0],this.$popover.addClass(this.guc),this.hasTip=!this.$popover.hasClass(this.options.classes.noTip),this.isAffixed=this.$popover.hasClass(this.options.classes.affixed),this.isFullscreen=this.$popover.hasClass(this.options.classes.fullscreen),this._isOpen=this.$popover.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._isOpen&&(this.___contentChange(),this.___mustClose(),this.___parentChange(),this.___resize(),this.___parentsScroll(),this.___layoutTap(),this.___keydown())}},{key:"_destroy",value:function(){this.close()}},{key:"___contentChange",value:function(){this._on(!0,this.options.contentChangeEvents,this._positionate)}},{key:"___mustClose",value:function(){this._on(!0,this.$layout,this.options.mustCloseEvents,this.close)}},{key:"___parentChange",value:function(){this._on(!0,this.$document,this.options.parentChangeEvents,this.__parentChange)}},{key:"__parentChange",value:function(e){this.$anchor&&t.contains(e.target,this.$anchor[0])&&(this.$anchor.is(":visible")?this._positionate():this.close())}},{key:"___resize",value:function(){this._on(!0,this.$window,"resize",this._frames(this._positionate,60))}},{key:"___parentsScroll",value:function(){var t=this.$popover.parents().add(this.$anchor?this.$anchor.parents():void 0).add(this.$window);this._on(!0,t,"scroll",this._frames(this._positionate,60))}},{key:"___layoutTap",value:function(){this._on(!0,this.$layout,n.tap,this.__layoutTap)}},{key:"__layoutTap",value:function(e){if(!e.isDefaultPrevented())return e===this._openEvent||this.$popover.touching({point:t.eventXY(e,"clientX","clientY")}).length?e.preventDefault():void this.close()}},{key:"___keydown",value:function(){this._on(!0,this.$document,"keydown",this.__keydown)}},{key:"__esc",value:function(){this.close()}},{key:"_positionate",value:function(){var t=this.$popover.hasClass(this.options.classes.fullscreenRequest),i=this.$anchor&&this.$anchor.hasClass(this.options.classes.noTip)||!this.hasTip||this.isAffixed||this.isFullscreen||t,s=this.isAffixed?this.options.spacing.affixed:this.isFullscreen||t?this.options.spacing.fullscreen:i?this.options.spacing.noTip:this.options.spacing.normal;this.$popover.positionate(e.extend({$anchor:this.$anchor,pointer:!i&&"auto",spacing:s,callbacks:{change:this.__positionChange.bind(this)}},this.options.positionate))}},{key:"_toggleAnchorDirectionClass",value:function(t,i){this.$anchor&&this.$anchor.toggleClass(e.format(this.options.classes.anchorDirection,t),i)}},{key:"__positionChange",value:function(t){this._prevDirection!==t.direction&&(this._prevDirection&&this._toggleAnchorDirectionClass(this._prevDirection,!1),this._toggleAnchorDirectionClass(t.direction,!0),this._prevDirection=t.direction)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t,i,s){e.isBoolean(t)||(t=!(!i||this.$anchor&&(!this.$anchor||this.$anchor[0]===i))||!!(this.$prevAnchor||this.$anchor||"point"in this.options.positionate)&&!this._isOpen),this[t?"open":"close"](i,s)}},{key:"open",value:function(e,i){e||!this.$prevAnchor||"point"in this.options.positionate||"$anchor"in this.options.positionate||(e=this.$prevAnchor[0]),!this.isLocked()&&(!(!e||this._isOpen&&this.$anchor&&e===this.$anchor[0])||"point"in this.options.positionate||"$anchor"in this.options.positionate)&&(this.lock(),this._isOpen=!0,this._openEvent=i,this._wasMoving=!1,this.$anchor&&(this._toggleAnchorDirectionClass(this._prevDirection,!1),this._prevDirection=!1,this.$prevAnchor=this.$anchor,this._isOpen&&(this._wasMoving=!0,this.$popover.addClass(this.options.classes.moving))),this.$anchor=e?t(e):this.options.positionate.$anchor||!1,this._trigger("beforeopen"),this._frame(function(){this.$popover.addClass("show"),this._positionate(),this._frame(function(){this.$popover.addClass(this.options.classes.open),this.autofocus(),this.unlock(),this._trigger("open")})}),this._reset(),this.___layoutTap(),this.___keydown(),this.___contentChange(),this.___mustClose(),this.___parentChange(),this.___resize(),this.___parentsScroll())}},{key:"close",value:function(){!this.isLocked()&&this._isOpen&&(this.lock(),this._isOpen=!1,this._toggleAnchorDirectionClass(this._prevDirection,!1),this._prevDirection=!1,this.$prevAnchor=this.$anchor,this.$anchor=!1,this._trigger("beforeclose"),this._frame(function(){this.$popover.removeClass(this.options.classes.open),this._wasMoving&&this.$popover.removeClass(this.options.classes.moving),this._delay(function(){this.$popover.removeClass(this.options.classes.show),this.autoblur(),this.unlock(),this._trigger("close")},this.options.animations.close)}),this._reset())}}]),s}(s.Autofocusable);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.EmbeddedCSS,Svelto.Animations),function(t,e,i,s,o){var n={name:"popoverCloser",plugin:!0,selector:".popover-closer",options:{widget:s.Popover}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"popoverOpener",plugin:!0,selector:".popover-opener",options:{widget:s.Popover}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"popoverToggler",plugin:!0,selector:".popover-toggler",options:{widget:s.Popover}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n,r,a){var l={name:"select",plugin:!0,selector:".select",templates:{base:'<div class="popover select-popover card <%= o.size %> <%= o.color %> <%= o.css %> <%= o.guc %>"><div class="card-block"><% for ( var i = 0, l = o.options.length; i < l; i++ ) { %><% print ( self[ o.options[i].value ? "option" : "optgroup" ] ( { opt: o.options[i], color: o.color } ) ) %><% } %></div></div>',optgroup:'<div class="divider"><%= o.opt.prop %></div>',option:'<div class="button <%= o.color %>" data-value="<%= o.opt.prop %>"><%= o.opt.value %></div>'},options:{native:!0,popover:{size:"",color:a.white,css:s.Popover.config.options.classes.affixed+" bordered"},classes:{open:"open active",selected:"active highlighted highlight-left",affixed:s.Popover.config.options.classes.affixed},datas:{value:"value"},selectors:{select:"select",option:"option",valueholder:".select-value",valueholderFallback:"label:not(.no-value)",button:".button"},callbacks:{change:e.noop,open:e.noop,close:e.noop}}},h=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"_variables",value:function(){this.$wrp=this.$element,this.$select=this.$wrp.find(this.options.selectors.select),this.$options=this.$select.find(this.options.selectors.option),this.$valueholder=this.$wrp.find(this.options.selectors.valueholder).first(),this.$valueholder.length||(this.$valueholder=this.$wrp.find(this.options.selectors.valueholderFallback).first()),this.initialValueholder=this.$valueholder.text(),this.selectOptions=[],this.$popover=!1}},{key:"_init",value:function(){this._updateValueholder(),this.options.native||(this.$select.addClass(this.options.classes.hidden),this.___selectOptions(),this.___popover())}},{key:"_events",value:function(){this.___change()}},{key:"___change",value:function(){this._on(!0,this.$select,"change",this.__change)}},{key:"__change",value:function(){this._update(),this._trigger("change")}},{key:"___buttonTap",value:function(){this.options.native||this._on(this.$popover,r.tap,this.options.selectors.button,this.__buttonTap)}},{key:"__buttonTap",value:function(e){e.stopImmediatePropagation(),this.$popover.popover("close"),this.set(t(e.currentTarget).data(this.options.datas.value))}},{key:"___selectOptions",value:function(){var e=void 0,i=!0,s=!1,o=void 0;try{for(var n,r=this.$options[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value,l=t(a),h=l.parent();if(h.is("optgroup")){var c=h.attr("label");c!==e&&(e=c,this.selectOptions.push({prop:c}))}var u=l.text();u&&this.selectOptions.push({value:l.text(),prop:l.attr("value")})}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}}},{key:"___popover",value:function(){var i=this._template("base",e.extend({guc:this.guc,options:this.selectOptions},this.options.popover));this.$popover=t(i).appendTo(this.$layout),this.$buttons=this.$popover.find(this.options.selectors.button),this.$popover.popover({positionate:{axis:"y",strict:!0},callbacks:{beforeopen:this.__setPopoverWidth.bind(this),open:this.__popoverOpen.bind(this),close:this.__popoverClose.bind(this)}}),this.$wrp.attr("data-"+s.Targeter.config.options.datas.target,"."+this.guc).popoverToggler(),this._updatePopover()}},{key:"__setPopoverWidth",value:function(){this.$popover.is("."+this.options.classes.affixed)&&this.$popover.css("min-width",this.$wrp.outerWidth())}},{key:"__popoverOpen",value:function(){this.___buttonTap(),this.$wrp.addClass(this.options.classes.open),this._trigger("open")}},{key:"__popoverClose",value:function(){this._reset(),this.___change(),this.$wrp.removeClass(this.options.classes.open),this._trigger("close")}},{key:"_updateValueholder",value:function(){var t=this.$select.val();if(e.isString(t))if(t.length){var i=this.$options.filter('[value="'+t+'"]').last();this.$valueholder.text(i.text())}else this.$valueholder.text(this.initialValueholder)}},{key:"_updatePopover",value:function(){this.$buttons.removeClass(this.options.classes.selected),this.$buttons.filter("[data-"+this.options.datas.value+'="'+this.$select.val()+'"]').last().addClass(this.options.classes.selected)}},{key:"_update",value:function(){this._updateValueholder(),this.options.native||this._updatePopover()}},{key:"get",value:function(){return this.$select.val()}},{key:"set",value:function(t){var e=this.$buttons.filter("[data-"+this.options.datas.value+'="'+t+'"]');e.length&&this.$select.val(t).trigger("change")}}]),o}(s.Widget);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer,Svelto.Colors),function(t,e,i,s,o){var n={name:"tooltip",plugin:!0,selector:".tooltip"},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Popover);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"tooltipCloser",plugin:!0,selector:".tooltip-closer",options:{widget:s.Tooltip}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"tooltipOpener",plugin:!0,selector:".tooltip-opener",options:{widget:s.Tooltip,hover:{active:!0}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"tooltipToggler",plugin:!0,selector:".tooltip-toggler",options:{widget:s.Tooltip,hover:{active:!0}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o){var n={name:"slider",plugin:!0,selector:".slider",options:{min:0,max:100,value:0,step:1,decimals:0,live:!1,datas:{min:"min",max:"max",step:"step",decimals:"decimals"},selectors:{input:"input",bar:".slider-bar",highlight:".slider-highlight",handler:".slider-handler",label:".slider-handler .slider-label"},keystrokes:{"left, down":"decrease","right, up":"increase"},callbacks:{change:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$slider=this.$element,this.$input=this.$slider.find(this.options.selectors.input),this.$bar=this.$slider.find(this.options.selectors.bar),this.$highlight=this.$slider.find(this.options.selectors.highlight),this.$handler=this.$slider.find(this.options.selectors.handler),this.$label=this.$slider.find(this.options.selectors.label)}},{key:"_init",value:function(){var t=this.$input.val();this.options.min=Number(this.$slider.data(this.options.datas.min)||this.options.min),this.options.max=Number(this.$slider.data(this.options.datas.max)||this.options.max),this.options.value=this._sanitizeValue(t||this.options.value),this.options.step=Number(this.$slider.data(this.options.datas.step)||this.options.step),this.options.decimals=Number(this.$slider.data(this.options.datas.decimals)||this.options.decimals),this.stepsNr=(this.options.max-this.options.min)/this.options.step,Number(t)!==this.options.value?this._update():(this._updatePositions(),this._updateLabel())}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___drag()}},{key:"_sanitizeValue",value:function(t){return e.clamp(Number(Number(t).toFixed(this.options.decimals)),this.options.min,this.options.max)}},{key:"_updateVariables",value:function(){this.barWidth=this.$bar.width(),this.stepWidth=this.barWidth/this.stepsNr}},{key:"_updatePositions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.value,e=(t-this.options.min)/this.options.step*100/this.stepsNr;this.$handler.css("left",e+"%"),this.$highlight.css("right",100-e+"%")}},{key:"_updateLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.value;this.$label.text(t)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"_update",value:function(){this._updatePositions(),this._updateLabel(),this._updateInput()}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___drag",value:function(){this.$handler.draggable({draggable:this.isEnabled.bind(this),axis:"x",proxy:{$element:this.$slider,noMotion:this.__dragNoMotion.bind(this)},modifiers:{x:this.__dragModifierX.bind(this)},callbacks:{start:this.__dragStart.bind(this),
move:this.__dragMove.bind(this),end:this.__dragEnd.bind(this)}})}},{key:"__dragNoMotion",value:function(){return!this._dragDistance}},{key:"_dragValue",value:function(){return this._sanitizeValue(this.options.value+this._dragDistance/this.stepWidth*this.options.step)}},{key:"__dragModifierX",value:function(t){return this._dragDistance=this._dragProxyDistance+e.roundCloser(t,this.stepWidth),this._dragIsProxyed&&!this._dragProxyDistance&&(this._dragProxyDistance=this._dragDistance),!1}},{key:"__dragStart",value:function(t,e){this._dragIsProxyed=e.isProxyed,this._dragProxyDistance=0,this._dragDistance=0,this._updateVariables()}},{key:"__dragMove",value:function(){var t=this._dragValue();this.options.live?this.set(t):(this._updateLabel(t),this._updatePositions(t))}},{key:"__dragEnd",value:function(){this.set(this._dragValue())}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){t=this._sanitizeValue(t),e.isNaN(t)||t===this.options.value||(this.options.value=t,this._update(),this._trigger("change"))}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),i}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"switch",plugin:!0,selector:".switch",options:{colors:{on:n.secondary,off:n.gray},datas:{colors:{on:"color-on",off:"color-off"}},classes:{checked:"checked"},selectors:{input:"input",bar:".switch-bar",handler:".switch-handler"},keystrokes:{left:"uncheck",right:"check",spacebar:"toggle"},callbacks:{change:e.noop,check:e.noop,uncheck:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$switch=this.$element,this.$input=this.$switch.find(this.options.selectors.input),this.$bar=this.$switch.find(this.options.selectors.bar),this.$handler=this.$switch.find(this.options.selectors.handler),this.isChecked=this.$input.prop("checked"),this.switchWidth=this.$switch.width(),this.handlerWidth=this.$handler.width()}},{key:"_init",value:function(){this.options.colors.on=this.$switch.data(this.options.datas.colors.on)||this.options.colors.on,this.options.colors.off=this.$switch.data(this.options.datas.colors.off)||this.options.colors.off,this._updateColors(),this._updatePosition()}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___drag()}},{key:"_destroy",value:function(){this.$handler.draggable("destroy")}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.toggle(this.$input.prop("checked"))}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___drag",value:function(){this.$handler.draggable({draggable:this.isEnabled.bind(this),axis:"x",proxy:{$element:this.$switch,noMotion:!1},constrainer:{$element:this.$switch},callbacks:{end:this.__dragEnd.bind(this)}})}},{key:"__dragEnd",value:function(t,e){if(e.motion){var i=e.dragXY.x+this.handlerWidth/2>=this.switchWidth/2;this.toggle(i,!0)}else this.toggle()}},{key:"_updatePosition",value:function(){this.$handler.translateX(this.isChecked?this.switchWidth-this.handlerWidth:0)}},{key:"_updateColors",value:function(){this.$bar.toggleClass(this.options.colors.on,this.isChecked),this.$bar.toggleClass(this.options.colors.off,!this.isChecked),this.$handler.toggleClass(this.options.colors.on,this.isChecked),this.$handler.toggleClass(this.options.colors.off,!this.isChecked)}},{key:"_updateInput",value:function(){this.$input.prop("checked",this.isChecked).trigger("change")}},{key:"_update",value:function(){this._updatePosition(),this._updateColors(),this._updateInput()}},{key:"get",value:function(){return this.isChecked}},{key:"toggle",value:function(t,i){e.isBoolean(t)||(t=!this.isChecked),t!==this.isChecked?(this.isChecked=t,this.$switch.toggleClass(this.options.classes.checked,this.isChecked),this._update(),this._trigger("change"),this._trigger(this.isChecked?"check":"uncheck")):i&&this._updatePosition()}},{key:"check",value:function(){this.toggle(!0)}},{key:"uncheck",value:function(){this.toggle(!1)}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Colors),function(t,e,i,s){var o={alpha:function(t){return!!t.match(s.alpha)},alphanumeric:function(t){return!!t.match(s.alphanumeric)},hexadecimal:function(t){return!!t.match(s.hexadecimal)},number:function(t){return!!t.match(s.integer)||!!t.match(s.float)},integer:function(t){return!!t.match(s.integer)},float:function(t){return!!t.match(s.float)},min:function(t,e){return Number(t)>=Number(e)},max:function(t,e){return Number(t)<=Number(e)},range:function(t,e,i){return t=Number(t),t>=Number(e)&&t<=Number(i)},minLength:function(t,e){return t.trim().length>=Number(e)},maxLength:function(t,e){return t.trim().length<=Number(e)},rangeLength:function(t,e,i){return t=t.trim(),t.length>=Number(e)&&t.length<=Number(i)},exactLength:function(t,e){return t.trim().length===Number(e)},email:function(t){return!!t.match(s.email)},creditCard:function(t){return!!t.match(s.creditCard)},ssn:function(t){return!!t.match(s.ssn)},ipv4:function(t){return!!t.match(s.ipv4)},url:function(t){return!!t.match(s.url)},empty:function(t){return e.isEmpty(t.trim())},included:function(t,i){return t=t.toLowerCase(),i=i.map(function(t){return t.toLowerCase()}),e.includes(i,t)}};i.Validator=o}(Svelto.$,Svelto._,Svelto,Svelto.Regexes),function(t,e,i,s){s&&(e.extend(s.defaults,{dom:'<"card-header bordered"<"multiple center" l <"spacer hidden-xs-down"> f>><"card-block bordered table-wrapper" t><"card-footer bordered"<"multiple center" i <"spacer hidden-xs-down"> p>>',autoWidth:!1,lengthMenu:[[10,25,50,100,250],[10,25,50,100,250]],pageLength:10,pagingType:"simple_numbers_no_ellipses",renderer:"svelto",drawCallback:function(){t(this).widgetize()},initComplete:function(){t(this).closest(".datatable-wrapper").widgetize()}}),e.extend(s.defaults.oLanguage,{sInfo:"Entries _START_-_END_ of _TOTAL_",sInfoEmpty:"No entries to show",sInfoFiltered:" (_MAX_ total)",sLengthMenu:'_MENU_<label>Show <strong><span class="select-value">10</span></strong> entries</label>',sSearch:'<div class="multiple joined no-separators">_INPUT_<div class="label compact bordered"><i class="icon">search</i></div></div>',sSearchPlaceholder:"Search..."}),e.extend(s.defaults.oLanguage.oPaginate,{sFirst:'<i class="icon">first_page</i>',sPrevious:'<i class="icon">chevron_left</i>',sNext:'<i class="icon">chevron_right</i>',sLast:'<i class="icon">last_page</i>'}),e.extend(s.ext.classes,{sFilter:"datatable-filter",sFilterInput:"bordered",sInfo:"datatable-info",sLength:"datatable-length button bordered select",sLengthSelect:"",sPageButton:"button bordered compact",sPageButtonActive:"active highlighted",sPageButtonDisabled:"disabled",sPaging:"datatable-pagination pagination multiple joined ",sProcessing:"datatable-processing",sRowEmpty:"datatable-row-empty",sScrollBody:"datatable-scroll-body",sScrollFoot:"datatable-scroll-foot",sScrollFootInner:"datatable-scroll-foot-inner",sScrollHead:"datatable-scroll-head",sScrollHeadInner:"datatable-scroll-head-inner",sScrollWrapper:"datatable-scroll",sSortAsc:"sortable sort-asc",sSortColumn:"sort-",sSortDesc:"sortable sort-desc",sSortable:"sortable",sSortableAsc:"sort-asc-disabled",sSortableDesc:"sort-desc-disabled",sSortableNone:"sort-disabled",sStripeEven:"even",sStripeOdd:"odd",sTable:"datatable",sWrapper:"datatable-wrapper card bordered limited centered"}),s.ext.pager.numbers_length=5,s.ext.pager.simple_numbers_no_ellipses=function(t,i){var o=s.ext.pager.numbers_length,n=Math.floor(o/2),r=void 0;return r=i<=o?e.range(0,i):t<=n?e.range(0,o):t>=i-1-n?e.range(i-o,i):e.range(t-n,t+n+1),r.DT_el=!1,["previous",r,"next"]},s.ext.renderer.pageButton.svelto=function(e,i,o,n,r,a){var l=new s.Api(e),h=e.oClasses,c=e.oLanguage.oPaginate,u=e.oLanguage.oAria.paginate||{},p=0,d=function i(s,n){for(var d=function(e){e.preventDefault(),t(e.currentTarget).hasClass(h.sPageButtonDisabled)||l.page()===e.data.action||l.page(e.data.action).draw("page")},_=0,v=n.length;_<v;_++){var f=n[_];if(t.isArray(f))i(s,f);else{var g="",m=f;switch(f){case"ellipsis":g='<i class="icon">more_horiz</i>';break;case"first":if(0===r)continue;g=c.sFirst;break;case"previous":if(0===r)continue;g=c.sPrevious;break;case"next":if(0===a||r===a-1)continue;g=c.sNext;break;case"last":if(0===a||r===a-1)continue;g=c.sLast;break;default:g=f+1,m+=r===f?" "+h.sPageButtonActive:""}var y=t("<div>",{"aria-controls":e.sTableId,"aria-label":u[f],"data-dt-idx":p,tabindex:e.iTabIndex,class:h.sPageButton+" "+m,id:0===o&&"string"==typeof f?e.sTableId+"_"+f:null}).html(g).appendTo(s);"ellipsis"!==f&&e.oApi._fnBindAction(y,{action:f},d),p++}}},_=t(i),v=_.find(document.activeElement).data("dt-idx");d(_.empty(),n),v&&_.find("[data-dt-idx="+v+"]").focus()},i.DataTable=s)}(Svelto.$,Svelto._,Svelto,Svelto.$.fn.dataTable),function(t,e,i,s,o,n){if(n){var r={name:"dt",plugin:!0,selector:"table.datatable:visible",options:{select:!1,datas:{select:"select"},selectors:{wrapper:".datatable-wrapper",length:".datatable-length select"},keystrokes:{"ctmd + shift + left":["page","first"],"ctmd + left":["page","previous"],"ctmd + right":["page","next"],"ctmd + shift + right":["page","last"]}}},a=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"_variables",value:function(){this.$table=this.$element,this.$wrapper=this.$table.closest(this.options.selectors.wrapper),this.$length=this.$wrapper.find(this.options.selectors.length),this._api=this.$table.DataTable()}},{key:"_init",value:function(){this.options.select=this.$table.data(this.options.datas.select)||this.options.select}},{key:"_events",value:function(){this.___keydown(),this.___select()}},{key:"_destroy",value:function(){this.$wrapper.remove()}},{key:"___keydown",value:function(){this._onHover(this.$wrapper,[this.$document,"keydown",this.__keydown])}},{key:"___select",value:function(){e.isPlainObject(this.options.select)&&this._on(!0,"draw.dt",this.__select)}},{key:"__select",value:function(i,o){this._defer(function(){if(!this.$table.selectable("get").length){var i=this.options.select.column,n=this.options.select.values||[this.options.select.value],r=o.aoData.filter(function(t){return e.includes(n,t._aData[i])});if(r.length){var a=r.map(function(t){return t.nTr});t(a).addClass(s.Selectable.config.options.classes.selected),this.$table.trigger("change")}}})}},{key:"api",value:function(t){for(var e,i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return(e=this._api)[t].apply(e,s)}},{key:"page",value:function(t,i){if(!e.isString(t)){if(t=e.isNumber(t)&&!e.isNaN(t)?t:Math.floor(i/this.$length.val()),e.isNaN(t))return this.api("page");if(t===this.api("page"))return}this.api("page",t),this.api("draw",!1)}}],[{key:"widgetize",value:function(t){t.dataTable().dt()}}]),o}(s.Widget);o.make(a,r)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.DataTable),function(t,e,i,s,o,n){var r={name:"datatablesPager",plugin:!0,selector:".datatables-pager",options:{widget:s.Dt,page:NaN,row:NaN,datas:{page:"page",row:"row"}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_init",value:function(){var t=this.$element.data(this.options.datas.page),i=this.$element.data(this.options.datas.row);this.options.page=e.isString(t)?t:e.isNaN(Number(t))?this.options.page:Number(t),this.options.row=e.isNaN(Number(i))?this.options.row:Number(i)}},{key:"_events",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_events",this).call(this),this.___tap()}},{key:"___tap",value:function(){this._on(n.tap,this.__tap)}},{key:"__tap",value:function(){this.go()}},{key:"go",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.page,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.row;this._targetInstance.page(t,e)}}]),i}(s.Targeter);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r,a,l){var h={name:"selectable",plugin:!0,selector:"table.selectable",options:{moveThreshold:5,single:!1,classes:{selected:"selected",single:"select-single",datatable:"datatable"},selectors:{element:"tbody tr:not(.table-row-empty)",selectionToggler:void 0},keystrokes:{"ctmd + a":"all","ctmd + shift + a":"clear","ctmd + i":"invert"},callbacks:{change:e.noop}}},c=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$selectable=this.$element,this._isSingle=this.options.single||this.$selectable.hasClass(this.options.classes.single),this._isDataTable=this.$selectable.hasClass(this.options.classes.datatable),this._dtapi=!!this._isDataTable&&this.$selectable.DataTable(),this.$elements=this._getElements(),this._usingSelectionToggler=!!this.options.selectors.selectionToggler,this.options.selectors.selectionToggler=this._usingSelectionToggler?this.options.selectors.element+" "+this.options.selectors.selectionToggler:this.options.selectors.element}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___downTap()}},{key:"_destroy",value:function(){this.clear()}},{key:"___change",value:function(){this._on(!0,"change tablehelper:change sortable:sort processing.dt sort.dt search.dt",this.__change)}},{key:"__change",value:function(){this.$elements=this._getElements(),this._resetPrev(),this._trigger("change")}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___downTap",value:function(){this._isSingle?this.___tap():r.is.touchDevice?(this.___down(),this.___tap()):this.___down()}},{key:"___down",value:function(){this._on(n.down,this.options.selectors.selectionToggler,this.__down)}},{key:"___tap",value:function(){this._tappable=!0,this._on(n.tap,this.options.selectors.selectionToggler,this.__tapTouch)}},{key:"__tapTouch",value:function(t){if(this._tappable){t.preventDefault();var e=this._getEventElement(t);this._isSingle&&this.$elements.not(e).removeClass(this.options.classes.selected),e.toggleClass(this.options.classes.selected),this._trigger("change")}}},{key:"__down",value:function(t){this._tappable=n.isTouchEvent(t),this._tappable||(t.preventDefault(),this.startEvent=t,this.$startElement=this._getEventElement(t),this._on(!0,this.$document,n.move,this._frames(this.__move)),this._one(!0,this.$document,n.up,this.__up),this._one(!0,this.$document,n.cancel,this.__cancel))}},{key:"__move",value:function(e){e.preventDefault();var i=t.eventXY(this.startEvent),s=t.eventXY(e),o={x:s.x-i.x,y:s.y-i.y},r={x:Math.abs(o.x),y:Math.abs(o.y)};(r.x>=this.options.moveThreshold||r.y>=this.options.moveThreshold)&&(this._off(this.$document,n.move,this.__move),this._off(this.$document,n.up,this.__up),this._off(this.$document,n.cancel,this.__cancel),this._resetPrev(),a.keystroke.hasCtrlOrCmd(e)||this.$elements.removeClass(this.options.classes.selected),this.$startElement.toggleClass(this.options.classes.selected),this._on(!0,n.enter,this.options.selectors.element,this.__dragEnter),this._one(!0,this.$document,n.up+" "+n.cancel,this.__dragEnd),this._trigger("change"))}},{key:"__dragEnter",value:function(t){this._toggleGroup(this.$startElement,this._getEventElement(t)),this._trigger("change")}},{key:"__dragEnd",value:function(){this._off(n.enter,this.__dragEnter)}},{key:"__up",value:function(t){this._off(this.$document,n.move,this.__move),this._off(this.$document,n.cancel,this.__cancel);var e=l.hasButton(t,l.buttons.RIGHT);if(t.shiftKey)this._toggleGroup(this.$prevElement,this.$startElement);else if(a.keystroke.hasCtrlOrCmd(t))this.$startElement.toggleClass(this.options.classes.selected,!!e||void 0),this._resetPrev(this.$startElement);else{var i=this.get(),s=i.not(this.$startElement);s.length?(s.removeClass(this.options.classes.selected),this.$startElement.addClass(this.options.classes.selected)):this.$startElement.toggleClass(this.options.classes.selected,!!e||void 0),this._resetPrev(this.$startElement)}this._trigger("change")}},{key:"__cancel",value:function(){this._off(this.$document,n.move,this.__move),this._off(this.$document,n.up,this.__up)}},{key:"_toggleGroup",value:function(t,e){var i=t?this.$elements.index(t):0,s=this.$elements.index(e),o=Math.min(i,s),n=Math.max(i,s);o===i&&(o+=1,n+=1);var r=this.$elements.slice(o,n);this.$prevGroup?(r.not(this.$prevGroup).toggleClass(this.options.classes.selected),this.$prevGroup.not(r).toggleClass(this.options.classes.selected)):r.toggleClass(this.options.classes.selected),this.$prevGroup=r}},{key:"_getElements",value:function(){return this._dtapi?t(this._dtapi.rows().nodes()):this.$selectable.find(this.options.selectors.element)}},{key:"_getEventElement",value:function(e){var i=t(e.currentTarget);return this._usingSelectionToggler?i.closest(this.options.selectors.element):i}},{key:"_resetPrev",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$prevElement=t,this.$prevGroup=e}},{key:"get",value:function(){return this.$elements.filter("."+this.options.classes.selected)}},{key:"all",value:function(){this._isSingle||(this.$elements.addClass(this.options.classes.selected),this._resetPrev(),this._trigger("change"))}},{key:"clear",value:function(){this.$elements.removeClass(this.options.classes.selected),this._resetPrev(),this._trigger("change")}},{key:"invert",value:function(){this._isSingle||(this.$elements.toggleClass(this.options.classes.selected),this._resetPrev(),this._trigger("change"))}}]),i}(s.Widget);o.make(c,h)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Browser,Svelto.Keyboard,Svelto.Mouse),function(t,e,i,s){var o=function(){function t(){_classCallCheck(this,t),this.reset(),this.___visibility()}return _createClass(t,[{key:"get",value:function(){return this.toasts}},{key:"set",value:function(t){this.toasts=t}},{key:"reset",value:function(){this.set([])}},{key:"add",value:function(t){this.toasts.push(t)}},{key:"remove",value:function(t){e.pull(this.toasts,t)}},{key:"isHovering",value:function(){return!!this.hovering}},{key:"setHovering",value:function(t){this.hovering=t}},{key:"___visibility",value:function(){i.$document.on("visibilitychange",this.__visibility.bind(this))}},{key:"__visibility",value:function(){this.isHovering()||(document.hidden?this.pauseAll():this.resumeAll())}},{key:"pause",value:function(t){t.timer.pause()}},{key:"pauseAll",value:function(){this.toasts.forEach(this.pause)}},{key:"resume",value:function(t){t.timer.remaining(Math.max(t.options.ttlMinimumRemaining,t.timer.remaining())).play()}},{key:"resumeAll",value:function(){this.toasts.forEach(this.resume)}}]),t}();s.Toasts=new o}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s,o,n,r,a,l,h,c){var u={name:"toast",plugin:!0,selector:".toast",templates:{queues:'<div class="toast-queues top"><div class="toast-queue expanded"></div><div class="toast-queues-row"><div class="toast-queue left"></div><div class="toast-queue center"></div><div class="toast-queue right"></div></div></div><div class="toast-queues bottom"><div class="toast-queues-row"><div class="toast-queue left"></div><div class="toast-queue center"></div><div class="toast-queue right"></div></div><div class="toast-queue expanded"></div></div>',base:'<div class="toast <%= o.type %> <%= o.color %> <%= o.type !== "action" ? "actionable" : "" %> <%= o.css %>">'+('<div class="infobar '+h.transparent+'">')+'<% if ( o.img ) { %><img src="<%= o.img %>" class="toast-img infobar-left"><% } %><% if ( o.icon ) { %><i class="icon <%= o.title && o.body ? "xlarge" : "" %> infobar-left"><%= o.icon %></i><% } %><% if ( o.title || o.body ) { %><div class="infobar-center"><% if ( o.title ) { %><p class="infobar-title"><%= o.title %></p><% } %><% if ( o.body ) { %><%= o.body %><% } %></div><% } %><% if ( o.buttons.length === 1 ) { %><div class="infobar-right"><% print ( self.button ( o.buttons[0] ) ) %></div><% } %></div><% if ( o.buttons.length > 1 ) { %><div class="toast-buttons multiple center-x"><% for ( var i = 0; i < o.buttons.length; i++ ) { %><% print ( self.button ( o.buttons[i] ) ) %><% } %></div><% } %></div>',button:'<div class="button <%= o.color || "'+h.white+'" %> <%= o.size || "'+c.small+'" %> <%= o.css || "" %>"><%= o.text || "" %></div>'},options:{anchor:{x:"left",y:"bottom"},title:!1,body:!1,img:!1,icon:!1,buttons:[],type:"alert",color:h.black,css:"",persistent:!1,autoplay:!0,ttl:3500,ttlMinimumRemaining:1e3,classes:{open:"open"},selectors:{queues:".toast-queues",queue:".toast-queue",button:".toast-buttons .button, .infobar-right .button"},animations:{open:l.normal,close:l.normal},keystrokes:{esc:"close"},callbacks:{open:e.noop,close:e.noop}}},p=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"_variables",value:function(){this.$toast=this.$element,this.$buttons=this.$toast.find(this.options.selectors.button),this.timer=!1,this._openUrl=!1,this._isOpen=this.$toast.hasClass(this.options.classes.open)}},{key:"_init",value:function(){if(this.$toast.widgetize(),this._isOpen)this.___timer(),this.___tap(),this.___flick(),this.___buttonTap(),this.___hover(),this.___persistent(),this.___keydown(),this.___breakpoint();else if(this.options.autoplay){var t=n.whenReady||n.__proto__.whenReady||o.Widget.whenReady;t.bind(n)(this.open.bind(this))}}},{key:"_getUrl",value:function(){return window.location.href.split("#")[0]}},{key:"___timer",value:function(){"action"!==this.options.type&&e.isNumber(this.options.ttl)&&!e.isNaN(this.options.ttl)&&this.options.ttl!==1/0&&(this.timer?this.timer.reset():this.timer=new a(this.close.bind(this),this.options.ttl,!document.hidden),s.add(this))}},{key:"___tap",value:function(){"action"!==this.options.type&&this._on(r.tap,this.__tap)}},{key:"__tap",value:function(t){t.preventDefault(),this.close()}},{key:"___buttonTap",value:function(){this._on(this.$buttons,r.tap,this.__buttonTap)}},{key:"__buttonTap",value:function(e,i){var s=t(e.target),o=this.$buttons.index(s),n=this.options.buttons[o];n.onClick&&n.onClick.apply(s[0],[e,i])===!1||this.close()}},{key:"___hover",value:function(){this.$toast.hover(function(){s.setHovering(!0),s.pauseAll()},function(){s.setHovering(!1),document.hidden||s.resumeAll()})}},{key:"___flick",value:function(){"action"!==this.options.type&&this.$toast.flickable({callbacks:{flick:this.__flick.bind(this)}})}},{key:"__flick",value:function(t,e){"horizontal"===e.orientation&&this.close()}},{key:"___persistent",value:function(){this.options.persistent||this.___route()}},{key:"__route",value:function(){var t=this._getUrl();this._openUrl&&this._openUrl!==t&&this.close()}},{key:"_reset",value:function(){s.remove(this),this.$toast.flickable("destroy"),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_reset",this).call(this)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"open",value:function(){this.isLocked()||this._isOpen||(this.lock(),this._isOpen=!0,this._frame(function(){t(this.options.selectors.queues+"."+this.options.anchor.y+" "+this.options.selectors.queue+"."+this.options.anchor.x).append(this.$toast),this._frame(function(){this.$toast.addClass(this.options.classes.open),this.autofocus(),this.unlock(),this._trigger("open")})}),this.___timer(),this.___tap(),this.___flick(),this.___buttonTap(),this.___hover(),this.___persistent(),this.___keydown(),this.___breakpoint(),this._defer(function(){this._openUrl=this._getUrl()}))}},{key:"close",value:function(){!this.isLocked()&&this._isOpen&&(this.lock(),this._isOpen=!1,this._openUrl=!1,this._frame(function(){this.$toast.removeClass(this.options.classes.open),this.autoblur(),this._delay(function(){this.$toast.remove(),this.unlock(),this._trigger("close")},this.options.animations.close)}),this._reset())}}],[{key:"ready",value:function(i){e.delay(function(){var e=t(".layout, body").first();e.append(n.config.templates.queues),i()})}}]),n}(o.Autofocusable);n.make(p,u)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.Toasts,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Timer,Svelto.Animations,Svelto.Colors,Svelto.Sizes),function(t,e,i,s){var o={title:"",body:"",img:"",ttl:s.config.options.ttl};t.notification=function(i){i=e.isPlainObject(i)?e.extend({},t.notification.defaults,i):String(i),document.hidden&&window.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(s){if("granted"===s){var o=e.isString(i)?new Notification(i):new Notification(i.title,{body:i.body,icon:i.img});e.isNumber(i.ttl)&&!e.isNaN(i.ttl)&&i.ttl!==1/0&&setTimeout(o.close.bind(o),i.ttl)}else t.toast(i)}):t.toast(i)},t.notification.defaults=o}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.Toast),function(t,e,i,s,o,n){var r={name:"formValidate",plugin:!0,selector:"form.validate",templates:{message:'<p class="form-validate-message <%= o.validity %>"><%= o.message %></p>',messages:'<ul class="form-validate-message <%= o.validity %>"><% for ( var i = 0, l = o.messages.length; i < l; i++ ) { %><li><%= o.messages[i] %></li><% } %></ul>'},options:{validators:{required:function(t){return!n.empty(t)},values:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return n.included(t,i)},field:function(t,i){var s=e.find(this.elements,{name:i}).value;return t===s},checked:function(){return this.element.$element.prop("checked")},regex:function(t,e){return!!t.match(new RegExp(e))}},messages:{form:{invalid:"The form contains some errors"},validators:{invalid:{general:"This value is not valid",alpha:"Only alphabetical characters are allowed",alphanumeric:"Only alphanumeric characters are allowed",hexadecimal:"Only hexadecimal characters are allowed",number:"Only numbers are allowed",integer:"Only integers numbers are allowed",float:"Only floating point numbers are allowed",min:"The number must be at least $2",max:"The number must be at maximum $2",range:"The number must be between $2 and $3",minLength:"The length must be at least $2",maxLength:"The length must be at maximum $2",rangeLength:"The length must be between $2 and $3",exactLength:"The length must be exactly $2",email:"Enter a valid email address",creditCard:"Enter a valid credit card number",ssn:"Enter a valid Social Security Number",ipv4:"Enter a valid IPv4 address",url:"Enter a valid URL",required:"This field is required",values:"This value is not allowed",field:"The two fields don't match",checked:"This must be checked"}}},characters:{separators:{validations:"|",arguments:","}},regexes:{validation:/^([^\[]+)(?:\[(.*)\])?$/},datas:{id:"_fveid",validations:"validations",messages:{invalid:"invalid",valid:"valid"}},classes:{invalid:"invalid",valid:"valid"},selectors:{element:'input:not([type="button"]), textarea, select',textfield:'input:not([type="button"]):not([type="checkbox"]):not([type="radio"]), textarea',wrapper:".checkbox, .colorpicker, .datepicker, .editor, .radio, .select, .slider, .switch"}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$form=this.$element,this.$elements=this.$form.find(this.options.selectors.element),this.$textfields=this.$elements.filter(this.options.selectors.textfield),this.___elements()}},{key:"_events",value:function(){this.___change(),this.___focus(),this.___blur(),this.___submit()}},{key:"___elements",value:function(){this.elements={};var i=!0,s=!1,o=void 0;try{for(var r,a=this.$elements[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value,h=t(l),c=h.parents(this.options.selectors.wrapper),u=!!c.length,p=u?c.first():h,d=t.guid++,_=h.data(this.options.datas.validations),v=!1;if(_){v={};var f=_.split(this.options.characters.separators.validations),g=!0,m=!1,y=void 0;try{for(var b,k=f[Symbol.iterator]();!(g=(b=k.next()).done);g=!0){var $=b.value,S=$.match(this.options.regexes.validation);if(S){var w=S[1],x=S[2]?S[2].split(this.options.characters.separators.arguments):[],C=this.options.validators[w]||n[w];C&&(v[w]={args:x,validator:C})}}}catch(t){m=!0,y=t}finally{try{!g&&k.return&&k.return()}finally{if(m)throw y}}e.isEmpty(v)&&(v=!1)}l[this.options.datas.id]=d,this.elements[d]={id:d,$element:h,$wrapper:p,$message:!1,name:l.name,value:h.val(),validations:v,isDirty:!1,isValid:void 0,messages:{invalid:u?h.data(this.options.datas.messages.invalid)||p.data(this.options.datas.messages.invalid):h.data(this.options.datas.messages.invalid),valid:u?h.data(this.options.datas.messages.valid)||p.data(this.options.datas.messages.valid):h.data(this.options.datas.messages.valid)}}}}catch(t){s=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}}},{key:"_updateElement",value:function(t){this._isValid=void 0,t.isDirty=!0,t.isValid=void 0,this._validateWorker(t);for(var i in this.elements)if(this.elements.hasOwnProperty(i)&&i!==t.id){var s=this.elements[i],o=s.validations&&"field"in s.validations&&s.validations.field.args.indexOf(t.name)!==-1,n=!e.isEmpty(t.name)&&s.name===t.name;(o||n)&&(s.isValid=void 0,this._validateWorker(s))}}},{key:"_updateElements",value:function(){for(var t in this.elements)this.elements.hasOwnProperty(t)&&this._updateElement(this.elements[t])}},{key:"___change",value:function(){this._on(!0,this.$elements,"change",this.__change)}},{key:"__change",value:function(t){this._updateElement(this.elements[t.currentTarget[this.options.datas.id]])}},{key:"___focus",value:function(){this._on(this.$textfields,"focus",this.__focus)}},{key:"__focus",value:function(t){var e=this.elements[t.currentTarget[this.options.datas.id]];e.isValid=void 0,this.__indeterminate(e)}},{key:"___blur",value:function(){this._on(this.$textfields,"blur",this.__blur)}},{key:"__blur",value:function(t){var e=this.elements[t.currentTarget[this.options.datas.id]];this._validateWorker(e)}},{key:"___submit",value:function(){this._on(!0,"submit",this.__submit)}},{key:"__submit",value:function(e){this._updateElements(),this.isValid()||(e.preventDefault(),e.stopImmediatePropagation(),t.toast(this.options.messages.form.invalid))}},{key:"_validateWorker",value:function(t){if(e.isUndefined(t.isValid)){var i=this._validate(t),s=i===!0;t.isValid=s,s?this.__valid(t):this.__invalid(t,i)}}},{key:"_validate",value:function(t){var i=[],s=t.validations;if(t.isDirty&&(t.value=t.$element.val(),t.isDirty=!1),s)for(var o in s)if(s.hasOwnProperty(o)){var n=s[o],r=n.validator.apply({elements:this.elements,element:t},[t.value].concat(n.args));if(!r){var a=e.format.apply(e,[this.options.messages.validators.invalid[o]||this.options.messages.validators.invalid.general,t.value].concat(_toConsumableArray(n.args)));i.push(a)}}return!!e.isEmpty(i)||i}},{key:"__indeterminate",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid+" "+this.options.classes.valid),this._updateMessage(t,!1)}},{key:"__valid",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid).addClass(this.options.classes.valid),this._updateMessage(t,t.messages.valid)}},{key:"__invalid",value:function(t,e){t.$wrapper.removeClass(this.options.classes.valid).addClass(this.options.classes.invalid),this._updateMessage(t,t.messages.invalid||e)}},{key:"_updateMessage",value:function(i,s){if(i.$message&&i.$message.remove(),s){var o=i.isValid?this.options.classes.valid:this.options.classes.invalid,n=e.isString(s)?this._template("message",{
message:s,validity:o}):1===s.length?this._template("message",{message:s[0],validity:o}):this._template("messages",{messages:s,validity:o});i.$message=t(n),i.$wrapper.after(i.$message)}else i.$message=!1}},{key:"isValid",value:function(){if(e.isUndefined(this._isValid)){for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var i=this.elements[t];e.isUndefined(i.isValid)&&this._validateWorker(i),i.isValid||(this._isValid=!1)}e.isUndefined(this._isValid)&&(this._isValid=!0)}return this._isValid}}]),s}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Validator),function(t,e,i,s,o){var n={name:"formAjax",plugin:!0,selector:"form.ajax",options:{spinnerOverlay:!0,timeout:31e3,autoclose:{enabled:!0,selectors:[".modal",".panel",".popover",".overlay",".expander"],plugins:["modal","panel","popover","overlay","expander"],methods:"close"},messages:{success:"Done! A page refresh may be needed",refreshing:"Done! Refreshing the page...",redirecting:"Done! Redirecting..."},callbacks:{beforesend:e.noop,error:e.noop,success:e.noop,complete:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.form=this.element,this.$form=this.$element}},{key:"_events",value:function(){this.___submit()}},{key:"_autoclose",value:function(){var t=this,i=this.options.autoclose,s=i.selectors,o=i.plugins,n=i.methods,r=function(i,r){var a=t.$form.closest(s[i]);if(!a.length)return"continue";var l=e.isArray(n)?n[i]:n;return t.options.spinnerOverlay?t._on("spinneroverlay:close",function(){return a[o[i]](l)}):a[o[i]](l),"break"};t:for(var a=0,l=s.length;a<l;a++){var h=r(a,l);switch(h){case"continue":continue;case"break":break t}}}},{key:"___submit",value:function(){this._on(!0,"submit",this.__submit)}},{key:"__submit",value:function(i){var s=this;i.preventDefault(),i.stopImmediatePropagation(),t.ajax({cache:!1,contentType:!1,data:new FormData(this.form),processData:!1,timeout:this.options.timeout,type:this.$form.attr("method")||"POST",url:this.$form.attr("action"),beforeSend:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("open"),s._trigger("beforesend")},error:function(i){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);t.toast(!e.isError(o)&&"message"in o?o.msg:s.options.messages.error),s._trigger("error")},success:function(i){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);e.isError(o)?t.toast(s.options.messages.success):(o.refresh||o.url===window.location.href||e.isString(o.url)&&e.trim(o.url,"/")===e.trim(window.location.pathname,"/")?(t.toast(o.message||s.options.messages.refreshing),location.reload()):o.url?(t.toast(o.message||s.options.messages.redirecting),location.assign(o.url)):t.toast(o.message||s.options.messages.success),s.options.autoclose.enabled&&s._autoclose()),s._trigger("success")},complete:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("close"),s._trigger("complete")}})}}]),s}(s.Widget);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"rater",plugin:!0,selector:".rater",templates:{base:'<div class="rater"><% print ( self.stars ( o ) ) %></div>',stars:'<% for ( var i = 1; i <= o.amount; i++ ) { %><div class="rater-star <%= ( o.value >= i ? "active" : ( o.value >= i - 0.5 ? "half-active" : "" ) ) %>"></div><% } %>'},options:{value:0,amount:5,url:!1,rated:!1,datas:{value:"value",amount:"amount",url:"url"},classes:{rated:"rated"},selectors:{star:".rater-star"},callbacks:{change:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$rater=this.$element,this.doingAjax=!1}},{key:"_init",value:function(){this.options.value=Number(this.$rater.data(this.options.datas.value))||this.options.value,this.options.amount=Number(this.$rater.data(this.options.datas.amount))||this.options.amount,this.options.url=Number(this.$rater.data(this.options.datas.url))||this.options.url,this.options.rated=this.$rater.hasClass(this.options.classes.rated)}},{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this.options.rated||this._on(n.tap,this.options.selectors.star,this.__tap)}},{key:"__tap",value:function(i){var s=this;if(!this.options.rated&&!this.doingAjax&&this.options.url){var o=this.$stars.index(i.currentTarget)+1;t.ajax({data:{rating:o},type:"POST",url:this.options.url,beforeSend:function(){s.doingAjax=!0},error:function(i){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);t.toast(!e.isError(o)&&"message"in o?o.message:s.options.messages.error)},success:function(t){var i=e.isPlainObject(t)?t:e.attempt(JSON.parse,t);e.isError(i)||(e.merge(s.options,i),s.$rater.html(s._template("stars",s.options)),s.options.rated=!0,s._trigger("change"))},complete:function(){s.doingAjax=!1}})}}},{key:"get",value:function(){return{value:this.options.value,amount:this.options.amount}}}]),s}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r){var a={name:"remoteAction",options:{closingDelay:s.Toast.config.options.ttl/2,ajax:{cache:!1,method:"POST"},confirmation:{body:"Execute action?",buttons:[{text:"Cancel"},{text:"Execute",color:n.secondary,isConfirmative:!0}]},messages:{success:"Done! A page refresh may be needed",refreshing:"Done! Refreshing the page...",redirecting:"Done! Redirecting..."},classes:{spinner:{color:n.white,size:r.small,css:""}}}},l=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"___confirmationToast",value:function(){if(!this.$toast){var t=e.cloneDeep(this.options.confirmation),i=e.findIndex(t.buttons,"isConfirmative"),s=i>=0?t.buttons[i]:e.last(t.buttons),o=s.onClick,n=this;s.onClick=function(){return n.request(!0),e.isFunction(o)&&o.apply(this,arguments),!1},this._replaceToast(t)}}},{key:"___loadingToast",value:function(){this._replaceToast('<svg class="spinner '+this.options.classes.spinner.color+" "+this.options.classes.spinner.size+" "+this.options.classes.spinner.css+'"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg>')}},{key:"_replaceToast",value:function(i){var s=t.toast(e.isString(i)?{body:i,autoplay:!1}:e.extend({},i,{autoplay:!1}));s.close();var o=s.$element;this.$toast?this.$toast.html(o.html()).widgetize():(this.$toast=o,this.$toast.toast("open"))}},{key:"_destroyToast",value:function(t){this.$toast&&this._delay(function(){this.$toast.toast("close"),this._delay(function(){this.$toast.remove(),this.$toast=!1},s.Toast.config.options.animations.close)},t?this.options.closingDelay:0)}},{key:"__beforesend",value:function(t){this.isAborted()||(this.___loadingToast(),_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"__beforesend",this).call(this,t))}},{key:"__error",value:function(t){if(!this.isAborted()){var i=e.isPlainObject(t)?t:e.attempt(JSON.parse,t);this._replaceToast(!e.isError(i)&&"message"in i?i.message:this.options.messages.error),this._destroyToast(!0),_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"__error",this).call(this,t)}}},{key:"__success",value:function(t){if(!this.isAborted()){var i=e.isPlainObject(t)?t:e.attempt(JSON.parse,t);e.isError(i)?this._replaceToast(this.options.messages.success):i.refresh||i.url===window.location.href||e.isString(i.url)&&e.trim(i.url,"/")===e.trim(window.location.pathname,"/")?(this._replaceToast(i.message||this.options.messages.refreshing),location.reload()):i.url?(this._replaceToast(i.message||this.options.messages.redirecting),location.assign(i.url)):this._replaceToast(i.message||this.options.messages.success),this._destroyToast(!0),_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"__success",this).call(this,t)}}},{key:"request",value:function(t){!t&&this.options.confirmation&&"buttons"in this.options.confirmation&&this.options.confirmation.buttons.length?this.___confirmationToast():_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"request",this).call(this)}},{key:"abort",value:function(){this._destroyToast(),_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"abort",this).call(this)}}]),o}(s.Remote);o.make(l,a)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Colors,Svelto.Sizes),function(t,e,i,s){t.remoteAction=function(t){new s({ajax:t}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.RemoteAction),function(t,e,i,s,o){var n={name:"remoteActionTrigger",plugin:!0,selector:".remote-action-trigger",options:{widget:s.RemoteAction}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteTrigger);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"remoteLoader",plugin:!0,selector:".remote-loader",options:{target:!1,autorequest:{threshold:400},preloading:{enabled:!1,wait:!0},requests:{multiple:{parallel:!1,sequential:!1}},attributes:{href:"href"},classes:{preload:"preload"},datas:{url:"url",data:"data",method:"method",target:"target"}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_variables",this).call(this),this.$loader=this.$element}},{key:"_init",value:function(){var e=this;this.options.preloading.enabled=this.$loader.hasClass(this.options.classes.preload)||this.options.preloading.enabled,this.options.ajax.url=this.$loader.data(this.options.datas.url)||this.$loader.attr(this.options.attributes.href)||this.options.ajax.url,this.options.ajax.data=this.$loader.data(this.options.datas.data)||this.options.ajax.data,this.options.ajax.method=this.$loader.data(this.options.datas.method)||this.options.ajax.method,this.options.target=this.$loader.data(this.options.datas.target)||this.options.target,this.options.target&&(this.$target=t(this.options.target),this.$target=!!this.$target.length&&this.$target),this.options.preloading.enabled&&this.preload(),this._defer(function(){return!e.isRequesting()&&e.disable()})}},{key:"_events",value:function(){this.___request()}},{key:"_replace",value:function(e,i,s){var o=s?i.html:e,r="remote-loaded-"+t.guid++,a='<div id="'+r+'" class="remote-loaded">'+o+"</div>";this.$loader[0].outerHTML=a;var l=t("#"+r);l.widgetize(),n.focus(l),this.$loader.remove(),this._replaced=!0}},{key:"___request",value:function(){this.__request();var t=this.$window.add(this.$loader.parents()),e=this._frames(this.__request,60);this._on(!0,this.$window,"resize",e),this._on(!0,t,"scroll",e)}},{key:"__request",value:function(){this.$loader.getRect().top-this.$window.outerHeight()>this.options.autorequest.threshold||this.request()}},{key:"__complete",value:function(t){this._preloading=!1,_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__complete",this).call(this,t)}},{key:"__error",value:function(i){if(!this.isAborted()){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);t.toast(!e.isError(o)&&"message"in o?o.message:this.options.messages.error),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__error",this).call(this,i),this.$loader.remove()}}},{key:"__success",value:function(t){if(!this.isAborted()){var i=e.isPlainObject(t)?t:e.attempt(JSON.parse,t),o=!e.isError(i);if(o&&!("html"in i))return this.__error(t);_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__success",this).call(this,t),this._preloading&&this.options.preloading.wait&&!this._requested?(this.disable(),this._res=t,this._resj=i,this._isJSON=o):this._replace(t,i,o)}}},{key:"request",value:function(t){if(!this._replaced){if(this.$target)return this._replace(this.$target.html(),null,!1);if(this._res)return this._replace(this._res,this._resj,this._isJSON);if(t||(this._requested=!0),this.canRequest())return this.enable(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"request",this).call(this)}}},{key:"preload",value:function(){this.$target||(this._preloading=!0,this.request(!0))}}]),s}(s.Remote);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Autofocus),function(t,e,i,s){var o=s.config.options.datas,n={template:'<div class="remote-loader" data-'+o.method+'="<%= o.method %>" data-'+o.data+"='<%= JSON.stringify ( o.data ) %>' data-"+o.url+'="<%= o.url %>"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em"></circle></svg></div>',url:"",data:{text:"test"},method:""};t.remoteLoader=function(i,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";i=e.merge({},t.remoteLoader.defaults,i);var n=e.template(i.template,{variable:"o"})(i),r=t(n);s[o](r),r.widgetize()},t.remoteLoader.defaults=n}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.RemoteLoader),function(t,e,i,s,o){var n={name:"remoteLoaderTrigger",plugin:!0,selector:".remote-loader-trigger",options:{widget:s.RemoteLoader}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_getOptions",value:function(){return e.merge(_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_getOptions",this).call(this),{callbacks:{beforesend:this.disable.bind(this)}})}},{key:"trigger",value:function(){this.$trigger[this.options.widget.config.name](this._getOptions())}}]),i}(s.RemoteTrigger);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"remoteReaction",options:{state:void 0,stateDefault:null,stateUrl:!1,url:!1,ajax:{cache:!1,method:"POST"},datas:{state:"state",stateUrl:"state-url",url:"url"}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$reaction=this.$element}},{key:"_init",value:function(){this.options.state=this.$reaction.hasAttribute("data-"+this.options.datas.state)?this.$reaction.data(this.options.datas.state):this.options.state||this.options.stateDefault,this.options.stateUrl=this.$reaction.data(this.options.datas.stateUrl)||this.options.stateUrl,this.options.url=this.$reaction.data(this.options.datas.url)||this.options.url,this._update(),this.___remoteState()}},{key:"___remoteState",value:function(){this.options.stateUrl&&t.get(this.options.stateUrl,this.__remoteState.bind(this))}},{key:"__remoteState",value:function(t){var i=e.isPlainObject(t)?t:e.attempt(JSON.parse,t);!e.isError(i)&&"state"in i&&this._remoteState(i)}},{key:"_remoteState",value:function(t){t.state!==this.options.state&&(this.options.state=t.state,this._update())}},{key:"_update",value:function(){this.$reaction.attr("data-"+this.options.datas.state,String(this.options.state))}},{key:"__beforesend",value:function(t){return this.disable(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__beforesend",this).call(this,t)}},{key:"__error",value:function(i){if(!this.isAborted()){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);return t.toast(!e.isError(o)&&"message"in o?o.msg:this.options.messages.error),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__error",this).call(this,i)}}},{key:"__success",value:function(i){if(!this.isAborted()){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);return e.isError(o)?this.__error(i):(this._success(o),"message"in o&&t.toast(o.message),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__success",this).call(this))}}},{key:"__complete",value:function(t){return this.enable(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__complete",this).call(this,t)}},{key:"_success",value:function(t){this.options.state=t.state,this._update()}},{key:"get",value:function(){return this.options.state}},{key:"set",value:function(t){if(t!==this.options.state){var e=this.get(),i={data:{current:e,state:t},url:this.options.url||this.options.ajax.url};return this.request(i)}}},{key:"reset",value:function(){return this.set(this.options.stateDefault)}}]),s}(s.Remote);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n){var r={name:"liker",plugin:!0,selector:".liker",options:{likes:0,dislikes:0,datas:{likes:"likes",dislikes:"dislikes"},selectors:{like:".like",dislike:".dislike"}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_variables",this).call(this),this.$like=this.$reaction.find(this.options.selectors.like),this.$dislike=this.$reaction.find(this.options.selectors.dislike)}},{key:"_init",value:function(){this.options.likes=Number(this.$like.data(this.options.datas.likes))||this.options.likes,this.options.dislikes=Number(this.$dislike.data(this.options.datas.dislikes))||this.options.dislikes,_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_init",this).call(this)}},{key:"_events",value:function(){this.___like(),this.___dislike()}},{key:"_update",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_update",this).call(this),this.$like.attr("data-"+this.options.datas.likes,this.options.likes),this.$dislike.attr("data-"+this.options.datas.dislikes,this.options.dislikes)}},{key:"___like",value:function(){this._on(this.$like,n.tap,this.__like)}},{key:"__like",value:function(){var t=this.options.state?"reset":"like";this[t]()}},{key:"___dislike",value:function(){this._on(this.$dislike,n.tap,this.__dislike)}},{key:"__dislike",value:function(){var t=this.options.state===!1?"reset":"dislike";this[t]()}},{key:"_success",value:function(t){this.options.likes=t.likes,this.options.dislikes=t.dislikes,_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_success",this).call(this,t)}},{key:"get",value:function(){return e.pick(this.options,["likes","dislikes","state"])}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.options.state;!!t!==this.options.state&&this.set(!!t)}},{key:"like",value:function(){return this.set(!0)}},{key:"dislike",value:function(){return this.set(!1)}}]),i}(s.RemoteReaction);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n){var r={name:"subscriber",plugin:!0,selector:".subscriber",options:{counter:0,datas:{counter:"counter"},selectors:{toggle:".toggle",counter:".counter"}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_variables",this).call(this),this.$toggle=this.$reaction.find(this.options.selectors.toggle),this.$counter=this.$reaction.find(this.options.selectors.counter)}},{key:"_init",value:function(){this.options.counter=Number(this.$counter.data(this.options.datas.counter))||this.options.counter,_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_init",this).call(this)}},{key:"_events",value:function(){this.___toggle()}},{key:"_update",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_update",this).call(this),this.$counter.attr("data-"+this.options.datas.counter,this.options.counter)}},{key:"___toggle",value:function(){this._on(this.$toggle,n.tap,this.__toggle)}},{key:"__toggle",value:function(){this.toggle()}},{key:"_success",value:function(t){this.options.counter=t.counter,_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_success",this).call(this,t)}},{key:"get",value:function(){return e.pick(this.options,["counter","state"])}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.options.state;!!t!==this.options.state&&this.set(!!t)}},{key:"subscribe",value:function(){return this.set(!0)}},{key:"unsubscribe",value:function(){return this.set(!1)}}]),i}(s.RemoteReaction);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r){var a=[],l={name:"remoteWidget",templates:{placeholder:!1},options:{persistent:!1,resize:!0,$wrapper:!1,widget:!1,methods:{open:"open",close:"close"},events:{beforeclose:"beforeclose",close:"close"},ajax:{cache:!1,method:"POST"},cache:{enabled:!1,size:50},storage:{enabled:!1,ttl:86400},attributes:{id:"data-remote-widget-id"},classes:{placeholder:"remote-widget-placeholder",placeholderExtra:"",loaded:"remote-widget-loaded",resizing:"remote-widget-resizing",showing:"remote-widget-showing"},animations:{resize:n.normal}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_init",value:function(){this.options.$wrapper=this.options.$wrapper||this.$layout}},{key:"_getUrl",value:function(){return window.location.href.split("#")[0]}},{key:"_getRequestId",value:function(t){var i=t.method,s=t.url,o=t.data;return e.isPlainObject(o)&&(o=JSON.stringify(o)),btoa([i,s,o].join())}},{key:"___persistent",value:function(){this.options.persistent||this.___route()}},{key:"__route",value:function(){var t=this._getUrl();this._openUrl&&this._openUrl!==t&&this.abort()}},{key:"___widget",value:function(e){e||(e=t(this._template("placeholder",this.options)).attr(this.options.attributes.id,this.requestId)),this.$widget=t(e).appendTo(this.options.$wrapper)}},{key:"_widgetInit",value:function(){this.$widget.widgetize(),r.focus(this.$widget)}},{key:"_widgetOpen",value:function(){this.$widget[this.options.widget.config.name](this.options.methods.open)}},{key:"_widgetReplaceWith",value:function(t){var i=this.$widget[this.options.widget.config.name]("instance");i[this.options.methods.close]=e.noop,i.destroy(),this.$widget.replaceWith(t),this.$widget=t,this._widgetInit()}},{key:"_widgetResizing",value:function(){}},{key:"_widgetResized",value:function(){this.$widget.css({width:"",height:""}),this.$widget.removeClass(this.options.classes.placeholder).removeClass(this.options.classes.loaded).removeClass(this.options.classes.resizing).removeClass(this.options.classes.showing)}},{key:"_widgetDestroy",value:function(){var t=this;if(this.$widget){var e=this.$widget[this.options.widget.config.name]("instance");e.whenUnlocked(function(){e[t.options.methods.close](),t._delay(function(){this.$widget&&(this.$widget.remove(),this.$widget=!1)},e.options.animations[t.options.methods.close])})}}},{key:"_cacheGet",value:function(t){return a.find(function(e){return e.id===t})}},{key:"_cacheSet",value:function(t,e){a.unshift({id:t,widget:e}),a.length>this.options.cache.size&&(a=a.slice(0,this.options.cache.size))}},{key:"_cacheShow",value:function(e){var i=t(e.widget).attr(this.options.attributes.id,e.id);this.___widget(i),this._widgetInit(),this._widgetOpen(),this.___close()}},{key:"___abort",value:function(){this._on(!0,this.$widget,(this.options.widget.config.name+":"+this.options.events.beforeclose).toLowerCase(),this.abort)}},{key:"___close",value:function(){this._on(!0,this.$widget,(this.options.widget.config.name+":"+this.options.events.close).toLowerCase(),this._widgetDestroy)}},{key:"__beforesend",value:function(e){if(!this.isAborted()){this.requestId=this._getRequestId(this.ajax);var i=t("["+this.options.attributes.id+'="'+this.requestId+'"]');if(i.length)return i[this.options.widget.config.name](this.options.methods.close),!1;if(this.options.cache.enabled){var o=this._cacheGet(this.requestId);if(o)return this._cacheShow(o),!1}if(this.options.storage.enabled){var n=this._storageGet(this.requestId);if(n)return this._cacheShow(n),!1}this._defer(function(){this._openUrl=this._getUrl()}),this.___persistent(),this.___widget(),this.___abort(),this._widgetInit(),this._widgetOpen(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__beforesend",this).call(this,e)}}},{key:"__error",value:function(i){if(!this.isAborted()){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);t.toast(!e.isError(o)&&"message"in o?o.message:this.options.messages.error),this._widgetDestroy(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__error",this).call(this,i)}}},{key:"__success",value:function(i){if(!this.isAborted()){var o=e.isPlainObject(i)?i:e.attempt(JSON.parse,i);if(e.isError(o)||!(this.options.widget.config.name in o))return this.__error(i);var n=o[this.options.widget.config.name],r=t(n),a=void 0;if(this.options.resize&&(a=this.$widget.getRect()),r.addClass(this.options.widget.config.options.classes.show).addClass(this.options.widget.config.options.classes[this.options.methods.open]),r.attr(this.options.attributes.id,this.requestId),this.options.cache.enabled&&this._cacheSet(this.requestId,n),this.options.storage.enabled){var l={id:this.requestId,widget:n};this._storageSet(this.requestId,l,this.options.storage.ttl)}this._frame(function(){var t=this;this._widgetReplaceWith(r),this.___close(),this.options.resize&&!function(){var e=t.$widget.getRect(),i=a.width!==e.width||a.height!==e.height;i&&(t.$widget.css({width:a.width,height:a.height}),t.$widget.addClass(t.options.classes.placeholder).addClass(t.options.classes.resizing),t._frame(function(){this.$widget.addClass(this.options.classes.showing),this.$widget.animate({width:e.width,height:e.height},{duration:this.options.animations.resize,step:this._widgetResizing.bind(this),always:this._widgetResized.bind(this)})}))}()}),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"__success",this).call(this,i)}}},{key:"abort",value:function(){this._widgetDestroy(),_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"abort",this).call(this)}}]),s}(s.Remote);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations,Svelto.Autofocus),function(t,e,i,s,o,n){var r={name:"remoteModal",templates:{placeholder:'<div class="modal container <%= o.classes.placeholder %> <%= o.classes.placeholderExtra %>"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg></div>'},options:{widget:s.Modal,classes:{placeholder:"remote-modal-placeholder",loaded:"remote-modal-loaded",resizing:"remote-modal-resizing",showing:"remote-modal-showing"},animations:{resize:n.normal}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteWidget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s){t.remoteModal=function(t){new s({ajax:t}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.RemoteModal),function(t,e,i,s,o){var n={name:"remoteModalTrigger",plugin:!0,selector:".remote-modal-trigger",options:{widget:s.RemoteModal}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteTrigger);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"remotePanel",templates:{placeholder:'<div class="panel container <%= o.direction %> <%= o.type %> <%= o.classes.placeholder %> <%= o.classes.placeholderExtra %>"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg></div>'},options:{widget:s.Panel,diretion:s.Panel.config.options.diretion,type:s.Panel.config.options.type,classes:{placeholder:"remote-panel-placeholder",loaded:"remote-panel-loaded",resizing:"remote-panel-resizing",showing:"remote-panel-showing"},animations:{resize:n.normal}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteWidget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s){t.remotePanel=function(t,e,i){new s({ajax:t,direction:e,type:i}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.RemotePanel),function(t,e,i,s,o){var n={name:"remotePanelTrigger",plugin:!0,selector:".remote-panel-trigger",options:{widget:s.RemotePanel,direction:void 0,type:void 0}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_init",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_init",this).call(this),this.options.direction=this.$trigger.data(s.Panel.config.options.datas.direction)||this.options.direction,this.options.type=this.$trigger.data(s.Panel.config.options.datas.type)||this.options.type}},{key:"_getOptions",value:function(){var t=this.options,s=t.direction,o=t.type;return e.merge(_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_getOptions",this).call(this),{direction:s,type:o})}}]),i}(s.RemoteTrigger);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"remotePopover",templates:{placeholder:'<div class="popover container <%= o.classes.placeholder %> <%= o.classes.placeholderExtra %>"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg></div>'},options:{widget:s.Popover,positionate:{},cache:{enabled:!0},classes:{placeholder:"remote-popover-placeholder",loaded:"remote-popover-loaded",resizing:"remote-popover-resizing",showing:"remote-popover-showing"},animations:{resize:n.fast}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_positionate",value:function(){this.$widget.popover("instance")._positionate()}},{key:"_widgetInit",value:function(){this.$widget.popover("option","positionate",this.options.positionate),_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_widgetInit",this).call(this)}},{key:"_widgetReplaceWith",value:function(t){var i=this.options.widget.config.options.classes,s=i.fullscreen,o=i.fullscreenRequest,n=t.hasClass(s)||t.hasClass(o),r=this.$widget.matrix(),a=this.$widget[0]._positionateGuid;if(!n){var l=this.$widget.attr("class")||"",h=l.split(" ").find(function(t){return t.startsWith("pointing-")});h&&t.addClass(h)}_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_widgetReplaceWith",this).call(this,t),this.$widget.matrix(r),this.$widget[0]._positionateGuid=a,this.options.resize||this._positionate()}},{key:"_widgetResizing",value:function(){this._positionate()}}]),e}(s.RemoteWidget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s){t.remotePopover=function(e,i){var o={};i instanceof t?o.$anchor=i:"x"in i&&"y"in i&&(o.point=i),new s({ajax:e,positionate:o}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.RemotePopover),function(t,e,i,s,o){var n={name:"remotePopoverTrigger",plugin:!0,selector:".remote-popover-trigger",options:{widget:s.RemotePopover}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_getOptions",value:function(){return e.merge(_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_getOptions",this).call(this),{
positionate:{$anchor:this.$trigger}})}}]),i}(s.RemoteTrigger);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"selectableActions",plugin:!0,selector:".selectable-actions",options:{ajax:{},actions:{action:t.remoteAction,modal:t.remoteModal,panel:t.remotePanel,popover:t.remotePopover,page:function(t){window.location.href=t.url}},defaultAction:"page",actionsArgs:{ajax:function(t){return this._getAjax(t)},panel:function(t){return[this._getAjax(t),t.data(s.Panel.config.options.datas.direction),t.data(s.Panel.config.options.datas.type)]},popover:function(t){return[this._getAjax(t),t]}},defaultActionArgs:"ajax",widget:s.Selectable,characters:{separator:","},placeholders:{id:"%ID%"},attributes:{href:"href"},datas:{id:"id",type:"type",url:"url",data:"data",method:"method"},selectors:{action:".action",id:!1},callbacks:{action:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_variables",this).call(this),this.$wrapper=this.$element,this.$actions=this.$wrapper.find(this.options.selectors.action)}},{key:"_events",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_events",this).call(this),this.___action()}},{key:"_getIds",value:function(){var i=this,s=this._targetInstance.get(),o=s.get().map(function(e){return i.options.selectors.id?t(e).find(i.options.selectors.id).text():t(e).data(i.options.datas.id)});return e.compact(o)}},{key:"_getAjax",value:function(t){var i=this._getIds(),s=t.data(this.options.datas.url)||t.attr(this.options.attributes.href)||this.options.ajax.url,o=t.data(this.options.datas.data)||this.options.ajax.data||{},n=t.data(this.options.datas.method)||this.options.ajax.method;return s=s.replace(this.options.placeholders.id,i.join(this.options.characters.separator)),o=e.extend({},o,{ids:i}),e.extend({},this.options.ajax,{url:s,data:o,method:n})}},{key:"_getArgs",value:function(t,i){var s=this.options.actionsArgs[t]||this.options.actionsArgs[this.options.defaultActionArgs];if(s){var o=s.call(this,i);return!!o&&e.castArray(o)}}},{key:"___action",value:function(){this._on(this.$actions,n.tap,this.__action)}},{key:"__action",value:function(e){var i=t(e.target),s=i.data(this.options.datas.type)||this.options.defaultAction,o=this.options.actions[s];if(o){var n=this._getArgs(s,i);n&&(o.apply(void 0,_toConsumableArray(n)),this._trigger("action",{type:s,args:n}))}}}]),s}(s.Targeter);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o){var n={name:"selectableActionsContainer",plugin:!0,selector:".selectable-actions:not(.popover)",options:{widget:s.Selectable,classes:{datatable:"datatable",open:"open"},callbacks:{open:e.noop,close:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_variables",this).call(this),this.$container=this.$element,this._isOpen=this.$container.hasClass(this.options.classes.open),this._isDataTable=this.$target.hasClass(this.options.classes.datatable)}},{key:"_init",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_init",this).call(this),this.___datatable(),this.__update()}},{key:"_events",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_events",this).call(this),this.___update()}},{key:"___datatable",value:function(){this._isDataTable&&(this.$container.removeClass("bordered limited centered"),this.$target.closest(".card-block").before(this.$container))}},{key:"___update",value:function(){this._on(!0,this.$target,"selectable:change",this.__update)}},{key:"__update",value:function(){this.toggle(!!this._targetInstance.get().length)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isOpen;!!t!==this._isOpen&&(this._isOpen=!!t,this.$container.toggleClass(this.options.classes.open,this._isOpen),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),e}(s.Targeter);o.make(r,n)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,o,n){var r={name:"selectableActionsPopover",plugin:!0,selector:".selectable-actions.popover",options:{widget:s.Selectable}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_variables",this).call(this),this.$popover=this.$element,this._popoverInstance=this.$popover.popover("instance")}},{key:"_init",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_init",this).call(this),this._popoverInstance.option("positionate.alignment.x","left"),this._popoverInstance.option("positionate.constrainer.$element",this.$window)}},{key:"_events",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_events",this).call(this),this.___context(),this.___action()}},{key:"___context",value:function(){this._on(!0,this.$target,"contextmenu",this.__context)}},{key:"__context",value:function(t){t.preventDefault(),t.stopImmediatePropagation(),this._contextEvent=t,this._one(!0,this.$document,n.up,this._toggle)}},{key:"___action",value:function(){this._on(!0,"selectableactions:action",this._close)}},{key:"_toggle",value:function(){this[this._targetInstance.get().length?"_open":"_close"]()}},{key:"_open",value:function(){var e=t.eventXY(this._contextEvent);this._popoverInstance.option("positionate.point",e),this._popoverInstance.open()}},{key:"_close",value:function(){this._popoverInstance.close()}}]),i}(s.Targeter);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,o,n,r,a,l){var h={name:"tagbox",plugin:!0,selector:".tagbox",templates:{tag:'<div class="label tagbox-tag <%= o.color %> <%= o.size %> <%= o.css %>" data-tag-value="<%= o.value %>"><span><%= o.value %></span>'+('<i class="icon '+r.xsmall+' actionable tagbox-tag-remover">close</i>')+"</div>"},options:{init:"",tags:[],tag:{minLength:3,color:n.gray,size:"",css:"circular"},characters:{forbid:!0,forbidden:["<",">",";","`"],separator:",",inserters:[l.keys.ENTER,l.keys.TAB]},sort:!1,escape:!1,deburr:!1,messages:{tooShort:"`$1` is shorter than $2 characters",duplicate:"`$1` is a duplicate",forbidden:"The character you entered is forbidden"},datas:{value:"tag-value"},selectors:{input:"input.hidden",partial:"input.tagbox-partial, .tagbox-partial input",tags:".tagbox-tags",tag:".tagbox-tag",tagLabel:"span",tagRemover:".tagbox-tag-remover"},callbacks:{change:e.noop,add:e.noop,remove:e.noop,empty:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$tagbox=this.$element,this.$tags=this.$tagbox.find(this.options.selectors.tags),this.$input=this.$tagbox.find(this.options.selectors.input),this.$partial=this.$tagbox.find(this.options.selectors.partial),this.partial=this.$partial[0]}},{key:"_init",value:function(t){this.$tagbox.find(this.options.selectors.tag).remove(),this.options.init=this.$input.val()||this.options.init,this.add(this.options.init,t)}},{key:"_events",value:function(){this.___partial(),this.___tapOnEmpty(),this.___tapOnTagRemover()}},{key:"_sanitizeTag",value:function(t){return t=e.trim(t),this.options.escape&&(t=e.escape(t)),this.options.deburr&&(t=e.deburr(t)),t}},{key:"_getTagHtml",value:function(t){return this._template("tag",e.extend({value:t},this.options.tag))}},{key:"_clearPartial",value:function(){this.$partial.val("").trigger("change")}},{key:"_updateInput",value:function(){this.$input.val(this.options.tags.join(this.options.characters.separator)).trigger("change")}},{key:"_add",value:function(i){var s=e.trim(i);if(i=this._sanitizeTag(i),s.length<this.options.tag.minLength)s.length&&t.toast(e.format(this.options.messages.tooShort,i,this.options.tag.minLength));else{if(!e.includes(this.options.tags,i)){this.options.tags.push(i),this.options.sort&&this.options.tags.sort();var o=this._getTagHtml(i);if(1===this.options.tags.length)this.$tags.prepend(o);else if(this.options.sort){var n=this.options.tags.indexOf(i);0===n?this.$tagbox.find(this.options.selectors.tag).first().before(o):this.$tagbox.find(this.options.selectors.tag).eq(n-1).after(o)}else this.$tagbox.find(this.options.selectors.tag).last().after(o);return!0}t.toast(e.format(this.options.messages.duplicate,i))}return!1}},{key:"_remove",value:function(t,i){t.remove(),e.pull(this.options.tags,i)}},{key:"___partial",value:function(){this._on(this.$partial,"keypress keydown",this.__keypressKeydown),this._on(this.$partial,"paste",this.__paste)}},{key:"__keypressKeydown",value:function(i){var s=this.$partial.val();if(e.includes(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var o=this.add(s);o&&this._clearPartial(),i.preventDefault(),i.stopImmediatePropagation()}else if(i.keyCode===l.keys.BACKSPACE){if(!s.length&&this.options.tags.length){var n=this.$tagbox.find(this.options.selectors.tag).last(),r=!l.keystroke.hasCtrlOrCmd(i);this.remove(n,r),i.preventDefault(),i.stopImmediatePropagation()}}else this.options.characters.forbid&&e.includes(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.toast(this.options.messages.forbidden),i.preventDefault(),i.stopImmediatePropagation())}},{key:"__paste",value:function(t){this.add(t.originalEvent.clipboardData.getData("text")),t.preventDefault(),t.stopImmediatePropagation()}},{key:"___tapOnTagRemover",value:function(){this._on(a.tap,this.options.selectors.tagRemover,this.__tapOnTagRemover)}},{key:"__tapOnTagRemover",value:function(e){e.stopImmediatePropagation();var i=t(e.currentTarget).closest(this.options.selectors.tag);this.remove(i)}},{key:"___tapOnEmpty",value:function(){this._on(a.tap,this.__tapOnEmpty)}},{key:"__tapOnEmpty",value:function(e){t.isFocused(this.partial)||t(e.target).is(this.options.selectors.partial+","+this.options.selectors.tagLabel)||this.$partial.focus()}},{key:"get",value:function(){return e.clone(this.options.tags)}},{key:"add",value:function(t,i){e.isArray(t)&&(t=e.flatten(t).join(this.options.characters.separator));var s=t.split(this.options.characters.separator),o=e.map(s,this._add.bind(this)),n=!!e.compact(o).length;if(n&&(this._updateInput(),!i)){this._trigger("change");var r=e.filter(s,function(t,e){return o[e]});this._trigger("add",r)}return n}},{key:"remove",value:function(i,s,o){var n=[],r=[];if(i instanceof t)n=[i],r=[i.data(this.options.datas.value)];else{e.isArray(i)&&(i=e.flatten(i).join(this.options.characters.separator)),i=i.split(this.options.characters.separator);for(var a=0,l=i.length;a<l;a++){var h=this._sanitizeTag(i[a]),c=this.$tagbox.find(this.options.selectors.tag+"[data-"+this.options.datas.value+'="'+h.replace(/"/g,'\\"')+'"]');1===c.length&&(n.push(c),r.push(h))}}if(r.length){for(var u=0,p=r.length;u<p;u++)this._remove(n[u],r[u]);this._updateInput(),1===r.length&&s===!0&&this.$partial.val(r[0]).trigger("change"),o||(this._trigger("change"),this._trigger("remove",r),this.options.tags.length||this._trigger("empty"))}}},{key:"clear",value:function(t){if(this.options.tags.length){var e=this.options.tags;this.options.tags=[],this.$tagbox.find(this.options.selectors.tag).remove(),this._clearPartial(),this._updateInput(),t||(this._trigger("change"),this._trigger("remove",e),this._trigger("empty"))}}},{key:"reset",value:function(){var t=this.options.tags;if(this.clear(!0),this._init(!0),!e.isEqual(t,this.options.tags)){this._trigger("change");var i=e.difference(this.options.tags,t);i.length&&this._trigger("add",i);var s=e.difference(t,this.options.tags);s.length&&this._trigger("remove",s),this.options.tags.length||this._trigger("empty")}}}]),s}(s.Widget);o.make(c,h)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Colors,Svelto.Sizes,Svelto.Pointer,Svelto.Keyboard),function(t,e,i,s){t.toast=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=e.isPlainObject(t)?t:{body:String(t)},t.buttons&&(t.type="action"),new s(t)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.Toast),function(t){t.addTest("emoji",function(){var t=document.createElement("canvas");if(!t.getContext)return!1;var e=t.getContext("2d");return!(!e||"function"!=typeof e.fillText)&&(e.textBaseline="top",e.font="32px Arial",e.fillText("",0,0),0!==e.getImageData(16,16,1,1).data[0])})}(Svelto.Modernizr),function(t,e,i,s,o){var n={options:{tone:1,regexes:{encoded:/:([a-zA-Z0-9+_-]+):(:tone-([1-6]):)?/g,emoticon:/(:o\))|(=-?\))|(;-?[bpP)])|(:-?[bdDoOpP>|()\\\/*])|(8-?\))|([cCD()]:)|(<\/?3)|(>:-?\()|(:'\()/g},make:{css:"",sprite:!1},native:{enabled:i.emoji,wrap:!0},image:{path:"//cdn.jsdelivr.net/emojione/assets/png/$1.png"},sprite:{columns:41}},getByName:function(t){var e;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(o.get());case 2:return e=i.sent,i.abrupt("return",e.emojis[t]||e.alts[t]);case 4:case"end":return i.stop()}},null,this)},getByEmoticon:function(t){var i,s,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(o.get());case 2:return i=r.sent,s=i.emoticons[t],r.abrupt("return",n&&e.isArray(s)?s[0]:s);case 5:case"end":return r.stop()}},null,this)},getByUnicode:function(t){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,this)},getTone:function(t){var e;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(o.get());case 2:return e=i.sent,i.abrupt("return",e.tones[t]);case 4:case"end":return i.stop()}},null,this)},emoji2hex:function(t){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=e.range(t.char.length).map(function(e){return t.char.codePointAt(e)}).filter(function(t){return 8205!==t&&65039!==t&&(t<55296||t>57343)}),!(s>1)){o.next=6;break}return o.next=4,regeneratorRuntime.awrap(n.getTone(s));case 4:s=o.sent,i.push(s.char.codePointAt(0));case 6:return o.abrupt("return",i.map(function(t){return e.padStart(t.toString(16),4,0)}).join("-"));case 7:case"end":return o.stop()}},null,this)},hex2emoji:function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,this)},emoji2unicode:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.isString(t)){s.next=6;break}return s.next=3,regeneratorRuntime.awrap(n.getByName(t));case 3:s.t0=s.sent,s.next=7;break;case 6:s.t0=t;case 7:if(t=s.t0){s.next=10;break}return s.abrupt("return","");case 10:if(t.tones&&!(i<2)){s.next=12;break}return s.abrupt("return",t.char);case 12:return s.next=14,regeneratorRuntime.awrap(n.getTone(i));case 14:return i=s.sent,s.abrupt("return",""+t.char+i.char);case 16:case"end":return s.stop()}},null,this)},unicode2emoji:function(t){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,this)},getImageUrl:function(t){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(n.emoji2hex(t,s));case 2:return i=o.sent,o.abrupt("return",e.format(n.options.image.path,i));case 4:case"end":return o.stop()}},null,this)},getSpriteXY:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone,i=t.x+e-1,s=Math.floor(i/n.options.sprite.columns),o=i%n.options.sprite.columns;return{x:s,y:o}},encode:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone,s=e.isString(t)?t:t.id;return i>1?":"+s+"::tone-"+i+":":":"+s+":"},make:function(t){var i,s,o,r,a,l,h,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.options.tone,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.options.make;return regeneratorRuntime.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(!e.isString(t)){d.next=6;break}return d.next=3,regeneratorRuntime.awrap(n.getByName(t));case 3:d.t0=d.sent,d.next=7;break;case 6:d.t0=t;case 7:if(t=d.t0){d.next=10;break}return d.abrupt("return","");case 10:if(u=t.tones?u:1,!n.options.native.enabled){d.next=22;break}return d.next=14,regeneratorRuntime.awrap(n.emoji2unicode(t,u));case 14:if(i=d.sent,!n.options.native.wrap){d.next=19;break}return d.abrupt("return",'<i class="emoji '+p.css+'" data-id="'+t.id+'" data-tone="'+u+'" data-tonable="'+!!t.tones+'" title="'+t.name+'">'+i+"</i>");case 19:return d.abrupt("return",i);case 20:d.next=31;break;case 22:if(!p.sprite){d.next=27;break}return s=n.getSpriteXY(t,u),o=s.x,r=s.y,a=100/(n.options.sprite.columns-1),l=o*a,h=r*a,d.abrupt("return",'<i class="emoji '+p.css+'" data-id="'+t.id+'" data-tone="'+u+'" data-tonable="'+!!t.tones+'" title="'+t.name+'" style="background-position:'+l+"% "+h+'%"></i>');case 27:return d.next=29,regeneratorRuntime.awrap(n.getImageUrl(t,u));case 29:return c=d.sent,d.abrupt("return",'<i class="emoji '+p.css+'" data-id="'+t.id+'" data-tone="'+u+'" data-tonable="'+!!t.tones+'" title="'+t.name+'" style="background-image:url('+c+')"></i>');case 31:case"end":return d.stop()}},null,this)}};s.Emoji=n}(Svelto.$,Svelto._,Svelto.Modernizr,Svelto,Svelto.EmojiData),function(t,e,i,s,o,n){var r={options:{parse:{emoticon:!0,encoded:!0,unicode:!1}},getEmoticons:function(t){return e.findMatches(t,n.options.regexes.emoticon).map(e.first).sort(function(t,e){return e.length-t.length})},getEncoded:function(t){var i=e.findMatches(t,n.options.regexes.encoded).sort(function(t,e){return e[0].length-t[0].length});return i.reduce(function(t,i){return e.set(t,i[0],{name:i[1],tone:i[3]||n.options.tone})},{})},parseEmoticon:function(t,i){var s,o,a,l,h,c,u,p;return regeneratorRuntime.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(r.options.parse.emoticon){d.next=2;break}return d.abrupt("return",t);case 2:s=r.getEmoticons(t),o=!0,a=!1,l=void 0,d.prev=6,h=s[Symbol.iterator]();case 8:if(o=(c=h.next()).done){d.next=25;break}return u=c.value,d.next=12,regeneratorRuntime.awrap(n.getByEmoticon(u,!0));case 12:if(p=d.sent){d.next=15;break}return d.abrupt("continue",22);case 15:return d.t0=e,d.t1=t,d.t2=u,d.next=20,regeneratorRuntime.awrap(n.make(p.id,n.options.tone,i));case 20:d.t3=d.sent,t=d.t0.replaceAll.call(d.t0,d.t1,d.t2,d.t3);case 22:o=!0,d.next=8;break;case 25:d.next=31;break;case 27:d.prev=27,d.t4=d.catch(6),a=!0,l=d.t4;case 31:d.prev=31,d.prev=32,!o&&h.return&&h.return();case 34:if(d.prev=34,!a){d.next=37;break}throw l;case 37:return d.finish(34);case 38:return d.finish(31);case 39:return d.abrupt("return",t);case 40:case"end":return d.stop()}},null,this,[[6,27,31,39],[32,,34,38]])},parseEncoded:function(t,i){var s,o,a,l,h,c;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(r.options.parse.encoded){u.next=2;break}return u.abrupt("return",t);case 2:s=r.getEncoded(t),u.t0=regeneratorRuntime.keys(s);case 4:if((u.t1=u.t0()).done){u.next=23;break}return o=u.t1.value,a=s[o],l=a.name,h=a.tone,u.next=11,regeneratorRuntime.awrap(n.getByName(l));case 11:if(c=u.sent){u.next=14;break}return u.abrupt("continue",4);case 14:return u.t2=e,u.t3=t,u.t4=o,u.next=19,regeneratorRuntime.awrap(n.make(c.id,h,i));case 19:u.t5=u.sent,t=u.t2.replaceAll.call(u.t2,u.t3,u.t4,u.t5),u.next=4;break;case 23:return u.abrupt("return",t);case 24:case"end":return u.stop()}},null,this)},parseUnicode:function(t,i){var s,a,l,h,c,u,p,d,_,v,f,g,m,y;return regeneratorRuntime.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(r.options.parse.unicode){b.next=2;break}return b.abrupt("return",t);case 2:return b.next=4,regeneratorRuntime.awrap(o.get());case 4:s=b.sent,a=!0,l=!1,h=void 0,b.prev=8,c=s.chars[Symbol.iterator]();case 10:if(a=(u=c.next()).done){b.next=36;break}return p=_slicedToArray(u.value,2),d=p[0],_=p[1],b.next=14,regeneratorRuntime.awrap(n.getByName(_));case 14:v=b.sent,f=v.tones?6:1,g=6,m=1;case 17:if(!(g>=m)){b.next=33;break}return b.next=20,regeneratorRuntime.awrap(n.emoji2unicode(v,g));case 20:if(y=b.sent,t.indexOf(y)!==-1){b.next=23;break}return b.abrupt("continue",30);case 23:return b.t0=e,b.t1=t,b.t2=y,b.next=28,regeneratorRuntime.awrap(n.make(_,g,i));case 28:b.t3=b.sent,t=b.t0.replaceAll.call(b.t0,b.t1,b.t2,b.t3);case 30:g--,b.next=17;break;case 33:a=!0,b.next=10;break;case 36:b.next=42;break;case 38:b.prev=38,b.t4=b.catch(8),l=!0,h=b.t4;case 42:b.prev=42,b.prev=43,!a&&c.return&&c.return();case 45:if(b.prev=45,!l){b.next=48;break}throw h;case 48:return b.finish(45);case 49:return b.finish(42);case 50:return b.abrupt("return",t);case 51:case"end":return b.stop()}},null,this,[[8,38,42,50],[43,,45,49]])},emojify:function(i,s){return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(i instanceof t)){o.next=4;break}return o.abrupt("return",Promise.all(i.get().map(function(t){return r.node(t,s)})));case 4:if(!e.isElement(i)){o.next=8;break}return o.abrupt("return",r.node(i,s));case 8:if(!e.isString(i)){o.next=10;break}return o.abrupt("return",r.string(i,s));case 10:case"end":return o.stop()}},null,this)},string:function(t,e){return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",r.parseUnicode(t,e).then(function(t){return r.parseEncoded(t,e)}).then(function(t){return r.parseEmoticon(t,e)}));case 1:case"end":return i.stop()}},null,this)},node:function(e,i){var s,o,a,l,h;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=e.nodeType,3!==s){c.next=9;break}return o=e.nodeValue,c.next=5,regeneratorRuntime.awrap(r.string(o,i));case 5:a=c.sent,o!==a&&(n.options.native.enabled&&!n.options.native.wrap?e.nodeValue=a:(l=e.parentNode,1===l.childNodes.length?l.innerHTML=a:(h=t.parseHTML("<span>"+a+"</span>")[0],e.parentNode.replaceChild(h,e)))),c.next=11;break;case 9:if(1!==s){c.next=11;break}return c.abrupt("return",Promise.all(Array.prototype.map.call(e.childNodes,function(t){return r.node(t,i)})));case 11:case"end":return c.stop()}},null,this)}};t.fn.emojify=function(t){return r.emojify(this,t)},s.add(".emojify",r.emojify),i.Emojify=r}(Svelto.$,Svelto._,Svelto,Svelto.Widgetize,Svelto.EmojiData,Svelto.Emoji),function(t,e,i,s,o,n,r,a){var l={name:"emojipicker",plugin:!0,selector:".emojipicker",templates:{base:'<div class="tabs emojipicker card bordered"><% print ( self.triggers ( o ) ) %><% print ( self.containers ( o ) ) %><% print ( self.footer ( o ) ) %></div>',triggers:'<div class="tabs-triggers emojipicker-triggers card-header bordered"><% print ( self.triggerMain ( o ) ) %><% for ( var i = 0, l = o.data.categories.length; i < l; i++ ) { %><% print ( self.trigger ({ options: o, category: o.data.categories[i] }) ) %><% } %></div>',trigger:'<div class="button" title="<%= o.category.title %>"><i class="icon"><%= o.category.icon %></i></div>',triggerMain:'<div class="button" title="Search & Frequent"><i class="icon">access_time</i></div>',containers:'<div class="tabs-containers emojipicker-containers card-block"><% print ( self.containerMain ( o ) ) %><% for ( var i = 0, l = o.data.categories.length; i < l; i++ ) { %><% print ( self.container ({ options: o, category: o.data.categories[i] }) ) %><% } %></div>',container:'<div class="container"><% print ( self.emojis ({ emojis: o.category.emojis, tone: o.options.tone }) ) %></div>',containerMain:'<div class="container main"><input autofocus name="search" type="search" class="gray fluid" placeholder="Search emoji"><% print ( self.search ( o ) ) %><% print ( self.frequent ( o ) ) %></div>',search:'<div class="search-section section"><% if ( !o.search.emojis.length ) { %><div class="search-emojis emojis empty">No emoji found</div><% } else { %><div class="search-emojis emojis"><% print ( self.emojis ({ emojis: o.search.emojis, tone: o.tone }) ) %></div><% } %></div>',frequent:'<div class="frequent-section section"><% if ( !o.frequent.emojis.length ) { %><div class="frequent-emojis emojis empty">No emoji used recently</div><% } else { %><div class="frequent-emojis emojis"><% print ( self.emojis ({ emojis: o.frequent.emojis, tones: o.frequent.tones }) ) %></div><% } %></div>',footer:'<div class="emojipicker-footer card-footer bordered"><% print ( self.preview ({ emoji: o.data.emojis[o.preview.id], tone: o.preview.tone }) ) %><% print ( self.tones ( o ) ) %></div>',preview:'<div class="emojipicker-preview"><div class="multiple center-y no-wrap"><div class="enlarged"><% print ( Svelto.Emoji.encode ( o.emoji.id, o.tone ) ) %></div><div class="multiple vertical joined texts"><div class="title" title="<%= o.emoji.name %>"><%= o.emoji.name %></div><div class="short-names"><%= [o.emoji.id].concat ( o.emoji.alts || [] ).map ( Svelto.Emoji.encode ).join ( " " ) %></div></div></div></div>',tones:'<div class="emojipicker-tones"><div class="multiple center-x joined"><div class="emojipicker-tone"></div><div class="emojipicker-tone"></div><div class="emojipicker-tone"></div><div class="emojipicker-tone"></div><div class="emojipicker-tone"></div><div class="emojipicker-tone"></div></div></div>',emojis:'<div class="multiple emojis"><% print ( o.emojis.map ( function ( emoji, index ) { return Svelto.Emoji.encode ( emoji, o.tone || o.tones[index] ) } ).join ( " " ) ) %></div>'},options:{data:void 0,tone:a.options.tone,make:{css:"actionable",sprite:!0},preview:{id:"grinning",tone:a.options.tone},frequent:{limit:126,emojis:[],tones:[],rank:[]},search:{limit:126,emojis:[],query:void 0},classes:{searching:"searching",previewing:"previewing",toneActive:"active",emojified:"emojified"},selectors:{emoji:"i.emoji",tonables:'.container:not(.main) i.emoji[data-tonable="true"]',input:"input",preview:".emojipicker-preview",enlarged:".enlarged",tones:".emojipicker-tone",search:".search-section",frequent:".frequent-section",containers:{wrapper:".emojipicker-containers",all:".emojipicker-containers > *"}},callbacks:{pick:e.noop}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_make",value:function(){if(this.$element.is(":empty")){var e=this._template("base",this.options);return t(e).replaceAll(this.$element).widgetize(),!1}}},{key:"_variables",value:function(){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_variables",this).call(this),this.$picker=this.$element,this.$input=this.$picker.find(this.options.selectors.input),this.$preview=this.$picker.find(this.options.selectors.preview),this.$tones=this.$picker.find(this.options.selectors.tones),this.$containersWrapper=this.$picker.find(this.options.selectors.containers.wrapper),this.$containers=this.$picker.find(this.options.selectors.containers.all),this.$search=this.$picker.find(this.options.selectors.search),this.$frequent=this.$picker.find(this.options.selectors.frequent),this._tabsInstance=this.$picker.tabs("instance"),this._lazilyEmojified={}}},{key:"_init",value:function(){this._updateToneIndicator(),this._frequentRestore()}},{key:"_events",value:function(){this.___lazyEmojify(),this.___emojiTap(),this.___toneTap(),this.___preview(),this.___search()}},{key:"___lazyEmojify",value:function(){this._on(!0,"tabs:change",this.__lazyEmojify)}},{key:"__lazyEmojify",value:function(){var t=this,e=this._tabsInstance.get();if(e&&!this._lazilyEmojified[e]){var i=this.$containers.eq(e);i.emojify(this.options.make).then(function(){return i.addClass(t.options.classes.emojified)}),this._lazilyEmojified[e]=!0}}},{key:"___emojiTap",value:function(){this._on(n.tap,this.options.selectors.emoji,this.__emojiTap)}},{key:"__emojiTap",value:function(t){var e=t.currentTarget.getAttribute("data-id"),i=Number(t.currentTarget.getAttribute("data-tone")),s={emoji:e,tone:i};this._frequentUpdate(e,i),this._trigger("pick",s)}},{key:"___toneTap",value:function(){this._on(this.$tones,n.tap,this.__toneTap)}},{key:"__toneTap",value:function(t){var e=this.$tones.get().indexOf(t.target)+1;e!==this.options.tone&&(this._previousTone=this.options.tone,this.options.tone=e,this._updateTone())}},{key:"_updateTone",value:function(){this._updateToneEmojis(),this._updateToneIndicator()}},{key:"_updateToneEmojis",value:function(){var e=this,i=this.$picker.find(this.options.selectors.tonables),s=this.options.tone;i.get().forEach(function(i){var o=i.getAttribute("data-id");a.make(o,s,e.options.make).then(function(e){return t(e).replaceAll(i)})})}},{key:"_updateToneIndicator",value:function(){this._previousTone&&this.$tones.eq(this._previousTone-1).removeClass(this.options.classes.toneActive),this.$tones.eq(this.options.tone-1).addClass(this.options.classes.toneActive)}},{key:"___preview",value:function(){this._on(n.enter,this.options.selectors.emoji,this.__previewEnter),this._on(!0,this.$containersWrapper,n.leave,this.__previewLeave)}},{key:"__previewEnter",value:function(t){var e=t.currentTarget;this.options.preview.id=e.getAttribute("data-id"),this.options.preview.tone=e.getAttribute("data-tone"),this._updatePreview(),this._togglePreview(!0)}},{key:"__previewLeave",value:function(t){this._togglePreview(!1)}},{key:"_updatePreview",value:function(){var e=this,i={emoji:this.options.data.emojis[this.options.preview.id],tone:this.options.preview.tone},s=t(this._template("preview",i)),o=s.find(this.options.selectors.enlarged);o.emojify(this.options.make).then(function(){e.$preview=s.replaceAll(e.$preview)})}},{key:"_togglePreview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._previewing;!!t!==this._previewing&&(this._previewing=!!t,this.$picker.toggleClass(this.options.classes.previewing,this._previewing))}},{key:"___search",value:function(){this._on(this.$input,"change cut paste keyup",this.__search)}},{key:"__search",value:function(){var i=this,s=this.$input.val();if(s!==this.options.search.query){this.options.search.query=s;var o=[];if(this._toggleSearch(!!s),s)if("-"===s[0])o=["-1"];else if("+"===s[0])o=["+1"];else if(s.match(a.options.regexes.emoticon)){var n=this.options.data.emoticons[s];o=n?e.castArray(n):[]}else{var r=s.toLowerCase().split(/[\s,_-]+/);for(var l in this.options.data.emojis){var h=this.options.data.emojis[l],c=!0,u=!0,p=!1,d=void 0;try{for(var _,v=r[Symbol.iterator]();!(u=(_=v.next()).done);u=!0){var f=_.value;if(h.tags.indexOf(f)===-1){c=!1;break}}}catch(t){p=!0,d=t}finally{try{!u&&v.return&&v.return()}finally{if(p)throw d}}if(c&&(o.push(l),o.length===this.options.search.limit))break}}this.options.search.emojis=o;var g=t(this._template("search",this.options));g.emojify(this.options.make).then(function(){i.$search=g.replaceAll(i.$search)})}}},{key:"_toggleSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._searching;!!t!==this._searching&&(this._searching=!!t,this.$picker.toggleClass(this.options.classes.searching,this._searching))}},{key:"_frequentRefresh",value:function(){var i=this;this.options.frequent.emojis=this.options.frequent.rank.map(e.first),
this.options.frequent.tones=this.options.frequent.rank.map(function(t){return t[1]});var s=t(this._template("frequent",this.options));s.emojify(this.options.make).then(function(){i.$frequent=s.replaceAll(i.$frequent)})}},{key:"_frequentUpdate",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.tone,s=this.options.frequent.rank,o=s.find(function(e){return e[0]===t&&e[1]===i});o?o[2]++:s.push([t,i,1]),s=lodash.orderBy(s,[e.last,e.first,e.property(1)],["desc","asc","asc"]).slice(0,this.options.frequent.limit),this.options.frequent.rank=s,this._storageSet("frequent",s,2592e3),this._frequentRefresh()}},{key:"_frequentRestore",value:function(){var t=this._storageGet("frequent");t&&!e.isEqual(this.options.frequent.rank,t)&&(this.options.frequent.rank=t,this._frequentRefresh())}}],[{key:"widgetize",value:function(t,e){r.get().then(function(i){e.config.options.data=i,t[e.config.name]()})}}]),s}(s.Storable);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.EmojiData,Svelto.Emoji),function(t,e,i,s,o,n){var r={name:"emojipickerPopover",templates:{base:"<div>"},options:{classes:{popover:"popover"}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"___close",value:function(){this._on(!0,"popover:close",this.__close)}},{key:"__close",value:function(){this.$element.detach(),this._reset()}},{key:"_isEmpty",value:function(){return this.$element.is(":empty")}},{key:"open",value:function(t){var e=this;if(this.isLocked()){if(this._isEmpty())return this.open(t);this.unlock()}else if(this._isEmpty())return this.lock(),void n.get().then(function(i){s.Emojipicker.config.options.data=i,e.$element=(new s.Emojipicker).$element.addClass(e.options.classes.popover),e.open(t)});this.$element.isAttached()||this.$layout.append(this.$element),this.$element.popover("toggle",void 0,t),this.___close()}}]),e}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.EmojiData),function(t,e,i,s){var o=void 0;t.emojipickerPopover=function(t){o||(o=new s),o.open(t)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets.EmojipickerPopover),function(t,e,i,s,o,n){var r={name:"emojipickerPopoverTrigger",plugin:!0,selector:".emojipicker-popover-trigger"},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this._on(n.tap,this.trigger)}},{key:"trigger",value:function(){t.emojipickerPopover(this.element)}}]),i}(s.Widget);o.make(a,r)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||h.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function e(t,e){if(this.options=e||h.defaults,this.links=t,this.rules=u.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function i(t){this.options=t||{}}function s(t){this.tokens=[],this.token=null,this.options=t||h.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function n(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function r(t,e){return t=t.source,e=e||"",function i(s,o){return s?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(s,o),i):new RegExp(t,e)}}function a(){}function l(t){for(var e,i,s=1;s<arguments.length;s++){e=arguments[s];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}function h(e,i,n){if(n||"function"==typeof i){n||(n=i,i=null),i=l({},h.defaults,i||{});var r,a,c=i.highlight,u=0;try{r=t.lex(e,i)}catch(t){return n(t)}a=r.length;var p=function(t){if(t)return i.highlight=c,n(t);var e;try{e=s.parse(r,i)}catch(e){t=e}return i.highlight=c,t?n(t):n(null,e)};if(!c||c.length<3)return p();if(delete i.highlight,!a)return p();for(;u<r.length;u++)!function(t){return"code"!==t.type?--a||p():c(t.text,t.lang,function(e,i){return e?p(e):null==i||i===t.text?--a||p():(t.text=i,t.escaped=!0,void(--a||p()))})}(r[u])}else try{return i&&(i=l({},h.defaults,i)),s.parse(t.lex(e,i),i)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(i||h.defaults).silent)return"<p>An error occured:</p><pre>"+o(t.message+"",!0)+"</pre>";throw t}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=r(c.item,"gm")(/bull/g,c.bullet)(),c.list=r(c.list)(/bull/g,c.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+c.def.source+")")(),c.blockquote=r(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",c.html=r(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=r(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),c.gfm.paragraph=r(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=c,t.lex=function(e,i){var s=new t(i);return s.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e,i){for(var s,o,n,r,a,l,h,u,p,t=t.replace(/^ +$/gm,"");t;)if((n=this.rules.newline.exec(t))&&(t=t.substring(n[0].length),n[0].length>1&&this.tokens.push({type:"space"})),n=this.rules.code.exec(t))t=t.substring(n[0].length),n=n[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?n:n.replace(/\n+$/,"")});else if(n=this.rules.fences.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"code",lang:n[2],text:n[3]||""});else if(n=this.rules.heading.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"heading",depth:n[1].length,text:n[2]});else if(e&&(n=this.rules.nptable.exec(t))){for(t=t.substring(n[0].length),l={type:"table",header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(n=this.rules.lheading.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"heading",depth:"="===n[2]?1:2,text:n[1]});else if(n=this.rules.hr.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"hr"});else if(n=this.rules.blockquote.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"blockquote_start"}),n=n[0].replace(/^ *> ?/gm,""),this.token(n,e,!0),this.tokens.push({type:"blockquote_end"});else if(n=this.rules.list.exec(t)){for(t=t.substring(n[0].length),r=n[2],this.tokens.push({type:"list_start",ordered:r.length>1}),n=n[0].match(this.rules.item),s=!1,p=n.length,u=0;u<p;u++)l=n[u],h=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(h-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+h+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(a=c.bullet.exec(n[u+1])[0],r===a||r.length>1&&a.length>1||(t=n.slice(u+1).join("\n")+t,u=p-1)),o=s||/\n\n(?!\s*$)/.test(l),u!==p-1&&(s="\n"===l.charAt(l.length-1),o||(o=s)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(l,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(n=this.rules.html.exec(t))t=t.substring(n[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:n[0]});else if(!i&&e&&(n=this.rules.def.exec(t)))t=t.substring(n[0].length),this.tokens.links[n[1].toLowerCase()]={href:n[2],title:n[3]};else if(e&&(n=this.rules.table.exec(t))){for(t=t.substring(n[0].length),l={type:"table",header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(n=this.rules.paragraph.exec(t)))t=t.substring(n[0].length),this.tokens.push({type:"paragraph",text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]});else if(n=this.rules.text.exec(t))t=t.substring(n[0].length),this.tokens.push({type:"text",text:n[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=r(u.link)("inside",u._inside)("href",u._href)(),u.reflink=r(u.reflink)("inside",u._inside)(),u.normal=l({},u),u.pedantic=l({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=l({},u.normal,{escape:r(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:r(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=l({},u.gfm,{br:r(u.br)("{2,}","*")(),text:r(u.gfm.text)("{2,}","*")()}),e.rules=u,e.output=function(t,i,s){var o=new e(i,s);return o.output(t)},e.prototype.output=function(t){for(var e,i,s,n,r="";t;)if(n=this.rules.escape.exec(t))t=t.substring(n[0].length),r+=n[1];else if(n=this.rules.autolink.exec(t))t=t.substring(n[0].length),"@"===n[2]?(i=":"===n[1].charAt(6)?this.mangle(n[1].substring(7)):this.mangle(n[1]),s=this.mangle("mailto:")+i):(i=o(n[1]),s=i),r+=this.renderer.link(s,null,i);else if(this.inLink||!(n=this.rules.url.exec(t))){if(n=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(n[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(n[0])&&(this.inLink=!1),t=t.substring(n[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):o(n[0]):n[0];else if(n=this.rules.link.exec(t))t=t.substring(n[0].length),this.inLink=!0,r+=this.outputLink(n,{href:n[2],title:n[3]}),this.inLink=!1;else if((n=this.rules.reflink.exec(t))||(n=this.rules.nolink.exec(t))){if(t=t.substring(n[0].length),e=(n[2]||n[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){r+=n[0].charAt(0),t=n[0].substring(1)+t;continue}this.inLink=!0,r+=this.outputLink(n,e),this.inLink=!1}else if(n=this.rules.strong.exec(t))t=t.substring(n[0].length),r+=this.renderer.strong(this.output(n[2]||n[1]));else if(n=this.rules.em.exec(t))t=t.substring(n[0].length),r+=this.renderer.em(this.output(n[2]||n[1]));else if(n=this.rules.code.exec(t))t=t.substring(n[0].length),r+=this.renderer.codespan(o(n[2],!0));else if(n=this.rules.br.exec(t))t=t.substring(n[0].length),r+=this.renderer.br();else if(n=this.rules.del.exec(t))t=t.substring(n[0].length),r+=this.renderer.del(this.output(n[1]));else if(n=this.rules.text.exec(t))t=t.substring(n[0].length),r+=this.renderer.text(o(this.smartypants(n[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(n[0].length),i=o(n[1]),s=i,r+=this.renderer.link(s,null,i);return r},e.prototype.outputLink=function(t,e){var i=o(e.href),s=e.title?o(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,s,this.output(t[1])):this.renderer.image(i,s,o(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},e.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,i="",s=t.length,o=0;o<s;o++)e=t.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),i+="&#"+e+";";return i},i.prototype.code=function(t,e,i){if(this.options.highlight){var s=this.options.highlight(t,e);null!=s&&s!==t&&(i=!0,t=s)}return e?'<pre><code class="'+this.options.langPrefix+o(e,!0)+'">'+(i?t:o(t,!0))+"\n</code></pre>\n":"<pre><code>"+(i?t:o(t,!0))+"\n</code></pre>"},i.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},i.prototype.html=function(t){return t},i.prototype.heading=function(t,e,i){return"<h"+e+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(t,e){var i=e?"ol":"ul";return"<"+i+">\n"+t+"</"+i+">\n"},i.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},i.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},i.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},i.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},i.prototype.tablecell=function(t,e){var i=e.header?"th":"td",s=e.align?"<"+i+' style="text-align:'+e.align+'">':"<"+i+">";return s+t+"</"+i+">\n"},i.prototype.strong=function(t){return"<strong>"+t+"</strong>"},i.prototype.em=function(t){return"<em>"+t+"</em>"},i.prototype.codespan=function(t){return"<code>"+t+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(t){return"<del>"+t+"</del>"},i.prototype.link=function(t,e,i){if(this.options.sanitize){try{var s=decodeURIComponent(n(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:"))return""}var o='<a href="'+t+'"';return e&&(o+=' title="'+e+'"'),o+=">"+i+"</a>"},i.prototype.image=function(t,e,i){var s='<img src="'+t+'" alt="'+i+'"';return e&&(s+=' title="'+e+'"'),s+=this.options.xhtml?"/>":">"},i.prototype.text=function(t){return t},s.parse=function(t,e,i){var o=new s(e,i);return o.parse(t)},s.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var i="";this.next();)i+=this.tok();return i},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,i,s,o,n="",r="";for(i="",t=0;t<this.token.header.length;t++)s={header:!0,align:this.token.align[t]},i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(n+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],i="",o=0;o<e.length;o++)i+=this.renderer.tablecell(this.inline.output(e[o]),{header:!1,align:this.token.align[o]});r+=this.renderer.tablerow(i)}return this.renderer.table(n,r);case"blockquote_start":for(var r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":for(var r="",a=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,a);case"list_item_start":for(var r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(var r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,h.options=h.setOptions=function(t){return l(h.defaults,t),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},h.Parser=s,h.parser=s.parse,h.Renderer=i,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=e,h.inlineLexer=e.output,h.parse=h,this.marked=h}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(t,e,i,s,o,n,r,a){var l={name:"editor",plugin:!0,selector:".editor",options:{parentUnfullscreenEvents:"popover:close modal:close panel:close",parser:window.marked||e.identity,storage:{enabled:!1,ttl:604800},actions:{bold:function(){this._action("**","**","bold")},italic:function(){this._action("_","_","italic")},strikethrough:function(){this._action("~~","~~","removed")},list_unordered:function(){this._action("\n- ","\n","List element")},list_ordered:function(){this._action("\n1. ","\n","List element")},link:function(){this._action("[","](http://example.com)","Link")},image:function(){this._action("![","](http://example.com/image.jpg)","Image")},code:function(){this._action("`","`","code")},quote:function(){this._action("\n> ","\n","Quote")},divider:function(){this._action("\n-----","\n","",!1)},undo:function(){document.execCommand("undo")},redo:function(){document.execCommand("redo")},store:function(){this._storageSet(this._storageKey,this.get(),this.options.storage.ttl)},unstore:function(){this._storageRemove(this._storageKey)},restore:function(){this.set(this._storageGet(this._storageKey))},preview:function(){this.togglePreview()},fullscreen:function(){this.toggleFullscreen()}},datas:{action:"action"},classes:{preview:"preview",fullscreen:"fullscreen",fullscreenable:{request:"fullscreen-request"},trigger:{active:"active text-secondary"}},selectors:{actions:"[data-action]",fullscreenable:".modal, .panel, .popover",preview:".editor-preview",textarea:"textarea",triggers:{all:"[data-action]",preview:'[data-action="preview"]',fullscreen:'[data-action="fullscreen"]'}},keystrokes:{"ctmd + b":["action","bold"],"ctmd + i":["action","italic"],"ctmd + s":["action","strikethrough"],"ctmd + u":["action","list_unordered"],"ctmd + o":["action","list_ordered"],"ctmd + l":["action","link"],"ctmd + g":["action","image"],"ctmd + k":["action","code"],"ctmd + m":["action","quote"],"ctmd + d":["action","divider"],"ctmd + p":["action","preview"],"ctmd + f":["action","fullscreen"],esc:"__esc"},callbacks:{action:e.noop,preview:e.noop,unpreview:e.noop,fullscreen:e.noop,unfullscreen:e.noop}}},h=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"_variables",value:function(){_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_variables",this).call(this),this.$editor=this.$element,this.editor=this.$editor[0],this.$textarea=this.$editor.find(this.options.selectors.textarea),this.textarea=this.$textarea[0],this.$preview=this.$editor.find(this.options.selectors.preview),this.$triggers=this.$editor.find(this.options.selectors.triggers.all),this.$triggerPreview=this.$triggers.filter(this.options.selectors.triggers.preview),this.$triggerFullscreen=this.$triggers.filter(this.options.selectors.triggers.fullscreen),this.$fullscreenable=this.$editor.parents(this.options.selectors.fullscreenable)}},{key:"_init",value:function(){if(this._isPreview=this.$editor.hasClass(this.options.classes.preview),this._isFullscreen=this.$editor.hasClass(this.options.classes.fullscreen),this.options.storage.enabled=this.options.storage.enabled||this.$editor.is(s.Storable.config.selector),this.options.storage.enabled&&(this._storageInit(),this._storageKey)){var t=this.get()?"store":"restore";this.options.actions[t].apply(this)}}},{key:"_events",value:function(){this.___keydown(),this.___triggers(),this.___parentUnfullscreen(),this.options.storage.enabled&&this._storageKey&&this.___storage(),r&&this.___emojipicker()}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"__esc",value:function(){return!!this.isFullscreen()&&void this.unfullscreen()}},{key:"___triggers",value:function(){var i=!0,s=!1,o=void 0;try{for(var r,a=this.$triggers[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value,h=t(l),c=h.data(this.options.datas.action);this._on(h,n.tap,e.wrap(c,this.action))}}catch(t){s=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}}},{key:"___parentUnfullscreen",value:function(){this._on(!0,this.$document,this.options.parentUnfullscreenEvents,this.__parentUnfullscreen)}},{key:"__parentUnfullscreen",value:function(e){t.contains(e.target,this.editor)&&this.unfullscreen()}},{key:"___storage",value:function(){this._on("change cut paste keyup",this._throttle(this.options.actions.store.bind(this),1e3))}},{key:"_storageInit",value:function(){this._storageKey=this.$editor.attr("id")}},{key:"___emojipicker",value:function(){this._on(this.$document,"emojipicker:pick",this.__emojipicker)}},{key:"__emojipicker",value:function(t,e){var i=r.encode(e.emoji,e.tone);this._insertAtSelection(i,!0)}},{key:"_getSelection",value:function(){var t=this.textarea.selectionStart,e=this.textarea.selectionEnd,i=this.$textarea.val().substring(t,e);return{start:t,end:e,text:i}}},{key:"_getWordSelection",value:function(){var t=this.$textarea.val(),e=this._getSelection();if(e.text.length||!t)return e;for(var i=e.start;i>=0&&i<t.length&&t[i].match(/[a-zA-Z0-9-]/);)i-=1;i=Math.min(e.start,i+1);for(var s=e.end+1;s<t.length&&t[s].match(/[a-zA-Z0-9-]/);)s+=1;return i===e.start||s===e.end?e:(this.textarea.setSelectionRange(i,s),this._getSelection())}},{key:"_insertAtSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.$textarea.val(),s=this._getSelection(),o=e&&s.start&&" "!==i[s.start-1]?" ":"",n=e&&s.end<i.length&&" "!==i[s.end]?" ":"",r=i.substr(0,s.start)+o+t+n+i.substr(s.end,i.length),a=s.start+o.length+t.length;this.$textarea.val(r).change(),this.textarea.setSelectionRange(a,a)}},{key:"_replaceSelection",value:function(t,e,i){var s=this.$textarea.val(),o=this._getSelection(),n=s.substr(0,o.start)+t+i+e+s.substr(o.end,s.length);this.$textarea.val(n).change(),this.textarea.setSelectionRange(o.start+t.length,o.start+t.length+i.length)}},{key:"_isSelectionWrapped",value:function(t,e){var i=this.$textarea.val(),s=this._getSelection();return i.substr(s.start-t.length,t.length)===t&&i.substr(s.end,e.length)===e}},{key:"_toggleWrapSelection",value:function(t,e,i){this._isSelectionWrapped(t,e)?this._unwrapSelection(t,e,i):this._wrapSelection(t,e)}},{key:"_wrapSelection",value:function(t,e){var i=this.$textarea.val(),s=this._getSelection(),o=i.substr(0,s.start)+t+s.text+e+i.substr(s.end,i.length);this.$textarea.val(o).change(),this.textarea.setSelectionRange(s.start+t.length,s.end+t.length)}},{key:"_unwrapSelection",value:function(t,e,i){var s=this.$textarea.val(),o=this._getSelection(),n=o.text===i,r=s.substr(0,o.start-t.length)+(n?"":o.text)+s.substr(o.end+e.length,s.length);this.$textarea.val(r).change(),this.textarea.setSelectionRange(o.start-t.length,o.end-t.length-(n?o.text.length:0))}},{key:"_action",value:function(t,e,i){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=s?this._getWordSelection():this._getSelection();o.text.length?this._toggleWrapSelection(t,e,i):this._replaceSelection(t,e,i)}},{key:"_parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$textarea.val();return this.options.parser(t)}},{key:"_render",value:function(){this.$preview.html(this._parse()),a&&this.$preview.emojify()}},{key:"get",value:function(t){return t?this._parse():this.$textarea.val()}},{key:"set",value:function(t){e.isString(t)&&t!==this.$textarea.val()&&(this.$textarea.val(t).change(),this._isPreview&&this._render())}},{key:"reset",value:function(){return this.set("")}},{key:"action",value:function(t,e){t&&this.options.actions.hasOwnProperty(t)&&(e&&e.preventDefault(),this.options.actions[t].apply(this),this.$textarea.focus(),this._trigger("action",{action:t}))}},{key:"isPreview",value:function(){return this._isPreview}},{key:"togglePreview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isPreview;!!t!==this._isPreview&&this[t?"preview":"unpreview"]()}},{key:"preview",value:function(){this._isPreview||(this._isPreview=!0,this._render(),this.$preview.outerHeight(this.$textarea.outerHeight()),this.$editor.addClass(this.options.classes.preview),this.$triggerPreview.addClass(this.options.classes.trigger.active),this._trigger("preview"))}},{key:"unpreview",value:function(){this._isPreview&&(this._isPreview=!1,this.$editor.removeClass(this.options.classes.preview),this.$triggerPreview.removeClass(this.options.classes.trigger.active),this._trigger("unpreview"))}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"toggleFullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isFullscreen;!!t!==this._isFullscreen&&this[t?"fullscreen":"unfullscreen"]()}},{key:"fullscreen",value:function(){this._isFullscreen||(this._isFullscreen=!0,this.$layout.disableScroll(),this.$fullscreenable.addClass(this.options.classes.fullscreenable.request),this.$editor.addClass(this.options.classes.fullscreen),this.$triggerFullscreen.addClass(this.options.classes.trigger.active),this._trigger("fullscreen"))}},{key:"unfullscreen",value:function(){this._isFullscreen&&(this._isFullscreen=!1,this.$layout.enableScroll(),this.$fullscreenable.removeClass(this.options.classes.fullscreenable.request),this.$editor.removeClass(this.options.classes.fullscreen),this.$triggerFullscreen.removeClass(this.options.classes.trigger.active),this._trigger("unfullscreen"))}}]),o}(s.Storable);o.make(h,l)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Emoji,Svelto.Emojify);var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=_self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function t(i){var s=e.util.type(i);switch(s){case"Object":var t={};for(var o in i)i.hasOwnProperty(o)&&(t[o]=e.util.clone(i[o]));return t;case"Array":return i.map&&i.map(function(t){return e.util.clone(t)})}return i}},languages:{extend:function(t,i){var s=e.util.clone(e.languages[t]);for(var o in i)s[o]=i[o];return s},insertBefore:function(t,i,s,o){o=o||e.languages;var n=o[t];if(2==arguments.length){s=arguments[1];for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r]);return n}var a={};for(var l in n)if(n.hasOwnProperty(l)){if(l==i)for(var r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);a[l]=n[l]}return e.languages.DFS(e.languages,function(e,i){i===o[t]&&e!=t&&(this[e]=a)}),o[t]=a},DFS:function(t,i,s){for(var o in t)t.hasOwnProperty(o)&&(i.call(t,o,t[o],s||o),"Object"===e.util.type(t[o])?e.languages.DFS(t[o],i):"Array"===e.util.type(t[o])&&e.languages.DFS(t[o],i,o))}},plugins:{},highlightAll:function(t,i){for(var s,o=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),n=0;s=o[n++];)e.highlightElement(s,t===!0,i)},highlightElement:function(s,o,n){for(var r,a,l=s;l&&!t.test(l.className);)l=l.parentNode;l&&(r=(l.className.match(t)||[,""])[1],a=e.languages[r]),s.className=s.className.replace(t,"").replace(/\s+/g," ")+" language-"+r,l=s.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+r);var h=s.textContent,c={element:s,language:r,grammar:a,code:h};if(!h||!a)return void e.hooks.run("complete",c);if(e.hooks.run("before-highlight",c),o&&_self.Worker){var u=new Worker(e.filename);u.onmessage=function(t){c.highlightedCode=i.stringify(JSON.parse(t.data),r),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,n&&n.call(c.element),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=e.highlight(c.code,c.grammar,c.language),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,n&&n.call(s),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},highlight:function(t,s,o){var n=e.tokenize(t,s);return i.stringify(e.util.encode(n),o)},tokenize:function(t,i,s){var o=e.Token,n=[t],r=i.rest;if(r){for(var a in r)i[a]=r[a];delete i.rest}t:for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var l=i[a];l="Array"===e.util.type(l)?l:[l];for(var h=0;h<l.length;++h){var c=l[h],u=c.inside,p=!!c.lookbehind,d=0,_=c.alias;c=c.pattern||c;for(var v=0;v<n.length;v++){var f=n[v];if(n.length>t.length)break t;if(!(f instanceof o)){c.lastIndex=0;var g=c.exec(f);if(g){p&&(d=g[1].length);var m=g.index-1+d,g=g[0].slice(d),y=g.length,b=m+y,k=f.slice(0,m+1),$=f.slice(b+1),S=[v,1];k&&S.push(k);var w=new o(a,u?e.tokenize(g,u):g,_);S.push(w),$&&S.push($),Array.prototype.splice.apply(n,S)}}}}}return n},hooks:{all:{},add:function(t,i){var s=e.hooks.all;s[t]=s[t]||[],s[t].push(i)},run:function(t,i){var s=e.hooks.all[t];if(s&&s.length)for(var o,n=0;o=s[n++];)o(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,s,o){if("string"==typeof t)return t;if("Array"===e.util.type(t))return t.map(function(e){return i.stringify(e,s,t);
}).join("");var n={type:t.type,content:i.stringify(t.content,s,o),tag:"span",classes:["token",t.type],attributes:{},language:s,parent:o};if("comment"==n.type&&(n.attributes.spellcheck="true"),t.alias){var r="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,r)}e.hooks.run("wrap",n);var a="";for(var l in n.attributes)a+=(a?" ":"")+l+'="'+(n.attributes[l]||"")+'"';return"<"+n.tag+' class="'+n.classes.join(" ")+'" '+a+">"+n.content+"</"+n.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(t){var i=JSON.parse(t.data),s=i.language,o=i.code,n=i.immediateClose;_self.postMessage(JSON.stringify(e.util.encode(e.tokenize(o,e.languages[s])))),n&&_self.close()},!1),_self.Prism):_self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(e.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript;