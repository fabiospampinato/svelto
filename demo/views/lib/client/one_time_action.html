
<!-- ONE TIME ACTION -->

<template name="one_time_action">

  {{{sw.divider "One Time Actions"}}}

  <div class="multiple">
    <div onclick="ota_test1 ()" class="button bordered">Test1</div>
    <div onclick="ota_test2 ()" class="button bordered">Test2</div>
    <div onclick="ota_test3 ()" class="button bordered">Test3 (Advanced)</div>
  </div>

  {{> one_time_action_actions}}

  <script>
    function ota_test1 () {
      $.oneTimeAction ({
        action: 'test1',
        fn: function () {
          $.toast ( "One time action (test1) executed and setted" );
        }
      });
    }

    function ota_test2 () {
      $.oneTimeAction ({
        action: 'test2',
        fn: function () {
          $.toast ( "One time action (test2) executed and setted" );
        }
      });
    }

    function ota_test3 () {
      $.oneTimeAction ({
        action: 'test3',
        fn: function () {
          $.toast ({
            body: "One time action (test3) executed",
            buttons: [{
              text: 'Close'
            }, {
              text: 'Set',
              onClick: function () {
                $.oneTimeAction ({
                  action: 'test3'
                }).set(1);
                $.toast ( "One time action (test3) setted" );
              }
            }]
          });
          return false;
        }
      });
    }
  </script>

</template>

<!-- ACTIONS -->

<template name="one_time_action_actions">

  {{{sw.divider "Actions"}}}

  <div class="multiple actions">
    <div onclick="ota_remove_test1 ()" class="button bordered">Remove test1</div>
    <div onclick="ota_remove_actions ()" class="button bordered">Remove all</div>
    <div onclick="ota_get_string ()" class="button bordered">Get cookie string</div>
  </div>

  <script>
    function ota_remove_test1 () {
      $.oneTimeAction ({
        action: 'test1'
      }).remove ();
      $.toast ( '(test1) action has been removed' );
    }

    function ota_remove_actions () {
      $.oneTimeAction().remove ();
      $.toast ( 'oneTimeAction-related cookies has been removed' );
    }

    function ota_get_string () {
      $.toast (String(Svelto.Cookie.get('ota') ) );
    }
  </script>

</template>
