"use strict";!function(t,e,i,s){t.mixin({nowSecs:function(){return t.floor(t.now()/1e3)},timeAgo:function(e){var i=t.nowSecs()-e,s=5,n=["year","month","week","day","hour","minute","second"],o=[31536e3,2592e3,604800,86400,3600,60,1];if(s>i)return{str:"Just now",next:s-i};for(var r=0,a=o.length;a>r;r++){var h=n[r],c=o[r],l=t.floor(i/c);if(l>=1)return{str:l+" "+h+(l>1?"s":"")+" ago",next:c-(i-l*c)}}},fuzzyMatch:function(t,e,i){i!==!1&&(t=t.toLowerCase(),e=e.toLowerCase());for(var s=-1,n=t.length,o=0,r=e.length;r>o;o++){for(var a=s+1;n>a;a++)t[a]===e[o]&&(s=a,a=n+1);if(a===n)return!1}return!0},clamp:function(e,i,s){return t.isUndefined(e)||e>i&&(i=e),t.isUndefined(s)||i>s&&(i=s),i},btEach:function(e,i,s){for(var n,o=0,r=e.length-1,a=t.isNumber(s)?s:t.ceil((o+r)/2);r>=o;){if(n=i.call(e[a],a,e[a]),0>n)r=a-1;else{if(!(n>0))return a;o=a+1}a=t.ceil((o+r)/2)}return-1},"true":t.constant(!0),"false":t.constant(!1)})}(_,window,document),function(t,e,i,s,n){t.easing={def:"easeOutQuad",swing:function(e,i,s,n,o){return t.easing[t.easing.def](e,i,s,n,o)},linear:function(t,e,i,s,n){return(s-i)/n*e+i},easeInQuad:function(t,e,i,s,n){return s*(e/=n)*e+i},easeOutQuad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i},easeInOutQuad:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e+i:-s/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,s,n){return s*(e/=n)*e*e+i},easeOutCubic:function(t,e,i,s,n){return s*((e=e/n-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e+i:s/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,s,n){return s*(e/=n)*e*e*e+i},easeOutQuart:function(t,e,i,s,n){return-s*((e=e/n-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e*e+i:-s/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,s,n){return s*(e/=n)*e*e*e*e+i},easeOutQuint:function(t,e,i,s,n){return s*((e=e/n-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e*e*e+i:s/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,s,n){return-s*Math.cos(e/n*(Math.PI/2))+s+i},easeOutSine:function(t,e,i,s,n){return s*Math.sin(e/n*(Math.PI/2))+i},easeInOutSine:function(t,e,i,s,n){return-s/2*(Math.cos(Math.PI*e/n)-1)+i},easeInExpo:function(t,e,i,s,n){return 0==e?i:s*Math.pow(2,10*(e/n-1))+i},easeOutExpo:function(t,e,i,s,n){return e==n?i+s:s*(-Math.pow(2,-10*e/n)+1)+i},easeInOutExpo:function(t,e,i,s,n){return 0==e?i:e==n?i+s:(e/=n/2)<1?s/2*Math.pow(2,10*(e-1))+i:s/2*(-Math.pow(2,-10*--e)+2)+i}}}(jQuery,_,window,document),function(t,e,i,s,n){t.reflow=function(){s.documentElement.offsetHeight},t.eventXY=function(e){return e.isPointerEvent&&(e=e.originalEvent),t.browser.hasTouch&&e.originalEvent.touches&&(e=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent.touches[0]),{X:e.pageX,Y:e.pageY}},t(function(){i.$window=t(i),i.$document=t(s),i.$html=t(s.documentElement),i.$body=t(s.body),i.$empty=t()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=function r(t,e){var i=/[^\w\-\.:]/.test(t)?new Function(r.arg+",tmpl","var _e=_.escape"+r.helper+",_s='"+t.replace(r.regexp,r.func)+"';return _s;"):r.cache[t]=r.cache[t]||r(s.getElementById(t).innerHTML);return e?i(e,r):function(t){return i(t,r)}};o.cache={},o.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,o.func=function(t,e,i,s,n,o){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+s+")+'":"'+("+s+"==null?'':"+s+")+'":n?"';":o?"_s+='":void 0},o.arg="o",o.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",t.tmpl=o}(jQuery,_,window,document),function(t,e,i,s,n){var o=navigator.userAgent.toLowerCase();t.browser={isMobile:/iphone|ipad|android|ipod|opera mini|opera mobile|blackberry|iemobile|webos|windows phone|playbook|tablet|kindle/i.test(o),isTablet:/ipad|playbook|tablet|kindle/i.test(o),isAndroid:/android/i.test(o),isIOS:/(iphone|ipad|ipod)/i.test(o),isMac:/mac/i.test(o),isIE:/msie [\w.]+/.test(o),isChrome:/chrome/i.test(o)},t.browser.hasTouch="ontouchstart"in i&&!(t.browser.isChrome&&!t.browser.isAndroid)}(jQuery,_,window,document),function(t,e,i,s,n){t.Pointer={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var o=["tap","dbltap","press","dragstart","dragmove","dragend","flick"],r="pointer";e.each(o,function(e){var i=r+e;t.Pointer[e]=i,t.fn[e]=function(t){return t?this.on(i,t):this.trigger(i)}});var a,h,c,l,d,u,p,_,g,f,m,v,w=t.browser.hasTouch?"touchstart":"mousedown",b=t.browser.hasTouch?"touchmove":"mousemove",$=t.browser.hasTouch?"touchend touchcancel":"mouseup mouseleave",y=t(s.documentElement),k=0,x=function(e,i){var s=t.Event(e);return s.originalEvent=i,s.isPointerEvent=!0,s},C=function(i){a=t.eventXY(i),d=i.target,u=t(d),p=i.timeStamp||e.now(),g=!1,v=setTimeout(e.wrap(i,Y),t.Pointer.pressDuration),u.trigger(x(t.Pointer.dragstart,i),{startXY:a}),y.on(b,X),y.on($,T)},Y=function(e){u.trigger(x(t.Pointer.press,e))},X=function(e){clearTimeout(v),h=t.eventXY(e),c={X:h.X-a.X,Y:h.Y-a.Y},(Math.abs(c.X)>t.Pointer.motionThreshold||Math.abs(c.Y)>t.Pointer.motionThreshold)&&(g=!0,u.trigger(x(t.Pointer.dragmove,e),{startXY:a,moveXY:h,deltaXY:c}))},T=function M(i){clearTimeout(v),l=t.eventXY(i),c={X:l.X-a.X,Y:l.Y-a.Y},d===i.target&&(_=i.timeStamp||e.now(),t.browser.hasTouch&&g||(u.trigger(x(t.Pointer.tap,i)),_-k<=t.Pointer.doubleTapInterval&&u.trigger(x(t.Pointer.dbltap,i)),k=_),g&&_-p<=t.Pointer.flickDuration&&(Math.abs(c.X)>Math.abs(c.Y)?(f="horizontal",m=c.X>0?1:-1):(f="vertical",m=c.Y>0?1:-1),u.trigger(x(t.Pointer.flick,i),{startXY:a,endXY:l,deltaXY:c,orientation:f,direction:m}))),y.off(b,X),y.off($,M),u.trigger(x(t.Pointer.dragend,i),{startXY:a,endXY:l,deltaXY:c})};y.on(w,C)}(jQuery,_,window,document),function(t,e,i,s,n){t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetOriginalName:"widget",widgetName:"widget",widgetFullName:"widget",defaultElement:!1,templates:{},options:{callbacks:{}},_createWidget:function(i,s){this.initializationType=s?"element":this.defaultElement?"html":this.templates.base?"template":"none",this.options=e.merge({},this.options,this._getCreateOptions(),i),"element"===this.initializationType&&e.merge(this.options,t(s).data(this.widgetName)),s=t(s||this.defaultElement||(this.templates.base?this._tmpl("base",this.options):!1)||this).get(0),this.element=s,this.$element=t(s),this.guid=e.uniqueId(),this.options.disabled=i&&i.disabled?i.disabled:this.$element.hasClass(this.widgetName+"-disabled"),t.data(this.element,this.widgetFullName,this),this._on(!0,this.$element,"remove",function(t){t.target===this.element&&this.destroy()}),this._create(),this._trigger("create",this._getCreateEventData()),this._variables(),this._init(),this._events()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_variables:e.noop,_init:e.noop,_events:e.noop,destroy:function(){this._destroy(),t.removeData(this.element,this.widgetFullName)},_destroy:e.noop,widget:function(){return this.$element},option:function(t,i){if(0===arguments.length)return e.cloneDeep(this.options);var s,o,r,a=t;if("string"==typeof t)if(a={},s=t.split("."),t=s.shift(),s.length){for(o=a[t]=e.extend({},this.options[t]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(t=s.pop(),1===arguments.length)return o[t]===n?null:o[t];o[t]=i}else{if(1===arguments.length)return this.options[t]===n?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.$element.toggleClass(this.widgetName+"-disabled",!!e),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(i,s,n,o,r){function a(){if(i||!h.options.disabled&&!h.$element.hasClass(h.widgetName+"-disabled")){var t=e.slice(arguments);return t.push(this),r.apply(h,t)}}var h=this;"boolean"!=typeof i&&(r=o,o=n,n=s,s=i,i=!1),s instanceof t||(r=o,o=n,n=s,s=this.$element),o&&!r&&(r=o,o=!1),r=e.isString(r)?this[r]:r,a.guid=r.guid=r.guid||a.guid||t.guid++,o?s.on(n,o,a):s.on(n,a)},_off:function(t,i,s){s||(s=i,i=t,t=this.$element),s=e.isString(s)?this[s]:s,t.off(i,s)},_trigger:function(t,e){e=e||{},t=t.split(" ");for(var i=0,s=t.length;s>i;i++)this.$element.trigger(this.widgetName+":"+t[i],e),"function"==typeof this.options.callbacks[t[i]]&&this.options.callbacks[t[i]].call(this.element,e)},_delay:function(t,e){var i=this;return setTimeout(function(){t.apply(i,arguments)},e||0)},_tmpl:function(e,i){return t.tmpl(this.widgetOriginalName+"."+e,i)},insertBefore:function(t){return this.$element.insertBefore(t),this},insertAfter:function(t){return this.$element.insertAfter(t),this},prependTo:function(t){return this.$element.prependTo(t),this},appendTo:function(t){return this.$element.appendTo(t),this}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget=function(i,s,n){var o,r,a,h,c={},l=i.split("."),d=l.length>1?l[0]:!1,u=l.length>1?l[1]:l[0];o=d?d+"-"+u:u,n||(n=s,s=t.Widget),d&&(t[d]=t[d]||{}),r=d?t[d][u]:t[u],a=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},d?t[d][u]=a:t[u]=a,e.extend(a,r,{_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.extend({},h.options);for(var p in n)"function"==typeof n[p]?c[p]=function(t){var e=function(){return s.prototype[t].apply(this,arguments)},i=function(e){return s.prototype[t].apply(this,e)};return function(){var s,o=this._super,r=this._superApply;return this._super=e,this._superApply=i,s=n[t].apply(this,arguments),this._super=o,this._superApply=r,s}}(p):c[p]=n[p];a.prototype=e.extend(h,c,{constructor:a,namespace:d,widgetOriginalName:i,widgetName:u,widgetFullName:o});for(var _ in n.templates)t.tmpl.cache[i+"."+_]=t.tmpl(n.templates[_]);if(r){for(var g=0,f=r._childConstructors.length;f>g;g++){var m=r._childConstructors[g].prototype;t.widget(m.namespace?m.namespace+"."+m.widgetName:m.widgetName,a,r._childConstructors[g]._proto)}delete r._childConstructors}else s._childConstructors.push(a);return t.widget.bridge(u,a),a},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(i){if(0!==this.length||s.prototype.defaultElement||s.prototype.templates.base){var r="string"==typeof i,a=e.tail(arguments),h=this;return r?this.each(function(){var e,s=t.data(this,o);if("instance"===i)return h=s,!1;if(s&&"function"==typeof s[i]&&"_"!==i.charAt(0))return e=s[i].apply(s,a),e!==s&&e!==n?(h=e,!1):void 0}):(a.length&&(i=e.extend.apply(null,[i].concat(a))),this.each(function(){var e=t.data(this,o);e?e.option(i||{}):t.data(this,o,new s(i,this))})),h}}}}(jQuery,_,window,document),function(t,e,i,s,n){t.ui={keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},mouseButton:{LEFT:0,MIDDLE:1,RIGHT:2}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.autogrow",{options:{minimum_width:0,minimum_height:0,callbacks:{update:e.noop}},_variables:function(){this.$growable=this.$element,this.isInput=this.$growable.is("input"),this.isTextarea=this.$growable.is("textarea")},_init:function(){this.update()},_events:function(){this._on("input change",this.update)},_update_input_width:function(){var t=this._get_input_needed_width(this.$growable);this.$growable.width(Math.max(t,this.options.minimum_width))},_get_input_needed_width:function(){var e=t("<span>"+this.$growable.val()+"</span>");e.css({font:this.$growable.css("font"),position:"absolute",opacity:0}),e.appendTo($body);var i=e.width();return e.remove(),i},_update_textarea_height:function(){var t=this.$growable.height(1).get(0).scrollHeight-parseFloat(this.$growable.css("padding-top"))-parseFloat(this.$growable.css("padding-bottom"));this.$growable.height(Math.max(t,this.options.minimum_height))},update:function(){this.isInput?(this._update_input_width(),this._trigger("update")):this.isTextarea&&(this._update_textarea_height(),this._trigger("update"))}}),t(function(){t("input.autogrow, textarea.autogrow, .input-wrp.autogrow input, .textarea-wrp.autogrow textarea").autogrow()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.accordion",{_variables:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(".expander"),this.expanders_instances=Array(this.$expanders.length),this.isMultiple=this.$accordion.hasClass("multiple")},_init:function(){for(var t=0,e=this.$expanders.length;e>t;t++)this.expanders_instances[t]=this.$expanders.eq(t).expander("instance")},_events:function(){this._on("expander:open",".expander",this._handler_open)},_handler_open:function(t,e,i){if(!this.isMultiple)for(var s=0,n=this.$expanders.length;n>s;s++)this.$expanders[s]!==i&&this.expanders_instances[s].close()},toggle:function(t){this.expanders_instances[t].toggle()},toggleAll:function(){e.each(this.expanders_instances,function(t){t.toggle()})},open:function(t){this.expanders_instances[t].open()},openAll:function(){e.each(this.expanders_instances,function(t){t.open()})},close:function(t){this.expanders_instances[t].close()},closeAll:function(){e.each(this.expanders_instances,function(t){t.close()})}}),t(function(){t(".accordion").accordion()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.blurred=function(t){return this.toggleClass("blurred",t)}}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.btEach=function(t,i){return e.btEach(this,t,i)}}(jQuery,_,window,document),function(t,e,i,s){e.ColorHelper={hex2rgb:function(t){return{r:this.hex2dec(t.r),g:this.hex2dec(t.g),b:this.hex2dec(t.b)}},hex2hsv:function(t){return this.rgb2hsv(this.hex2rgb(t))},rgb2hex:function(t){return{r:this.dec2hex(t.r),g:this.dec2hex(t.g),b:this.dec2hex(t.b)}},rgb2hsv:function(t){var e,i,s=t.r/255,n=t.g/255,o=t.b/255,r=Math.max(s,n,o),a=r-Math.min(s,n,o),h=function(t){return(r-t)/6/a+.5};if(0===a)e=i=0;else{i=a/r;var c=h(s),l=h(n),d=h(o);s===r?e=d-l:n===r?e=1/3+c-d:o===r&&(e=2/3+l-c),0>e?e+=1:e>1&&(e-=1)}return{h:360*e,s:100*i,v:100*r}},hsv2hex:function(t){return this.rgb2hex(this.hsv2rgb(t))},hsv2rgb:function(t){var e,i,s,n=t.h,o=t.s,r=t.v;if(o/=100,r/=100,0===o)e=i=s=r;else{var a,h,c,l,d;switch(n/=60,a=Math.floor(n),h=n-a,c=r*(1-o),l=r*(1-o*h),d=r*(1-o*(1-h)),a){case 0:e=r,i=d,s=c;break;case 1:e=l,i=r,s=c;break;case 2:e=c,i=r,s=d;break;case 3:e=c,i=l,s=r;break;case 4:e=d,i=c,s=r;break;default:e=r,i=c,s=l}}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}},hsv2hsl:function(t){var e=t.s/100,i=t.v/100,s=(2-e)*i,n=e*i;return{h:t.h,s:n/(1>=s?s:2-s)*100,l:s/2*100}},hsl2hsv:function(t){var e=t.l/100*2,i=t.s/100*(1>=e?e:2-e);return{h:t.h,s:2*i/(e+i)*100,v:(e+i)/2*100}},dec2hex:function(e){return t.padLeft(e.toString(16),2,"0")},hex2dec:function(t){return parseInt(t,16)}}}(_,window,document),function(t,e,i,s,n){t.widget("presto.checkbox",{options:{callbacks:{checked:e.noop,unchecked:e.noop}},_variables:function(){this.$checkbox=this.$element,this.$input=this.$checkbox.find("input")},_init:function(){var t=this.$checkbox.hasClass("checked");this.get()?t||this.$checkbox.addClass("checked"):t&&this.$checkbox.removeClass("checked")},_events:function(){this._on("click",function(){this.toggle()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var t=this.get();this.$checkbox.toggleClass("checked",t),this._trigger(t?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},toggle:function(t){var i=this.get();e.isUndefined(t)&&(t=!i),t!==i&&(this.$input.prop("checked",t).trigger("change"),this._trigger(t?"checked":"unchecked"))},check:function(){this.toggle(!0)},uncheck:function(){this.toggle(!1)}}),t(function(){t(".checkbox").checkbox()})}(jQuery,_,window,document),function(t,e,i,s){e.HexColor=function(e){if(t.isString(e)){if(e=e.replace("#",""),/^([0-9a-f]{3}){2}$/i.test(e))this.hsv=ColorHelper.hex2hsv({r:e[0]+e[1],g:e[2]+e[3],b:e[4]+e[5]});else{if(!/^[0-9a-f]{3}$/i.test(e))return this;this.hsv=ColorHelper.hex2hsv({r:e[0]+e[0],g:e[1]+e[1],b:e[2]+e[2]})}this.isValid=!0}},HexColor.prototype={isValid:!1,hsv:{h:0,s:0,v:0},getHexStr:function(){var t=ColorHelper.hsv2hex(this.hsv);return"#"+t.r+t.g+t.b}}}(_,window,document),function(t,e,i,s,n){t.widget("presto.colorpicker",{options:{default_color:"#ff0000",live:!0,callbacks:{change:e.noop}},_variables:function(){this.$colorpicker=this.$element,this.$sb_wrp=this.$colorpicker.find(".colorpicker-saturation-brightness-wrp"),this.$handler_sb=this.$sb_wrp.find(".colorpicker-handler"),this.$hue_wrp=this.$colorpicker.find(".colorpicker-hue-wrp"),this.$handler_hue=this.$hue_wrp.find(".colorpicker-handler"),this.id=this.$colorpicker.attr("id"),this.$inputs=t('input[name="'+this.id+'"]'),this.color=new HexColor,this.hex="",this._update_variables(),this.sb_wrp_size=this.$sb_wrp.width(),this.hue_wrp_height=this.sb_wrp_size},_init:function(){this.set(this.$inputs.val())||(this.color=new HexColor(this.options.default_color),this._update_sb(),this._update_hue())},_events:function(){this._on($window,"resize",this._handler_resize),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$sb_wrp,"mouseenter",this._handler_sb_wrp_arrows_in),this._on(this.$sb_wrp,"mouseleave",this._handler_sb_wrp_arrows_out),this._on(this.$sb_wrp,t.Pointer.dragmove,this._handler_sb_drag_move),this._on(this.$sb_wrp,t.Pointer.dragend,this._handler_sb_drag_end),this._on(this.$hue_wrp,"mouseenter",this._handler_hue_wrp_arrows_in),this._on(this.$hue_wrp,"mouseleave",this._handler_hue_wrp_arrows_out),this._on(this.$hue_wrp,t.Pointer.dragmove,this._handler_hue_drag_move),this._on(this.$hue_wrp,t.Pointer.dragend,this._handler_hue_drag_end)},_update_variables:function(){this.sb_wrp_offset=this.$sb_wrp.offset(),this.hue_wrp_offset=this.$hue_wrp.offset()},_handler_resize:function(){this._update_variables()},_handler_sb_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_keydown:function(){switch(event.keyCode){case t.ui.keyCode.UP:this.color.hsv.v=Math.min(100,this.color.hsv.v+1);break;case t.ui.keyCode.RIGHT:this.color.hsv.s=Math.min(100,this.color.hsv.s+1);break;case t.ui.keyCode.DOWN:this.color.hsv.v=Math.max(0,this.color.hsv.v-1);break;case t.ui.keyCode.LEFT:this.color.hsv.s=Math.max(0,this.color.hsv.s-1);break;default:return}this._update_sb(),this._update_input()},_sb_drag_set:function(t,i){this.color.hsv.s=100*e.clamp(0,t.X-this.sb_wrp_offset.left,this.sb_wrp_size)/this.sb_wrp_size,this.color.hsv.v=100-100*e.clamp(0,t.Y-this.sb_wrp_offset.top,this.sb_wrp_size)/this.sb_wrp_size,this._update_sb(),i&&this._update_input()},_handler_sb_drag_move:function(t,e){this._sb_drag_set(e.moveXY,this.options.live)},_handler_sb_drag_end:function(t,e){this._sb_drag_set(e.endXY,!0)},_handler_hue_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_keydown:function(){switch(event.keyCode){case t.ui.keyCode.UP:this.color.hsv.h=Math.min(359,this.color.hsv.h+1);break;case t.ui.keyCode.DOWN:this.color.hsv.h=Math.max(0,this.color.hsv.h-1);break;default:return}this._update_hue(),this._update_input()},_hue_drag_set:function(t,i){this.color.hsv.h=359-359*e.clamp(0,t.Y-this.hue_wrp_offset.top,this.hue_wrp_height)/this.hue_wrp_height,this._update_hue(),i&&this._update_input()},_handler_hue_drag_move:function(t,e){this._hue_drag_set(e.moveXY,this.options.live)},_handler_hue_drag_end:function(t,e){this._hue_drag_set(e.endXY,!0)},_handler_input_keydown:function(e){e.keyCode===t.ui.keyCode.ENTER&&(this.set(this.$inputs.val())||this.$inputs.val(this.hex))},_update_input:function(){this.hex=this.color.getHexStr(),this.$inputs.val(this.hex).css("background-color",this.hex).trigger("change"),this._trigger("change")},_update_sb:function(){var t=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_sb.css({"background-color":"hsl("+t.h+","+t.s+"%,"+t.l+"%)",transform:"translate3d("+this.sb_wrp_size/100*this.color.hsv.s+"px,"+this.sb_wrp_size/100*(100-this.color.hsv.v)+"px,0)"})},_update_hue:function(){var t=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_hue.css({"background-color":"hsl("+this.color.hsv.h+",100%,50%)",transform:"translate3d(0,"+this.hue_wrp_height/100*(100-this.color.hsv.h/360*100)+"px,0)"}),this.$handler_sb.css("background-color","hsl("+t.h+","+t.s+"%,"+t.l+"%)"),this.$sb_wrp.css("background-color","hsl("+this.color.hsv.h+",100%,50%)")},_update:function(){this._update_sb(),this._update_hue(),this._update_input()},get:function(){return this.color.getHexStr()},set:function(t){var i=new HexColor(t);return i.isValid&&!e.isEqual(i.hsv,this.color.hsv)&&(this.color=i,this._update()),i.isValid}}),t(function(){t(".colorpicker").colorpicker()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=encodeURIComponent,r=decodeURIComponent;t.cookie={get:function(t){return t?r(s.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+o(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(t,e,i,n,r,a){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var h="";if(i)switch(i.constructor){case Number:h=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:h="; expires="+i;break;case Date:h="; expires="+i.toUTCString()}return s.cookie=o(t)+"="+o(e)+h+(r?"; domain="+r:"")+(n?"; path="+n:"")+(a?"; secure":""),!0},remove:function(t,e,i){return this.has(t)?(s.cookie=o(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0):!1},has:function(t){return t?new RegExp("(?:^|;\\s*)"+o(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie):!1},keys:function a(){for(var a=s.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0,e=a.length;e>t;t++)a[t]=r(a[t]);return a}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.datepicker",{options:{names:{months:["January","February","March","April","May","June","July","August","September","October","November","December"]},date:{today:!1,current:!1,selected:null},callbacks:{change:e.noop,refresh:e.noop}},_variables:function(){this.$datepicker=this.$element,this.id=this.$datepicker.attr("id"),this.$inputs=this.id?t('input[name="'+this.id+'"]'):$empty,this.$navigation_prev=this.$datepicker.find(".datepicker-navigation-prev"),this.$navigation_title=this.$datepicker.find(".datepicker-navigation-title"),this.$navigation_next=this.$datepicker.find(".datepicker-navigation-next"),this.$days_prev=this.$datepicker.find(".datepicker-day-prev"),this.$days_current=this.$datepicker.find(".datepicker-day"),this.$days_next=this.$datepicker.find(".datepicker-day-next"),this.$days_all=this.$days_prev.add(this.$days_current).add(this.$days_next),this.options.date.today===!1&&(this.options.date.today=new Date),this.options.date.current===!1&&(this.options.date.current=new Date),this.$day_today=!1,this.$day_selected=!1},_init:function(){this._refresh()},_events:function(){this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$navigation_prev,"click",this._handler_prev_click),this._on(this.$navigation_next,"click",this._handler_next_click),this._on("click",".datepicker-day",this._handler_day_current_click)},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){switch(e.keyCode){case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:this.navigate_month(-1);break;case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:this.navigate_month(1)}},_handler_input_keydown:function(e){e.keyCode===t.ui.keyCode.ENTER&&this.set(this.$inputs.val())},_handler_prev_click:function(){this.navigate_month(-1)},_handler_next_click:function(){this.navigate_month(1)},_handler_day_current_click:function(e,i){this._unhighlight_selected();var s=parseInt(t(i).html(),10);this.options.date.selected=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),s),this._highlight_selected(),this._update_input()},_build_calendar:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,this.$days_all.removeClass("hidden");var s=31-t,n=i,o=9-s-n;this.$days_prev.slice(o+n,this.$days_prev.length).addClass("hidden"),this.$days_prev.slice(0,o).addClass("hidden"),this.$days_current.slice(e,this.$days_current.lenght).addClass("hidden");var o=(e+i)%7;this.$days_next.slice(0===o?0:7-o).addClass("hidden")},_highlight_day:function(t,e){if(t&&t.getFullYear()===this.options.date.current.getFullYear()){var i=t.getMonth()-this.options.date.current.getMonth();switch(i){case-1:return this.$days_prev.eq(t.getDate()-23).addClass(e);case 0:return this.$days_current.eq(t.getDate()-1).addClass(e);case 1:return this.$days_next.eq(t.getDate()-1).addClass(e)}}return!1},_unhighlight_selected:function(){this.$day_selected&&this.$day_selected.removeClass("datepicker-day-selected")},_highlight_selected:function(){this.$day_selected=this._highlight_day(this.options.date.selected,"datepicker-day-selected")},_unhighlight_today:function(){this.$day_today&&this.$day_today.removeClass("datepicker-day-today")},_highlight_today:function(){this.$day_today=this._highlight_day(this.options.date.today,"datepicker-day-today")},_update_title:function(){this.$navigation_title.html(this.options.names.months[this.options.date.current.getMonth()]+", "+this.options.date.current.getFullYear())},_update_input:function(){this.options.date.selected&&this.$inputs.val(this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate()).change()},_refresh:function(){this._unhighlight_selected(),this._unhighlight_today(),this._build_calendar(),this._highlight_selected(),this._highlight_today(),this._update_title(),this._trigger("refresh")},get:function(t){return t&&this.options.date.selected?this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate():this.options.date.selected},set:function(t){if(e.isString(t))var i=t.split("-"),t=new Date(i[0],i[1],i[2]);else var t=new Date(t);e.isNaN(t.valueOf())||(this.options.date.selected=t,this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?(this._unhighlight_selected(),this._highlight_selected()):(this.options.date.current.setFullYear(this.options.date.selected.getFullYear()),this.options.date.current.setMonth(this.options.date.selected.getMonth()),this._refresh()),this._update_input())},navigate_month:function(t){t&&(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this._refresh())},prev_month:function(){this.navigate_month(-1)},next_month:function(){this.navigate_month(1)}}),t(function(){t(".datepicker").datepicker()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.draggable",{options:{selectors:{handler:".draggable-handler"},draggable:e["true"],only_handlers:!1,revertable:!1,axis:!1,constrainer:{$element:!1,coordinates:!1,constrain_center:!1,axis:!1,tollerance:{x:0,y:0}},modifiers:{x:e["true"],y:e["true"]},callbacks:{beforestart:e.noop,start:e.noop,move:e.noop,end:e.noop}},_variables:function(){this.draggable=this.element,this.$draggable=this.$element,this.options.only_handlers&&(this.$handlers=this.$draggable.find(this.options.selectors.handler))},_events:function(){this.options.only_handlers?(this._on(this.$handlers,t.Pointer.dragstart,this._start),this._on(this.$handlers,t.Pointer.dragmove,this._move),this._on(this.$handlers,t.Pointer.dragend,this._end)):(this._on(t.Pointer.dragstart,this._start),this._on(t.Pointer.dragmove,this._move),this._on(t.Pointer.dragend,this._end))},_start:function(t,i){if(this.isDraggable=this.options.draggable(),this.isDraggable){this._trigger("beforestart"),this.motion=!1;var s=this.$draggable.css("transform"),n="none"!==s?s.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0];this.initialXY={X:parseInt(n[4],10),Y:parseInt(n[5],10)},this._trigger("start",e.merge(i,{initialXY:this.initialXY,draggable:this.draggable,$draggable:this.$draggable}))}},_move:function(t,i){if(this.isDraggable){if(this.motion===!1){if(this.motion=!0,this.options.constrainer.$element){var s=this.options.constrainer.$element.offset(),o=this.$draggable.offset();this.translateX_min=s.left-(o.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0),this.translateX_max=s.left+this.options.constrainer.$element.width()-(o.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0),this.translateY_min=s.top-(o.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0),this.translateY_max=s.top+this.options.constrainer.$element.height()-(o.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?this.$draggable.height()/2:0)}else if(this.options.constrainer.coordinates){var o=this.$draggable.offset();e.isUndefined(this.options.constrainer.coordinates.x1)||(this.translateX_min=this.options.constrainer.coordinates.x1-(o.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0)),e.isUndefined(this.options.constrainer.coordinates.x2)||(this.translateX_max=this.options.constrainer.coordinates.x2-(o.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0)),e.isUndefined(this.options.constrainer.coordinates.y1)||(this.translateY_min=this.options.constrainer.coordinates.y1-(o.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0)),e.isUndefined(this.options.constrainer.coordinates.y2)||(this.translateY_max=this.options.constrainer.coordinates.y2-(o.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0))}$html.addClass("dragging"),this.$draggable.addClass("dragging")}var r=this.initialXY.X+("y"===this.options.axis?0:i.deltaXY.X),a=this.initialXY.Y+("x"===this.options.axis?0:i.deltaXY.Y);(this.options.constrainer.$element||this.options.constrainer.coordinates)&&("y"!==this.options.constrainer.axis&&(r=e.clamp(e.isUndefined(this.translateX_min)?n:this.translateX_min-this.options.constrainer.tollerance.x,r,e.isUndefined(this.translateX_max)?n:this.translateX_max+this.options.constrainer.tollerance.x)),"x"!==this.options.constrainer.axis&&(a=e.clamp(e.isUndefined(this.translateY_min)?n:this.translateY_min-this.options.constrainer.tollerance.y,a,e.isUndefined(this.translateY_max)?n:this.translateY_max+this.options.constrainer.tollerance.y)));var h={X:this.options.modifiers.x(r),Y:this.options.modifiers.y(a)};this.$draggable.css("transform","translate3d("+(e.isBoolean(h.X)?h.X?r:this.initialXY.X:h.X)+"px,"+(e.isBoolean(h.Y)?h.Y?a:this.initialXY.Y:h.Y)+"px,0)"),this._trigger("move",e.merge(i,{initialXY:this.initialXY,modifiedXY:h,draggable:this.draggable,$draggable:this.$draggable}))}},_end:function(t,i){this.isDraggable&&(this.motion===!0&&($html.removeClass("dragging"),this.$draggable.removeClass("dragging"),this.options.revertable&&this.$draggable.css("transform","translate3d("+this.initialXY.X+"px,"+this.initialXY.Y+"px,0)")),this._trigger("end",e.merge(i,{initialXY:this.initialXY,draggable:this.draggable,
$draggable:this.$draggable,dragged:this.motion})))}}),t(function(){t(".draggable").draggable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.positionate=function(i){var s=e.merge({direction:!1,axis:!1,$anchor:!1,$pointer:!1,point:!1,ranks:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},callbacks:{positionated:e.noop}},i);this.removeClass("positionate-top positionate-bottom positionate-left positionate-right");var n=e.unique(e.union(s.direction?[s.direction]:[],s.axis?s.ranks[s.axis]:[],s.ranks.all)),o=$window.width(),r=$window.height(),a=$html.scrollTop(),h=$html.scrollLeft(),c=(this.offset(),this.outerWidth()),l=this.outerHeight(),d=s.$anchor?s.$anchor.offset():{top:s.point.y,left:s.point.x},u=s.$anchor?s.$anchor.outerWidth():0,p=s.$anchor?s.$anchor.outerHeight():0,_=e.map(n,function(t){switch(t){case"top":return d.top-a;case"bottom":return r-d.top-p+a;case"left":return d.left-h;case"right":return o-d.left-u+h}}),g=e.map(n,function(t,e){switch(t){case"top":case"bottom":return Math.min(l,_[e])*Math.min(o,c);case"left":case"right":return Math.min(c,_[e])*Math.min(r,l)}}),f=n[g.indexOf(e.max(g))];switch(f){case"top":case"bottom":var m={left:d.left+u/2-c/2,top:"top"===f?d.top-l:d.top+p};break;case"left":case"right":var m={top:d.top+p/2-l/2,left:"left"===f?d.left-c:d.left+u}}m.top=e.clamp(0,m.top,r-l),m.left=e.clamp(0,m.left,o-c);var v={coordinates:m,direction:f};if(this.css("transform","translate3d("+m.left+"px,"+m.top+"px,0)"),this.addClass("positionate-"+f),s.$anchor&&s.$pointer){var w=e.isFunction(s.$pointer)?s.$pointer(v):s.$pointer;if(w instanceof t){var b=w.css("transform"),$="none"!==b?b.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],y=w.position();switch(f){case"top":case"bottom":var k=w.width(),x=parseInt($[4],10)+(d.left+u/2-h-(m.left+y.left+k/2)),C=parseInt($[5],10);break;case"left":case"right":var Y=w.height(),x=parseInt($[4],10),C=parseInt($[5],10)+(d.top+p/2-a-(m.top+y.top+Y/2))}w.css("transform","translate3d("+x+"px,"+C+"px,0)")}}return s.callbacks.positionated(v),this}}(jQuery,_,window,document),function(t,e,i,s,n){var o={};t.widget("presto.dropdown",{options:{callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$dropdown=this.$element,this.$tips=this.$dropdown.find(".dropdown-tip"),this.$top_tip=this.$tips.filter(".top"),this.$right_tip=this.$tips.filter(".right"),this.$bottom_tip=this.$tips.filter(".bottom"),this.$left_tip=this.$tips.filter(".left"),this.$actionables=this.$dropdown.find(".actionable"),this.id=this.$dropdown.attr("id"),this.$triggers=t('.dropdown-trigger[data-dropdown="'+this.id+'"]'),this.hasTips=!this.$dropdown.hasClass("no-tip"),this.isAttached=this.$dropdown.hasClass("attached"),this.opened=!1},_events:function(){this._on(this.$triggers,"click",this.toggle),this._on(this.$actionables,"click",this.close)},_bind_window_resize_scroll:function(){this._on($window,"resize scroll",this._update)},_unbind_window_resize_scroll:function(){this._off($window,"resize scroll",this._update)},_bind_window_click:function(){this._on($window,"click",this._handler_window_click)},_unbind_window_click:function(){this._off($window,"click",this._handler_window_click)},_handler_window_click:function(e){var i=t(e.target).parents();if(-1===i.index(this.$dropdown)){for(var s=0,n=this.$triggers.length;n>s;s++)if(e.target===this.$triggers.get(s)||-1!==i.index(this.$triggers.get(s)))return;this.close()}},_positionate:function(){var e=t(o[this.id]),i=e.hasClass("no-tip")||!this.hasTips||this.isAttached,s=this;this.$dropdown.positionate({$anchor:e,$pointer:function(t){return i?void 0:s["$"+s._get_opposite_direction(t.direction)+"_tip"]},callbacks:{positionated:function(t){e.addClass("dropdown-trigger-"+t.direction)}}})},_get_opposite_direction:function(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},_update:function(){this.opened&&this._positionate()},toggle:function(t,e){this[this.opened&&o[this.id]===e?"close":"open"](t,e)},open:function(e,i){i&&(t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.opened&&o[this.id]!==i&&this.$dropdown.addClass("moving"),o[this.id]=i,t(i).addClass("active")),this._positionate(),this.$dropdown.addClass("active"),this.opened=!0,this._delay(this._bind_window_click),this._bind_window_resize_scroll(),this._trigger("open")},close:function(){t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.$dropdown.removeClass("active moving"),this.opened=!1,this._unbind_window_click(),this._unbind_window_resize_scroll(),this._trigger("close")}}),t(function(){t(".dropdown").dropdown()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.expander",{options:{selectors:{toggler:".expander-toggler",content:".container-content"},delay:{open:250,close:250},callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$expander=this.$element,this.$content=this.$expander.find(this.options.selectors.content),this.opened=!1},_init:function(){this.$expander.hasClass("opened")&&this.open()},_events:function(){this._on("click",this.options.selectors.toggler,this.toggle)},toggle:function(t){e.isBoolean(t)||(t=!this.opened),t!==this.opened&&(this.opened=t,this.$expander.toggleClass("opened",this.opened),this.$content[this.opened?"slideDown":"slideUp"](this.options.delay.close),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),t(function(){t(".expander").expander()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.flippable",{options:{selectors:{flipper:".flipper"},callbacks:{font:e.noop,back:e.noop,flipped:e.noop}},_variables:function(){this.$flippable=this.$element,this.$front=this.$flippable.find(".flippable-front"),this.$back=this.$flippable.find(".flippable-back"),this.isFlipped=this.$flippable.hasClass("flipped")},_events:function(){this._on("click",this.options.selectors.flipper,this.flip)},flip:function(){this.isFlipped=!this.isFlipped,this.$flippable.toggleClass("flipped",this.isFlipped),this._trigger(this.isFlipped?"front":"back"),this._trigger("flipped")}}),t(function(){t(".flippable-wrp").flippable()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=[];t.fn.formSync=function(){this.each(function(){var e=t(this),i=e.data("sync-group");if(-1===o.indexOf(i)){o.push(i);var s=t('form[data-sync-group="'+i+'"]'),n=s.find("input, textarea, select");n.each(function(){var e=t(this),i=e.attr("name"),n=e.is('[type="radio"], [type="checkbox"]'),o=n&&e.is('[type="radio"]'),r=e.is("input, textarea"),a=r?"input change":"change",h=e.parent("form"),c=s.not(h),l=c.find('[name="'+i+'"]');e.on(a,function(){var i=e.val(),s=!!e.prop("checked");l.each(function(){var e=t(this),r=e.val(),a=!!e.prop("checked");if(o){if(i!==r||s===a)return}else if(i===r&&s===a)return;n?e.prop("checked",s).trigger("change"):e.val(i).trigger("change")})})})}})},t(function(){t("form[data-sync-group]").formSync()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.loading=function(i,s){var n=e.merge({color:{wrapper:"inherit",spinner:"secondary"}},s);this.addClass("spinner-overlay-activable"),e.isUndefined(i)&&(i=!this.hasClass("spinner-overlay-active"));var o=this.children(".spinner-overlay");return 0===o.length?this.prepend('<div class="spinner-overlay '+n.color.wrapper+'"><div class="spinner-wrp"><div class="spinner '+n.color.spinner+'"><div class="circle-wrp left"><div class="circle"></div></div><div class="circle-wrp right"><div class="circle"></div></div></div></div></div>'):i&&(o.attr("class","spinner-overlay "+n.color.wrapper),o.find(".spinner").attr("class","spinner "+n.color.spinner)),t.reflow(),this.toggleClass("spinner-overlay-active",i),this}}(jQuery,_,window,document),function(t,e,i,s,n){var o=[];t.noty=function(i){var s={autoplay:!0};e.isString(i)?s.body=i:e.isPlainObject(i)&&e.merge(s,i),s.buttons&&(s.type="action");var n=new t.presto.noty(s);return s.autoplay&&n.open(),n},t.widget("presto.noty",{templates:{base:'<div class="noty container {%=o.type%} {%=o.color%} {%=o.css%}"><div class="container-content"><div class="infobar-wrp inset {%=o.color%}">{% if ( o.img ) include ( "presto.noty.img", o.imgÂ ); %}<div class="infobar-center">{% if ( o.title ) include ( "presto.noty.title", o.title ); %}{% if ( o.body ) include ( "presto.noty.body", o.body ); %}</div>{% if ( o.buttons.length === 1 ) include ( "presto.noty.single_button", o.buttons[0] ); %}</div>{% if ( o.buttons.length > 1 ) include ( "presto.noty.buttons", o.buttons ); %}</div></div>',img:'<div class="noty-img infobar-left"><img src="{%=o%}" class="smooth" /></div>',title:'<p class="infobar-title">{%#o%}</p>',body:"{%#o%}",single_button:'<div class="infobar-right">{% include ( "presto.noty.button", o ); %}</div>',buttons:'<div class="noty-buttons multiple-wrp centered"><div class="multiple">{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.noty.button", o[i] ); %}{% } %}</div></div>',button:'<div class="label-wrp button-wrp"><div class="label actionable {%=(o.color || "white")%} {%=(o.size || "small")%} {%=(o.css || "")%}"><div class="label-center">{%#(o.text || "")%}</div></div></div>'},options:{anchor:{y:"bottom",x:"left"},delay:{remove:200},title:!1,body:!1,img:!1,buttons:[],type:"alert",color:"black",css:"",ttl:3500,callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$noty=this.$element,this.timer=!1,this.isOpen=!1,this.neverOpened=!0},_init_click:function(){this.options.buttons.length||this._on("click",this.close)},_init_buttons_click:function(){if(this.options.buttons.length){var t=this.$noty.find(".button-wrp .label"),i=this;e.each(this.options.buttons,function(e,s){var n=t.eq(s);n.on("click",function(t){e.onClick&&e.onClick.call(this,t),i.close()})})}},_init_timer:function(){0===this.options.buttons.length&&"forever"!==this.options.ttl&&(this.timer=t.timer(this.close.bind(this),this.options.ttl,!0),o.push(this.timer))},_init_hover:function(){this.$noty.hover(function(){e.each(o,function(t){t.pause()})},function(){e.each(o,function(t){t.remaining(Math.max(1e3,t.remaining()||0)),t.play()})})},open:function(){this.isOpen||(t(".noty-queues."+this.options.anchor.y+" .noty-queue."+this.options.anchor.x).first().append(this.$noty),t.reflow(),this.$noty.addClass("active"),this.neverOpened&&(this._init_click(),this._init_buttons_click(),this._init_hover(),this.neverOpened=!1),this._init_timer(),this._trigger("open"),this.isOpen=!0)},close:function(){this.timer&&(e.pull(o,this.timer),this.timer.stop()),this.$noty.removeClass("active"),this._delay(function(){this.$noty.remove()},this.options.delay.remove),this._trigger("close"),this.isOpen=!1}}),t(function(){$body.append('<div class="noty-queues top"><div class="noty-queue expanded"></div><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div></div><div class="noty-queues bottom"><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div><div class="noty-queue expanded"></div></div>')})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.formAjax=function(){this.on("submit",function(s){var n=t(this);s.preventDefault(),t.ajax({cache:!1,contentType:"multipart/form-data",data:new FormData(this),processData:!1,type:n.attr("method")||"POST",url:n.attr("action"),beforeSend:function(){n.loading(!0)},error:function(i){e.isString(i)?"<"===i[0]?(t.noty("There was an error, please try again or report the problem"),$body.append(i)):t.noty(i):t.noty("There was an error, please try again or report the problem")},success:function(s){e.isString(s)?"refresh"===s?(t.noty("Done! Refreshing the page..."),location.reload()):/^((\S*)?:\/\/)?\/?\S*$/.test(s)?s===i.location.href||s===i.location.pathname?(t.noty("Done! Refreshing the page..."),location.reload()):(t.noty("Done! Redirecting..."),location.assign(s)):"<"===s[0]?(t.noty("Done! A page refresh may be needed to see the changes"),$body.append(s)):t.noty(s):t.noty("Done! A page refresh may be needed to see the changes")},complete:function(){n.loading(!1)}})})},t(function(){t("form.ajax").formAjax()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.infobar",{options:{selectors:{closer:".infobar-closer"},delay:{close:250},callbacks:{close:e.noop}},_variables:function(){this.$infobar=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},close:function(){this.$infobar.addClass("remove").slideUp(this.options.delay.close),this._delay(function(){this.$infobar.remove(),this._trigger("close")},this.options.delay.close)}}),t(function(){t(".infobar-wrp").infobar()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.modal",{options:{selectors:{closer:".modal-closer"},callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$modal=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},_handler_esc_keydown:function(e){e.keyCode===t.ui.keyCode.ESCAPE&&this.close()},open:function(){this.$modal.addClass("active"),this._on($document,"keydown",this._handler_esc_keydown),this._trigger("open")},close:function(){this.$modal.removeClass("active"),this._off($document,"keydown",this._handler_esc_keydown),this._trigger("close")}}),t(function(){t(".modal").modal(),t("[data-modal-trigger]").on("click",function(){t("#"+t(this).data("modal-trigger")).modal("instance").open()})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.navbar",{options:{callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$navbar=this.$element,this.$wrp=this.$navbar.parent(),this.id=this.$navbar.attr("id"),this.$closers=this.$wrp.find(".navbar-closer"),this.$triggers=t('.navbar-trigger[data-navbar="'+this.id+'"]'),this.opened=this.$wrp.hasClass("opened")},_events:function(){this._on(this.$closers,"click",this.close),this._on(this.$triggers,"click",this.open)},toggle:function(t){e.isUndefined(t)&&(t=!this.opened),t!==this.opened&&(this.opened=t,this.$wrp.toggleClass("opened",this.opened),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),t(function(){t(".navbar").navbar()})}(jQuery,_,window,document),function(t,e,i,s,n){t.notification=function(n){var o=e.merge({title:!1,body:!1,img:!1},n);!s.hasFocus()&&i.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(e){if("granted"===e){new Notification(o.title,{body:o.body,icon:o.img})}else t.noty(o)}):t.noty(o)}}(jQuery,_,window,document),function(t,e,i,s,n){t.oneTimeAction=function(t,i){var s={container:"ota",expiry:1/0,name:!1,action:!1};if(e.isString(t)?(s.name=t,e.isFunction(i)&&(s.action=i)):e.isPlainObject(t)&&e.merge(s,t),s.name){var i=new r(s.container,s.name);return s.action&&!i.get()&&(s.action(),i.set()),i}return s.container?new o(s.container,s.expiry):void 0};var o=function(e,i){this.name=e,this.expiry=i,this.actionsStr=t.cookie.get(this.name)||"",this.actions=this.actionsStr.length>0?this.actionsStr.split("|"):[]};o.prototype={get:function(t){return e.contains(this.actions,t)},set:function(t){this.get(t)||(this.actions.push(t),this.update())},update:function(){this.actionsStr=this.actions.join("|"),t.cookie.set(this.name,this.actionsStr,this.expiry)},reset:function(i){i?(e.pull(this.actions,i),this.update()):t.cookie.remove(this.name)}};var r=function(t,e,i){this.container=new o(t),this.name=e};r.prototype={get:function(){return this.container.get(this.name)},set:function(){this.container.set(this.name)},reset:function(){this.container.reset(this.name)}}}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(t,i){if(e.isUndefined(i))var s=e.isNumber(t)?{percentages:[{value:t}]}:t.percentages?t:{percentages:[t]};else for(var s={percentages:Array(arguments.length)},n=0,o=arguments.length;o>n;n++)s.percentages[n]=e.isNumber(arguments[n])?{value:arguments[n]}:arguments[n];return s};t.progressBar=function(e,i){return e=o.apply(null,arguments),new t.presto.progressBar(e)},t.widget("presto.progressBar",{templates:{base:'<div class="progressBar {%=(o.striped ? "striped" : "")%} {%=o.color%} {%=o.size%} {%=o.css%}"><div class="progressBar-unhighlighted">{% include ( "presto.progressBar.percentages" + ( o.labeled ? "_labeled" : "" ), o.percentages ); %}</div><div class="progressBar-stripes"></div></div>',percentages:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage", o[i] ); %}{% } %}',percentages_labeled:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage_labeled", o[i] ); %}{% } %}',percentage:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}"></div>',percentage_labeled:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}">{% include ( "presto.progressBar.label", {} ); %}</div>',label:'<div class="progressBar-label"></div>'},options:{percentages:[],color:"",size:"",css:"",striped:!1,labeled:!1,decimals:0,callbacks:{update:e.noop,full:e.noop}},_variables:function(){this.$progressBar=this.$element,this.$highlighteds=this.$progressBar.find(".progressBar-highlighted"),this.$stripes=this.$progressBar.find(".progressBar-stripes")},_init:function(){"element"!==this.initializationType&&this._update()},_update:function(){for(var t=0,i=this.options.percentages.length;i>t;t++){var s=this.$highlighteds.eq(t);if(s.width(this.options.percentages[t].value+"%"),this.options.labeled){var n=s.find(".progressBar-label");n.html(+this.options.percentages[t].value.toFixed(this.options.decimals))}}var o=e.clamp(0,e.sum(this.get().slice(0,this.$highlighteds.length)),100);this.options.striped&&this.$stripes.width(o+"%"),100===o&&this._trigger("full")},get:function(){return e.map(this.options.percentages,function(t){return t.value})},set:function(t,i){t=o.apply(null,arguments),e.merge(this.options,t),this._update(),this._trigger("update")}}),t(function(){t(".progressBar").each(function(){var e=t(this),i={percentages:[],striped:e.hasClass("striped"),labeled:!!e.find(".progressBar-label").length};e.find(".progressBar-highlighted").each(function(){i.percentages.push({value:parseFloat(this.style.width)})}),e.progressBar(i)})})}(jQuery,_,window,document),self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function(t){var i=e.util.type(t);switch(i){case"Object":var s={};for(var n in t)t.hasOwnProperty(n)&&(s[n]=e.util.clone(t[n]));return s;case"Array":return t.slice()}return t}},languages:{extend:function(t,i){var s=e.util.clone(e.languages[t]);for(var n in i)s[n]=i[n];return s},insertBefore:function(t,i,s,n){n=n||e.languages;var o=n[t];if(2==arguments.length){s=arguments[1];for(var r in s)s.hasOwnProperty(r)&&(o[r]=s[r]);return o}var a={};for(var h in o)if(o.hasOwnProperty(h)){if(h==i)for(var r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);a[h]=o[h]}return e.languages.DFS(e.languages,function(e,i){i===n[t]&&e!=t&&(this[e]=a)}),n[t]=a},DFS:function(t,i,s){for(var n in t)t.hasOwnProperty(n)&&(i.call(t,n,t[n],s||n),"Object"===e.util.type(t[n])?e.languages.DFS(t[n],i):"Array"===e.util.type(t[n])&&e.languages.DFS(t[n],i,n))}},highlightAll:function(t,i){for(var s,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;s=n[o++];)e.highlightElement(s,t===!0,i)},highlightElement:function(s,n,o){for(var r,a,h=s;h&&!t.test(h.className);)h=h.parentNode;if(h&&(r=(h.className.match(t)||[,""])[1],a=e.languages[r]),a){s.className=s.className.replace(t,"").replace(/\s+/g," ")+" language-"+r,h=s.parentNode,/pre/i.test(h.nodeName)&&(h.className=h.className.replace(t,"").replace(/\s+/g," ")+" language-"+r);var c=s.textContent;if(c){var l={element:s,language:r,grammar:a,code:c};if(e.hooks.run("before-highlight",l),n&&self.Worker){var d=new Worker(e.filename);d.onmessage=function(t){l.highlightedCode=i.stringify(JSON.parse(t.data),r),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(l.element),e.hooks.run("after-highlight",l)},d.postMessage(JSON.stringify({language:l.language,code:l.code}))}else l.highlightedCode=e.highlight(l.code,l.grammar,l.language),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(s),e.hooks.run("after-highlight",l)}}},highlight:function(t,s,n){var o=e.tokenize(t,s);return i.stringify(e.util.encode(o),n)},tokenize:function(t,i,s){var n=e.Token,o=[t],r=i.rest;if(r){for(var a in r)i[a]=r[a];delete i.rest}t:for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var h=i[a];h="Array"===e.util.type(h)?h:[h];for(var c=0;c<h.length;++c){var l=h[c],d=l.inside,u=!!l.lookbehind,p=0,_=l.alias;l=l.pattern||l;for(var g=0;g<o.length;g++){var f=o[g];if(o.length>t.length)break t;if(!(f instanceof n)){l.lastIndex=0;var m=l.exec(f);if(m){u&&(p=m[1].length);var v=m.index-1+p,m=m[0].slice(p),w=m.length,b=v+w,$=f.slice(0,v+1),y=f.slice(b+1),k=[g,1];$&&k.push($);var x=new n(a,d?e.tokenize(m,d):m,_);k.push(x),y&&k.push(y),Array.prototype.splice.apply(o,k)}}}}}return o},hooks:{all:{},add:function(t,i){var s=e.hooks.all;s[t]=s[t]||[],s[t].push(i)},run:function(t,i){var s=e.hooks.all[t];if(s&&s.length)for(var n,o=0;n=s[o++];)n(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,s,n){if("string"==typeof t)return t;if("[object Array]"==Object.prototype.toString.call(t))return t.map(function(e){return i.stringify(e,s,t)}).join("");var o={type:t.type,content:i.stringify(t.content,s,n),tag:"span",classes:["token",t.type],attributes:{},language:s,parent:n};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var r="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,r)}e.hooks.run("wrap",o);var a="";for(var h in o.attributes)a+=h+'="'+(o.attributes[h]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+a+">"+o.content+"</"+o.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(t){var i=JSON.parse(t.data),s=i.language,n=i.code;self.postMessage(JSON.stringify(e.util.encode(e.tokenize(n,e.languages[s])))),self.close()},!1),self.Prism):self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(e.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),function(t,e,i,s,n){t.widget("presto.radio",{options:{callbacks:{checked:e.noop}},_variables:function(){this.$radio=this.$element,this.$input=this.$radio.find("input"),this.name=this.$input.attr("name"),this.$container=this.$radio.parents("form").first(),0===this.$container.length&&(this.$container=$document),this.$other_radios=this.$container.find('input[name="'+this.name+'"]').parent(".radio").not(this.$radio)},_init:function(){var t=this.$radio.hasClass("checked");this.get()?t||this.$radio.addClass("checked"):t&&this.$radio.removeClass("checked")},_events:function(){this._on("click",function(){this.check()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var t=this.get();t&&this.$other_radios.removeClass("checked"),this.$radio.toggleClass("checked",t),this._trigger(t?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},check:function(){this.get()||(this.$input.prop("checked",!0).trigger("change"),this._trigger("checked"))}}),t(function(){t(".radio").radio()})}(jQuery,_,window,document),function(t,e,i,s,n){var o={delay:{show:350,hide:400},show:function(i,s){var n=t('<div class="ripple-circle"></div>').appendTo(s),r=s.offset(),a=t.eventXY(i),h=e.now();n.css({top:a.Y-r.top,left:a.X-r.left}).addClass("ripple-circle-show"),s.on("mouseup mouseleave",function(){o.hide(n,h)})},hide:function(t,i){var s=Math.max(0,o.delay.show+i-e.now());setTimeout(function(){t.addClass("ripple-circle-hide"),setTimeout(function(){t.remove()},o.delay.hide)},s)}};t(function(){$body.on("mousedown",".ripple",function(e){e.button!==t.ui.mouseButton.RIGHT&&o.show(e,t(this))})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.select",{templates:{base:'<div id="dropdown-{%=o.id%}" class="dropdown select-dropdown attached"><div class="container"><div class="container-content"><div class="multiple-wrp vertical stretched joined"><div class="multiple">{% for ( var i = 0, l = o.options.length; i < l; i++ ) { %}{% include ( "presto.select." + ( o.options[i].value ? "option" : "optgroup" ), o.options[i] ); %}{% } %}</div></div></div></div></div>',optgroup:'<div class="divider-wrp block"><div class="divider">{%=o.prop%}</div></div>',option:'<div class="label-wrp button-wrp" data-value="{%=o.prop%}"><div class="label actionable sharp"><div class="label-center">{%=o.value%}</div></div></div>'},options:{callbacks:{open:e.noop,close:e.noop,change:e.noop}},_variables:function(){this.$trigger=this.$element,this.$select=this.$trigger.find("select"),this.$options=this.$select.find("option"),this.$select_label=this.$trigger.find(".select-label"),this.$valueholder=this.$trigger.find(".valueholder"),this.id=this.$trigger.data("select"),0===this.$valueholder.length&&(this.$valueholder=this.$select_label),this.select_options=[],this.$dropdown=!1,this.$dropdown_container=!1,this.$buttons=!1},_init:function(){this._update_valueholder(),t.browser.isMobile||(this.$select.addClass("hidden"),this._init_select_options(),this._init_dropdown())},_events:function(){this._on(this.$select,"change",function(){this.update(),this._trigger("change")}),t.browser.isMobile||this._on(this.$buttons,"click",this._handler_button_click)},_handler_button_click:function(e,i){this.$select.val(t(i).data("value")).trigger("change")},_init_select_options:function(){for(var t,e,i=0,s=this.$options.length;s>i;i++){var n=this.$options.eq(i),o=n.parent();o.is("optgroup")&&(e=o.attr("label"),e!==t&&(t=e,this.select_options.push({prop:e}))),this.select_options.push({value:n.html(),prop:n.attr("value")})}},_init_dropdown:function(){var e=this._tmpl("base",{id:this.id,options:this.select_options});$body.append(e),this.$dropdown=t("#dropdown-"+this.id),this.$dropdown_container=this.$dropdown.find(".container"),this.$buttons=this.$dropdown.find(".button-wrp"),this.$trigger.addClass("dropdown-trigger").attr("data-dropdown","dropdown-"+this.id);var i=this;this.$dropdown.dropdown({callbacks:{open:function(){i._set_dropdown_width.bind(i)(),i._trigger("open")},close:i.options.callbacks.close}}),this._update_dropdown()},_update_valueholder:function(){var t=this.$options.filter('[value="'+this.$select.val()+'"]');this.$valueholder.html(t.html())},_update_dropdown:function(){this.$buttons.removeClass("active"),this.$buttons.filter('[data-value="'+this.$select.val()+'"]').addClass("active")},_set_dropdown_width:function(){this.$dropdown_container.css("min-width",this.$trigger.width())},select:function(t){this.$buttons.filter('[data-value="'+t+'"]').click()},update:function(){t.browser.isMobile||this._update_dropdown(),this._update_valueholder()}}),t(function(){t(".select-trigger").select()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(){s.selection?s.selection.empty():i.getSelection&&i.getSelection().removeAllRanges()};t.widget("presto.selectable",{options:{selector:"tbody tr:not(.empty)",selected_class:"selected",callbacks:{select:e.noop}},_variables:function(){this.$rows=this._get_rows(),this.$start_row=!1,this.$end_row=!1},_init:function(){this._reset_prevs()},_events:function(){this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on("mousedown",this.options.selector,this._handler_mousedown),this._on("change sort",this._handler_change),this._on("mousedown mouseup",this._handler_clear_selection)},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown);
},_handler_keys_keydown:function(e){(t.browser.isMac&&e.metaKey||!t.browser.isMac&&e.ctrlKey)&&(65===e.keyCode?(e.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class,!e.shiftKey),this._trigger("select")):73===e.keyCode&&(e.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class),this._trigger("select")))},_handler_mousedown:function(e){0===e.button&&(this.$start_row=t(e.currentTarget),this._on($document,"mousemove",this._handler_mousemove),this._on("mouseup",this.options.selector,this._handler_mouseup))},_handler_mousemove:function(e){t.browser.isMac&&!e.metaKey||!t.browser.isMac&&!e.ctrlKey||(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),this._reset_prevs(),this.$prev_row=this.$start_row,this.$start_row.toggleClass(this.options.selected_class),$html.addClass("dragging"),this._on("mouseenter",this.options.selector,this._handler_drag_mouseenter),this._on($document,"mouseup",this._handler_drag_mouseup),this._trigger("select"))},_handler_drag_mouseenter:function(e){this.$end_row=t(e.currentTarget);var i=this.$rows.index(this.$start_row),s=this.$rows.index(this.$end_row),n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$rows.slice(n,o);this.$prev_dragged?(r.not(this.$prev_dragged).toggleClass(this.options.selected_class),this.$prev_dragged.not(r).toggleClass(this.options.selected_class)):r.toggleClass(this.options.selected_class),this.$prev_dragged=r,this._trigger("select")},_handler_drag_mouseup:function(){this._off("mouseenter",this._handler_drag_mouseenter),this._off($document,"mouseup",this._handler_drag_mouseup),this.$prev_dragged=!1,$html.removeClass("dragging")},_handler_mouseup:function(e){if(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),e.shiftKey){var i=this.$rows.index(this.$prev_row),s=this.$prev_row?this.$rows.index(this.$start_row):0,n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$rows.slice(n,o);this.$prev_shifted?(r.not(this.$prev_shifted).toggleClass(this.options.selected_class),this.$prev_shifted.not(r).toggleClass(this.options.selected_class)):r.toggleClass(this.options.selected_class),this.$prev_shifted=r}else t.browser.isMac&&e.metaKey||!t.browser.isMac&&e.ctrlKey||t.browser.isMobile?(this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row):(this.$rows.not(this.$start_row).removeClass(this.options.selected_class),this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row);this._trigger("select")},_handler_change:function(){this.$rows=this._get_rows()},_handler_clear_selection:function(){t.reflow(),o()},_reset_prevs:function(){this.$prev_row=!1,this.$prev_shifted=!1,this.$prev_dragged=!1},_get_rows:function(){return this.$element.find(this.options.selector)}}),t(function(){t("table.selectable").selectable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.slider",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increased:e.noop,decreased:e.noop}},_variables:function(){this.$slider=this.$element,this.$min=this.$slider.find(".slider-min"),this.$max=this.$slider.find(".slider-max"),this.$input=this.$slider.find("input"),this.$bar_wrp=this.$slider.find(".slider-bar-wrp"),this.$unhighlighted=this.$slider.find(".slider-unhighlighted"),this.$highlighted=this.$slider.find(".slider-highlighted"),this.$handler_wrp=this.$slider.find(".slider-handler-wrp"),this.$label=this.$handler_wrp.find(".slider-label"),this.steps_nr=(this.options.max-this.options.min)/this.options.step,this._update_variables()},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on($window,"resize",this._handler_resize),this._on(this.$slider,"mouseenter",this._handler_arrows_in),this._on(this.$slider,"mouseleave",this._handler_arrows_out),this._on(this.$min,"click",this.decrease),this._on(this.$max,"click",this.increase),this.$handler_wrp.draggable({draggable:this._draggable.bind(this),axis:"x",constrainer:{$element:this.$bar_wrp,constrain_center:!0,axis:"x"},modifiers:{x:this.modifier_x.bind(this)},callbacks:{beforestart:this._handler_drag_beforestart.bind(this),move:this._handler_drag_move.bind(this),end:this._handler_drag_end.bind(this)}}),this._on(this.$unhighlighted,"click",this._handler_click)},_round_value:function(t){return Number(Number(t).toFixed(this.options.decimals))},_update_positions:function(){var t=(this.options.value-this.options.min)/this.options.step*100/this.steps_nr;this.$handler_wrp.css({left:t+"%",transform:"none"}),this.$highlighted.css({right:100-t+"%",transform:"none"})},_update_label:function(t){this.$label.html(e.isUndefined(t)?this.options.value:t)},_update_variables:function(){this.unhighlighted_width=this.$unhighlighted.width(),this.unhighlighted_offset=this.$unhighlighted.offset(),this.step_width=this.unhighlighted_width/this.steps_nr},_handler_change:function(){this.set(this.$input.val())},_handler_resize:function(){this._update_variables()},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.DOWN?this.decrease():(e.keyCode===t.ui.keyCode.RIGHT||e.keyCode===t.ui.keyCode.UP)&&this.increase()},_draggable:function(){return!this.options.disabled},modifier_x:function(t){var e=t%this.step_width;return e>=this.step_width/2?t-e+this.step_width:t-e},_handler_drag_beforestart:function(){var t=parseFloat(this.$handler_wrp.css("left"),10);this.$handler_wrp.css({left:0,transform:"translate3d("+t+"px,0,0)"}),this.$highlighted.css({right:"100%",transform:"translate3d("+t+"px,0,0)"})},_handler_drag_move:function(t){this.$highlighted.css("transform","translate3d("+t.modifiedXY.X+"px,0,0)"),this._update_label(this._round_value(this.options.min+t.modifiedXY.X/this.step_width*this.options.step))},_handler_drag_end:function(t){var e=this.$handler_wrp.css("transform"),i="none"!==e?e.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],s=this.set(this.options.min+parseFloat(i[4],10)/this.step_width*this.options.step);s||this._update_positions()},_handler_click:function(e){if(e.target!==this.$handler_wrp.get(0)){var i=t.eventXY(e),s=this.modifier_x(i.X-this.unhighlighted_offset.left);this.set(this.options.min+s/this.step_width*this.options.step)}},get:function(){return this.options.value},set:function(t){if(t=e.clamp(this.options.min,this._round_value(t),this.options.max),t!==this.options.value){var i=t>this.options.value?"increased":"decreased";return this.options.value=t,this._update_positions(),this._update_label(),this.$input.val(t).trigger("change"),this._trigger(i),!0}return!1},increase:function(){return this.set(this.options.value+this.options.step)},decrease:function(){return this.set(this.options.value-this.options.step)}}),t(function(){t(".slider").each(function(){var e=t(this),i={min:Number(e.find(".slider-min").data("min")||0),max:Number(e.find(".slider-max").data("max")||100),value:Number(e.find("input").val()||0),step:Number(e.data("step")||1),decimals:Number(e.data("decimals")||0)};e.slider(i)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.sortable",{options:{sorters:{"int":function(t,e){return parseInt(t,10)-parseInt(e,10)},"float":function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}},callbacks:{sort:e.noop}},_variables:function(){this.$table=this.$element,this.$headers=this.$table.find("thead th"),this.$sortables=this.$headers.filter("[data-sort]"),this.$tbody=this.$table.find("tbody"),this.table=this.element,this.tbody=this.$tbody.get(0),this.sort_datas={},this.current_index=!1,this.current_direction=!1},_init:function(){var t=this.$headers.filter(".asc, .desc").first();t.length&&this.sort(this.$headers.index(t),t.hasClass("asc")?"asc":"desc")},_events:function(){this._on(!0,"change",this._handler_change),this._on(this.$sortables,"click",this._handler_click)},_handler_change:function(){this.current_index&&(this.sort_datas={},this.sort(this.current_index,this.current_direction))},_handler_click:function(t){var e=this.$headers.index(t.target),i=this.current_index===e&&"asc"===this.current_direction?"desc":"asc";this.sort(e,i)},sort:function(t,i){var s=this.$headers.eq(t);if(s.length){var n=s.data("sort");if(n){var o=this.options.sorters[n];if(o){if(i=i&&"desc"===i.toLowerCase()?"desc":"asc",this.current_index!==!1&&this.$sortables.eq(this.current_index).removeClass(this.current_direction),s.addClass(i),e.isUndefined(this.sort_datas[t])){var r=this.$tbody.find("tr:not(.empty)");this.sort_datas[t]=Array(r.length);for(var a=0,h=r.length;h>a;a++){var c=r.eq(a).find("td").eq(t),l=c.data("sort-value")||c.text();this.sort_datas[t][a]=[r.get(a),l]}}this.sort_datas[t].sort(function(t,e){return o(t[1],e[1])}),"desc"===i&&this.sort_datas[t].reverse(),this.table.removeChild(this.tbody);for(var a=0,h=this.sort_datas[t].length;h>a;a++)this.tbody.appendChild(this.sort_datas[t][a][0]);this.table.appendChild(this.tbody),this.current_index=t,this.current_direction=i,this._trigger("sort",{index:this.current_index,direction:this.current_direction})}}}}}),t(function(){t("table.sortable").sortable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.stepper",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increase:e.noop,decrease:e.noop}},_variables:function(){this.$stepper=this.$element,this.$input=this.$stepper.find("input"),this.$decreaser=this.$stepper.find(".stepper-decreaser"),this.$increaser=this.$stepper.find(".stepper-increaser")},_events:function(){this._on(!0,this.$input,"input change",this._handler_input_change),this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$decreaser,"click",this.decrease),this._on(this.$increaser,"click",this.increase)},_round_value:function(t){return Number(Number(t).toFixed(this.options.decimals))},_handler_input_change:function(){this.set_value(this.$input.val())},_handler_arrows_in:function(t){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(t){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.DOWN?this.decrease():(e.keyCode===t.ui.keyCode.RIGHT||e.keyCode===t.ui.keyCode.UP)&&this.increase()},set_value:function(t){if(t=this._round_value(t),t!==this.options.value||0===this.$input.val().length){var i=e.clamp(this.options.min,t,this.options.max);this.options.value=i,this.$input.val(i).trigger("change"),this.$decreaser.toggleClass("disabled",i===this.options.min),this.$increaser.toggleClass("disabled",i===this.options.max),this._trigger(i>this.options.value?"increase":"decrease")}},increase:function(){this.navigate(this.options.step)},decrease:function(){this.navigate(-this.options.step)},navigate:function(t){var e=this.options.value+t;this.set_value(e)}}),t(function(){t(".stepper").each(function(){var e=t(this),i=e.find("input"),s={min:Number(e.data("min")||0),max:Number(e.data("max")||100),value:Number(i.val()||0),step:Number(e.data("step")||1),decimals:Number(e.data("decimals")||0)};e.stepper(s)})})}(jQuery,_,window,document),function(t,e,i,s){t.widget("presto.switch",{options:{colors:{on:"secondary",off:"gray"},callbacks:{checked:_.noop,unchecked:_.noop}},_variables:function(){this.$switch=this.$element,this.$input=this.$switch.find("input"),this.$bar_wrp=this.$switch.find(".switch-bar-wrp"),this.$bar=this.$switch.find(".switch-bar"),this.$handler=this.$switch.find(".switch-handler"),this.$icon=this.$handler.find(".icon"),this.checked=this.$input.prop("checked"),this.dragging=!1},_init:function(){this._set_check(this.checked,!0)},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on(this.$bar,"click",this._handler_click),this.$handler.draggable({axis:"x",constrainer:{$element:this.$bar_wrp},callbacks:{end:this._handler_drag_end.bind(this)}})},_handler_change:function(){var t=this.$input.prop("checked");this.checked!==t&&(this.checked=t,this._set_check(this.checked,!0))},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown)},_handler_keys_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT?this.uncheck():e.keyCode===t.ui.keyCode.RIGHT?this.check():e.keyCode===t.ui.keyCode.SPACE&&this.toggle()},_handler_click:function(){return this.dragging?void(this.dragging=!1):void this.toggle()},_handler_drag_end:function(t){if(t.dragged){this.dragging=!0;var e=this.$handler.offset().left-this.$bar_wrp.offset().left+this.$handler.width()/2>=this.$bar_wrp.width()/2;this.checked=e?!0:!1,this._set_check(this.checked,!0)}},_set_check:function(t,e){(t!==this.$input.prop("checked")||e)&&(this.$switch.toggleClass("checked",t),this.$handler.css("transform","translate3d("+(t?"1.73333em":"0")+",0,0)"),this.$bar.toggleClass(this.options.colors.on,t),this.$handler.toggleClass(this.options.colors.on,t),this.$bar.toggleClass(this.options.colors.off,!t),this.$handler.toggleClass(this.options.colors.off,!t),this.$input.prop("checked",t).trigger("change"),this._trigger(t?"checked":"unchecked"))},check:function(){this._set_check(!0)},uncheck:function(){this._set_check(!1)},toggle:function(){this.checked=!this.checked,this._set_check(this.checked)}}),t(function(){t(".switch").each(function(){var e=t(this),i={colors:{on:e.data("color-on")||"secondary",off:e.data("color-off")||"gray"}};e["switch"](i)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tableHelper",{options:{callbacks:{add:e.noop,update:e.noop,remove:e.noop,clear:e.noop}},_variables:function(){this.$table=this.$element,this.$thead=this.$table.find("thead"),this.$tfoot=this.$table.find("tfoot"),this.$tbody=this.$table.find("tbody"),this.$headers=this.$thead.find("th"),this.$empty_row=this.$tbody.find("tr.empty"),this.columns_nr=this.$headers.length},_init:function(){this._check_empty()},_check_empty:function(){this.$empty_row.toggleClass("hidden",this.$tbody.find("tr:not(.empty)").length>0)},_get_row_id:function(t){return"rid_"+this.uuid+"_"+t},add:function(i){var s=e.tail(arguments);if(s.length){var n=this.$tbody.find("td.fillable");if(n.length){var o=e.slice(s,0,n.length);s=e.slice(s,o.length-1,s.length);for(var r=0,a=o.length;a>r;r++)n.eq(r).html(o[r]).removeClass("fillable")}if(i&&t("."+this._get_row_id(i)).length)return t.noty("A table cannot contain 2 rows with the same ID"),this;for(var h=e.chunk(s,this.columns_nr),c=0,l=h.length;l>c;c++){for(var d=h[c],u="<tr "+(i?'class="'+this._get_row_id(i)+'"':"")+">",r=0,a=d.length;a>r;r++)u+="<td>"+(d[r]||"")+"</td>";for(var r=d.length,a=this.columns_nr;a>r;r++)u+='<td class="fillable"></td>';u+="</tr>",this.$tbody.append(u)}this._check_empty(),this.$table.trigger("change"),this._trigger("add")}return this},update:function(i){var s=e.tail(arguments),n=t("."+this._get_row_id(i));if(s.length&&n.length){var o=n.find("td");e.each(s,function(t,i){e.isString(t)&&o.eq(i).html(t)}),this.$table.trigger("change"),this._trigger("update")}return this},remove:function(e){var i=t("."+this._get_row_id(e));return i.length&&(i.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("remove")),this},clear:function(){var t=this.$tbody.find("tr:not(.empty)");return t.length&&(t.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("clear")),this}}),t(function(){t("table").tableHelper()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tabs",{options:{selectors:{buttons_wrp:".tabs-buttons",buttons:".button-wrp > .label",button_active_class:"active",indicator:".tabs-buttons-indicator",containers_wrp:".tabs-containers",containers:"> .container",container_active_class:"active"},indicator_delay:40,callbacks:{select:e.noop}},_variables:function(){this.$tabs=this.$element,this.isVertical=this.$tabs.hasClass("vertical"),this.$tabs_buttons=this.$tabs.find(this.options.selectors.buttons_wrp),this.$buttons=this.$tabs_buttons.find(this.options.selectors.buttons),this.$indicator=this.$tabs.find(this.options.selectors.indicator),this.$tabs_containers=this.$tabs.find(this.options.selectors.containers_wrp),this.$containers=this.$tabs_containers.find(this.options.selectors.containers);var t=this.$buttons.filter("."+this.options.selectors.button_active_class).first();t=t.length>0?t:this.$buttons.first(),this.prev_index=0,this.current_index=this.$buttons.index(t)},_init:function(){this.select(this.current_index,!0)},_events:function(){this._on(this.$tabs_buttons,"click",this.options.selectors.buttons,this._hander_button_click),this._on($window,"resize",this._positionate_indicator)},_hander_button_click:function(e,i){var s=this.$buttons.index(t(i));this.select(s)},_positionate_indicator:function(){var t=this.$buttons.filter("."+this.options.selectors.button_active_class),e=t.position();if(this.isVertical){var i=this.$tabs_buttons.height();this._delay(function(){var s=e.top+(0===this.$buttons.index(t)?1:0);this.$indicator.css("top",100*s/i+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var s=i-e.top-t.height()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("bottom",100*s/i+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}else{var s=this.$tabs_buttons.width();this._delay(function(){var i=e.left+(0===this.$buttons.index(t)?1:0);this.$indicator.css("left",100*i/s+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var i=s-e.left-t.width()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("right",100*i/s+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}},select:function(t,e){(this.current_index!==t||e)&&(this.$buttons.eq(this.current_index).removeClass(this.options.selectors.button_active_class),this.$buttons.eq(t).addClass(this.options.selectors.button_active_class),this.$containers.eq(this.current_index).removeClass(this.options.selectors.container_active_class),this.$containers.eq(t).addClass(this.options.selectors.container_active_class),this.current_index!==t&&(this.prev_index=this.current_index,this.current_index=t),this._positionate_indicator())}}),t(function(){t(".tabs").tabs()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tagbox",{templates:{tag:'<div class="multiple-wrp joined tagbox-tag" data-tag-value="{%=o.str%}"><div class="multiple"><div class="label-wrp"><div class="label compact {%=(o.color ? o.color : "")%} {%=(o.size ? o.size : "")%} {%=(o.css ? o.css : "")%}"><div class="label-center">{%=o.str%}<div class="icon icon-navigation-close right tagbox-tag-remover"></div></div></div></div></div></div>'},options:{tags:{init:"",str:"",arr:[]},tag:{min_length:3,color:"",size:"medium",css:"outlined"},characters:{forbidden:["<",">",";","`"],separator:",",inserters:[t.ui.keyCode.ENTER,t.ui.keyCode.TAB]},sort:!1,escape:!0,deburr:!1,callbacks:{update:e.noop,add:e.noop,remove:e.noop}},_variables:function(){this.$tagbox=this.$element;var t=this.$tagbox.find("input");this.$input=t.eq(0),this.$partial=t.eq(1),this.partial=this.$partial.get(0),this.$partial_wrp=this.$partial.parent(".input-wrp")},_init:function(){this.add(this.options.tags.init)},_events:function(){this._on(this.$partial,"keypress keydown",this._handler_keypress_keydown),this._on(this.$partial,"paste",this._handler_paste),this._on("click",this._handler_click_on_empty),this._on("click",".tagbox-tag-remover",this._handler_click_on_tag_remover)},_get_tag_html:function(t){return this._tmpl("tag",e.merge({str:t},this.options.tag))},_update_tags_str:function(){this.options.tags.str=this.options.tags.arr.join(this.options.characters.separator)},_sanitize_tag_str:function(t){return t=e.trim(t),this.options.escape&&(t=e.escape(t)),this.options.deburr&&(t=e.deburr(t)),t},_update_input:function(){this.$input.val(this.options.tags.str).trigger("change")},_clear_partial:function(){this.$partial.val("").trigger("change")},_partial_add_tag:function(i){var s=e.trim(i),i=this._sanitize_tag_str(i);if(s.length<this.options.tag.min_length)s.length>0&&t.noty("`"+i+"` is shorter than "+this.options.tag.min_length+" characters");else{if(!e.contains(this.options.tags.arr,i)){this.options.tags.arr.push(i),this.options.sort&&this.options.tags.arr.sort();var n=this._get_tag_html(i);if(1!==this.options.tags.arr.length&&this.options.sort){var o=this.options.tags.arr.indexOf(i);0===o?this.$tagbox.find(".tagbox-tag").first().before(n):this.$tagbox.find(".tagbox-tag").eq(o-1).after(n)}else this.$partial_wrp.before(n);return!0}t.noty("`"+i+"` is a duplicate")}return!1},_partial_remove_tag:function(t,i){t.remove(),e.pull(this.options.tags.arr,i)},_handler_keypress_keydown:function(i){var s=this.$partial.val();if(e.contains(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var n=this.add(s);n&&this._clear_partial(),i.preventDefault()}else if(i.keyCode===t.ui.keyCode.BACKSPACE){if(0===s.length&&this.options.tags.arr.length>0){var o=this.$tagbox.find(".tagbox-tag").last(),r=!(t.browser.isMac&&i.metaKey||!t.browser.isMac&&i.ctrlKey);this.remove(o,r),i.preventDefault()}}else e.contains(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.noty("The character you entered is forbidden"),i.preventDefault())},_handler_paste:function(t){this._delay(function(){this.add(this.$partial.val()),this._clear_partial()})},_handler_click_on_tag_remover:function(e,i){var s=t(i).parents(".tagbox-tag");this.remove(s)},_handler_click_on_empty:function(e){s.activeElement===this.partial||t(e.target).is("input, .tagbox-tag-label")||this.$partial.focus()},get:function(){return this.options.tags.str},add:function(t){for(var i=t.split(this.options.characters.separator),s=[],n=0,o=i.length;o>n;n++)s.push(this._partial_add_tag(i[n]));var r=e.compact(s).length>0;return r&&(this._update_tags_str(),this._update_input()),r},remove:function(t,e){if(t instanceof jQuery)var i=[t],s=[t.data("tag-value")];else{var i=[],s=[];t=t.split(this.options.characters.separator);for(var n=0,o=t.length;o>n;n++){var r=this._sanitize_tag_str(t[n]),a=this.$tagbox.find('.tagbox-tag[data-tag-value="'+r+'"]');a.length&&(i.push(a),s.push(r))}}if(i.length){for(var n=0,o=i.length;o>n;n++)this._partial_remove_tag(i[n],s[n]);this._update_tags_str(),this._update_input(),1===o&&e===!0&&this.$partial.val(s[0]).trigger("change")}},clear:function(){this.options.tags.arr.length&&(this.options.tags.str="",this.options.tags.arr=[],this.$tagbox.find(".tagbox-tag").remove(),this._clear_partial(),this._update_input())},reset:function(){this.clear(),this._init()}}),t(function(){t(".tagbox").each(function(){var e=t(this),i=e.find("input").eq(0),s={tags:{init:i.val(),str:"",arr:[]}};e.tagbox(s)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.timeAgo",{options:{timestamp:!1,title:!1,callbacks:{update:e.noop}},_variables:function(){this.$timeAgo_wrp=this.$element,this.options.timestamp=this.$timeAgo_wrp.data(this.options.title?"timestamp-title":"timestamp")},_init:function(){this._update_loop(0)},_update_loop:function(t){this._delay(function(){this._update_loop(this.update().next)},1e3*t)},update:function(){var t=e.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgo_wrp.attr("title",t.str):this.$timeAgo_wrp.html(t.str),this._trigger("update"),t}}),t(function(){t("[data-timestamp]").timeAgo(),t("[data-timestamp-title]").timeAgo({title:!0})})}(jQuery,_,window,document),function(t,e,i,s,n){t.timer=function(t,e,i){return new o(t,e,i)};var o=function(t,e,i){return this.set(t,e,i)};o.prototype={set:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},once:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){e.action()},t),this},play:function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remaining_time),this.isActive=!0),this},pause:function(){return this.isActive&&(this.isActive=!1,this.remaining_time-=new Date-this.last,this.clearTimer()),this},stop:function(){return this.isActive=!1,this.remaining_time=this.intervalTime,this.clearTimer(),this},toggle:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},reset:function(){return this.isActive=!1,this.play(!0),this},clearTimer:function(){clearTimeout(this.timeoutObject)},setTimer:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remaining_time=t,this.last=new Date,this.clearTimer(),this.timeoutObject=setTimeout(function(){e.go()},t)},go:function(){this.isActive&&(this.action(),this.setTimer())},remaining:function(t){return e.isUndefined(t)?this.remaining_time:(this.remaining_time=t,this)}}}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(t){var e=t.offset();return{X1:e.left,X2:e.left+t.width(),Y1:e.top,Y2:e.top+t.height()}},r=function(t,e){var i=Math.max(0,Math.min(t.X2,e.X2)-Math.max(t.X1,e.X1)),s=Math.max(0,Math.min(t.Y2,e.Y2)-Math.max(t.Y1,e.Y1));return i*s};t.fn.touching=function(i){var s=e.merge({startIndex:!1,point:!1,binarySearch:!0,$comparer:!1,$not:!1,select:"all"},i),n=s.$not?this.not(s.$not):this;if(s.$comparer){var a=o(s.$comparer),h=[],c=[];switch(n.each(function(){var e=o(t(this)),i=r(a,e);i>0&&(h.push(this),c.push(i))}),s.select){case"all":return t(h);case"most":return t(h[c.indexOf(e.max(c))]);default:return $empty}}if(s.point){var l;return s.binarySearch?(n.btEach(function(){var e=t(this),i=o(e);return s.point.Y>=i.Y1?s.point.Y<=i.Y2?s.point.X>=i.X1?s.point.X<=i.X2?(l=e,!1):1:-1:1:-1},s.startIndex),l||$empty):(n.each(function(){var e=t(this),i=o(e);return s.point.Y>=i.Y1&&s.point.Y<=i.Y2&&s.point.X>=i.X1&&s.point.X<=i.X2?(l=e,!1):void 0}),l||$empty)}}}(jQuery,_,window,document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN2ZWx0by5qcyIsImNvcmUvbG9kYXNoLWV4dHJhLmpzIiwiZWFzaW5nL2Vhc2luZy5qcyIsImNvcmUvalF1ZXJ5LWV4dHJhLmpzIiwiY29yZS90bXBsLmpzIiwiY29yZS9icm93c2VyLmpzIiwiY29yZS9wb2ludGVyLmpzIiwiY29yZS9iYXNlX3dpZGdldC5qcyIsImNvcmUvd2lkZ2V0LmpzIiwiY29yZS9jb3JlLmpzIiwiYXV0b2dyb3cvYXV0b2dyb3cuanMiLCJhY2NvcmRpb24vYWNjb3JkaW9uLmpzIiwiYmx1ci9ibHVycmVkLmpzIiwiYnRlYWNoL2J0RWFjaC5qcyIsImNvbG9yX2hlbHBlci9jb2xvckhlbHBlci5qcyIsImNoZWNrYm94L2NoZWNrYm94LmpzIiwiaGV4X2NvbG9yL2hleENvbG9yLmpzIiwiY29sb3JwaWNrZXIvY29sb3JwaWNrZXIuanMiLCJjb29raWUvY29va2llLmpzIiwiZGF0ZXBpY2tlci9kYXRlcGlja2VyLmpzIiwiZHJhZ2dhYmxlL2RyYWdnYWJsZS5qcyIsInBvc2l0aW9uYXRlL3Bvc2l0aW9uYXRlLmpzIiwiZHJvcGRvd24vZHJvcGRvd24uanMiLCJleHBhbmRlci9leHBhbmRlci5qcyIsImZsaXBwYWJsZS9mbGlwcGFibGUuanMiLCJmb3JtX3N5bmMvZm9ybVN5bmMuanMiLCJsb2FkaW5nL2xvYWRpbmcuanMiLCJub3R5L25vdHkuanMiLCJmb3JtYV9hamF4L2Zvcm1BamF4LmpzIiwiaW5mb2Jhci9pbmZvYmFyLmpzIiwibW9kYWwvbW9kYWwuanMiLCJuYXZiYXIvbmF2YmFyLmpzIiwibm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi5qcyIsIm9uZV90aW1lX2FjdGlvbi9vbmVUaW1lQWN0aW9uLmpzIiwicHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NCYXIuanMiLCJwcmlzbS9wcmlzbS5qcyIsInJhZGlvL3JhZGlvLmpzIiwicmlwcGxlL3JpcHBsZS5qcyIsInNlbGVjdC9zZWxlY3QuanMiLCJzZWxlY3RhYmxlL3NlbGVjdGFibGUuanMiLCJzbGlkZXIvc2xpZGVyLmpzIiwic29ydGFibGUvc29ydGFibGUuanMiLCJzdGVwcGVyL3N0ZXBwZXIuanMiLCJzd2l0Y2gvc3dpdGNoLmpzIiwidGFibGVfaGVscGVyL3RhYmxlSGVscGVyLmpzIiwidGFicy90YWJzLmpzIiwidGFnYm94L3RhZ2JveC5qcyIsInRpbWVfYWdvL3RpbWVBZ28uanMiLCJ0aW1lci90aW1lci5qcyIsInRvdWNoaW5nL3RvdWNoaW5nLmpzIl0sIm5hbWVzIjpbIl8iLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIm1peGluIiwibm93U2VjcyIsImZsb29yIiwibm93IiwidGltZUFnbyIsInRpbWVzdGFtcCIsImVsYXBzZWQiLCJqdXN0X25vdyIsIm5hbWVzIiwidGltZXMiLCJzdHIiLCJuZXh0IiwiaSIsImwiLCJsZW5ndGgiLCJuYW1lIiwic2VjcyIsIm51bWJlciIsImZ1enp5TWF0Y2giLCJzZWFyY2giLCJpc0Nhc2VTZW5zaXRpdmUiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRfaW5kZXgiLCJzdHJfbCIsInNlYXJjaF9pIiwic2VhcmNoX2wiLCJzdHJfaSIsImNsYW1wIiwibWluaW11bSIsInZhbHVlIiwibWF4aW11bSIsImlzVW5kZWZpbmVkIiwiYnRFYWNoIiwiYXJyIiwiY2FsbGJhY2siLCJzdGFydEluZGV4IiwiZGlyZWN0aW9uIiwic3RhcnQiLCJlbmQiLCJjZW50ZXIiLCJpc051bWJlciIsImNlaWwiLCJjYWxsIiwidHJ1ZSIsImNvbnN0YW50IiwiZmFsc2UiLCIkIiwiZWFzaW5nIiwiZGVmIiwic3dpbmciLCJ4IiwidCIsImIiLCJjIiwiZCIsImxpbmVhciIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiTWF0aCIsImNvcyIsIlBJIiwiZWFzZU91dFNpbmUiLCJzaW4iLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsInBvdyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImpRdWVyeSIsInJlZmxvdyIsImRvY3VtZW50RWxlbWVudCIsIm9mZnNldEhlaWdodCIsImV2ZW50WFkiLCJldmVudCIsImlzUG9pbnRlckV2ZW50Iiwib3JpZ2luYWxFdmVudCIsImJyb3dzZXIiLCJoYXNUb3VjaCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsIlgiLCJwYWdlWCIsIlkiLCJwYWdlWSIsIiR3aW5kb3ciLCIkZG9jdW1lbnQiLCIkaHRtbCIsIiRib2R5IiwiYm9keSIsIiRlbXB0eSIsInRtcGwiLCJkYXRhIiwiZiIsInRlc3QiLCJGdW5jdGlvbiIsImFyZyIsImhlbHBlciIsInJlcGxhY2UiLCJyZWdleHAiLCJmdW5jIiwiY2FjaGUiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInMiLCJwMSIsInAyIiwicDMiLCJwNCIsInA1IiwiXG4iLCJcciIsIlx0IiwiICIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsImlzTW9iaWxlIiwiaXNUYWJsZXQiLCJpc0FuZHJvaWQiLCJpc0lPUyIsImlzTWFjIiwiaXNJRSIsImlzQ2hyb21lIiwiUG9pbnRlciIsInByZXNzRHVyYXRpb24iLCJkb3VibGVUYXBJbnRlcnZhbCIsImZsaWNrRHVyYXRpb24iLCJtb3Rpb25UaHJlc2hvbGQiLCJldmVudHNfbmFtZXMiLCJldmVudHNfbmFtZXNwYWNlIiwiZWFjaCIsImV2ZW50X25hbWUiLCJmdWxsX2V2ZW50IiwiZm4iLCJ0aGlzIiwib24iLCJ0cmlnZ2VyIiwic3RhcnRYWSIsIm1vdmVYWSIsImRlbHRhWFkiLCJlbmRYWSIsInRhcmdldCIsIiR0YXJnZXQiLCJzdGFydF90aW1lc3RhbXAiLCJlbmRfdGltZXN0YW1wIiwibW90aW9uIiwib3JpZW50YXRpb24iLCJwcmVzc190aW1lb3V0Iiwic3RhcnRFdmVudHMiLCJtb3ZlRXZlbnRzIiwiZW5kRXZlbnRzIiwicHJldl90YXBfdGltZXN0YW1wIiwiY3JlYXRlRXZlbnQiLCJFdmVudCIsInN0YXJ0SGFuZGxlciIsInRpbWVTdGFtcCIsInNldFRpbWVvdXQiLCJ3cmFwIiwicHJlc3NIYW5kbGVyIiwiZHJhZ3N0YXJ0IiwibW92ZUhhbmRsZXIiLCJlbmRIYW5kbGVyIiwicHJlc3MiLCJjbGVhclRpbWVvdXQiLCJhYnMiLCJkcmFnbW92ZSIsInRhcCIsImRibHRhcCIsImZsaWNrIiwib2ZmIiwiZHJhZ2VuZCIsIldpZGdldCIsIl9jaGlsZENvbnN0cnVjdG9ycyIsInByb3RvdHlwZSIsIndpZGdldE9yaWdpbmFsTmFtZSIsIndpZGdldE5hbWUiLCJ3aWRnZXRGdWxsTmFtZSIsImRlZmF1bHRFbGVtZW50IiwidGVtcGxhdGVzIiwib3B0aW9ucyIsImNhbGxiYWNrcyIsIl9jcmVhdGVXaWRnZXQiLCJlbGVtZW50IiwiaW5pdGlhbGl6YXRpb25UeXBlIiwiYmFzZSIsIm1lcmdlIiwiX2dldENyZWF0ZU9wdGlvbnMiLCJfdG1wbCIsImdldCIsIiRlbGVtZW50IiwiZ3VpZCIsInVuaXF1ZUlkIiwiZGlzYWJsZWQiLCJoYXNDbGFzcyIsIl9vbiIsImRlc3Ryb3kiLCJfY3JlYXRlIiwiX3RyaWdnZXIiLCJfZ2V0Q3JlYXRlRXZlbnREYXRhIiwiX3ZhcmlhYmxlcyIsIl9pbml0IiwiX2V2ZW50cyIsIm5vb3AiLCJfZGVzdHJveSIsInJlbW92ZURhdGEiLCJ3aWRnZXQiLCJvcHRpb24iLCJrZXkiLCJhcmd1bWVudHMiLCJjbG9uZURlZXAiLCJwYXJ0cyIsImN1ck9wdGlvbiIsInNwbGl0Iiwic2hpZnQiLCJleHRlbmQiLCJwb3AiLCJfc2V0T3B0aW9ucyIsIl9zZXRPcHRpb24iLCJ0b2dnbGVDbGFzcyIsImVuYWJsZSIsImRpc2FibGUiLCJzdXBwcmVzc0Rpc2FibGVkQ2hlY2siLCJldmVudHMiLCJzZWxlY3RvciIsImhhbmRsZXIiLCJoYW5kbGVyUHJveHkiLCJpbnN0YW5jZSIsImFyZ3MiLCJzbGljZSIsInB1c2giLCJhcHBseSIsImlzU3RyaW5nIiwiX29mZiIsImVpIiwiZWwiLCJfZGVsYXkiLCJkZWxheSIsImluc2VydEJlZm9yZSIsImluc2VydEFmdGVyIiwicHJlcGVuZFRvIiwiYXBwZW5kVG8iLCJvcmlnaW5hbE5hbWUiLCJmdWxsTmFtZSIsImV4aXN0aW5nQ29uc3RydWN0b3IiLCJjb25zdHJ1Y3RvciIsImJhc2VQcm90b3R5cGUiLCJwcm94aWVkUHJvdG90eXBlIiwibmFtZVBhcnRzIiwibmFtZXNwYWNlIiwiX3Byb3RvIiwicHJvcCIsIl9zdXBlciIsIl9zdXBlckFwcGx5IiwicmV0dXJuVmFsdWUiLCJfX3N1cGVyIiwiX19zdXBlckFwcGx5IiwidG1wbF9uYW1lIiwiY2hpbGRQcm90b3R5cGUiLCJicmlkZ2UiLCJvYmplY3QiLCJpc01ldGhvZENhbGwiLCJ0YWlsIiwibWV0aG9kVmFsdWUiLCJjaGFyQXQiLCJjb25jYXQiLCJ1aSIsImtleUNvZGUiLCJCQUNLU1BBQ0UiLCJDT01NQSIsIkRFTEVURSIsIkRPV04iLCJFTkQiLCJFTlRFUiIsIkVTQ0FQRSIsIkhPTUUiLCJMRUZUIiwiUEFHRV9ET1dOIiwiUEFHRV9VUCIsIlBFUklPRCIsIlJJR0hUIiwiU1BBQ0UiLCJUQUIiLCJVUCIsIm1vdXNlQnV0dG9uIiwiTUlERExFIiwibWluaW11bV93aWR0aCIsIm1pbmltdW1faGVpZ2h0IiwidXBkYXRlIiwiJGdyb3dhYmxlIiwiaXNJbnB1dCIsImlzIiwiaXNUZXh0YXJlYSIsIl91cGRhdGVfaW5wdXRfd2lkdGgiLCJuZWVkZWRfd2lkdGgiLCJfZ2V0X2lucHV0X25lZWRlZF93aWR0aCIsIndpZHRoIiwibWF4IiwiJHNwYW4iLCJ2YWwiLCJjc3MiLCJmb250IiwicG9zaXRpb24iLCJvcGFjaXR5IiwicmVtb3ZlIiwiX3VwZGF0ZV90ZXh0YXJlYV9oZWlnaHQiLCJuZWVkZWRfaGVpZ2h0IiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwicGFyc2VGbG9hdCIsImF1dG9ncm93IiwiJGFjY29yZGlvbiIsIiRleHBhbmRlcnMiLCJjaGlsZHJlbiIsImV4cGFuZGVyc19pbnN0YW5jZXMiLCJBcnJheSIsImlzTXVsdGlwbGUiLCJlcSIsImV4cGFuZGVyIiwiX2hhbmRsZXJfb3BlbiIsIm5vZGUiLCJjbG9zZSIsInRvZ2dsZSIsImluZGV4IiwidG9nZ2xlQWxsIiwib3BlbiIsIm9wZW5BbGwiLCJjbG9zZUFsbCIsImFjY29yZGlvbiIsImJsdXJyZWQiLCJmb3JjZSIsIkNvbG9ySGVscGVyIiwiaGV4MnJnYiIsImhleCIsInIiLCJoZXgyZGVjIiwiZyIsImhleDJoc3YiLCJyZ2IyaHN2IiwicmdiMmhleCIsInJnYiIsImRlYzJoZXgiLCJoIiwidiIsImRpZmYiLCJtaW4iLCJkaWZmYyIsInJyIiwiZ2ciLCJiYiIsImhzdjJoZXgiLCJoc3YiLCJoc3YycmdiIiwicCIsInEiLCJyb3VuZCIsImhzdjJoc2wiLCJ0ZW1wTCIsInRlbXBTIiwiaHNsMmhzdiIsImhzbCIsImRlYyIsInBhZExlZnQiLCJ0b1N0cmluZyIsInBhcnNlSW50IiwiY2hlY2tlZCIsInVuY2hlY2tlZCIsIiRjaGVja2JveCIsIiRpbnB1dCIsImZpbmQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiX2hhbmRsZXJfY2hhbmdlIiwiaXNDaGVja2VkIiwiY2hlY2siLCJ1bmNoZWNrIiwiY2hlY2tib3giLCJIZXhDb2xvciIsImlzVmFsaWQiLCJnZXRIZXhTdHIiLCJkZWZhdWx0X2NvbG9yIiwibGl2ZSIsImNoYW5nZSIsIiRjb2xvcnBpY2tlciIsIiRzYl93cnAiLCIkaGFuZGxlcl9zYiIsIiRodWVfd3JwIiwiJGhhbmRsZXJfaHVlIiwiaWQiLCJhdHRyIiwiJGlucHV0cyIsImNvbG9yIiwiX3VwZGF0ZV92YXJpYWJsZXMiLCJzYl93cnBfc2l6ZSIsImh1ZV93cnBfaGVpZ2h0Iiwic2V0IiwiX3VwZGF0ZV9zYiIsIl91cGRhdGVfaHVlIiwiX2hhbmRsZXJfcmVzaXplIiwiX2hhbmRsZXJfaW5wdXRfa2V5ZG93biIsIl9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW4iLCJfaGFuZGxlcl9zYl93cnBfYXJyb3dzX291dCIsIl9oYW5kbGVyX3NiX2RyYWdfbW92ZSIsIl9oYW5kbGVyX3NiX2RyYWdfZW5kIiwiX2hhbmRsZXJfaHVlX3dycF9hcnJvd3NfaW4iLCJfaGFuZGxlcl9odWVfd3JwX2Fycm93c19vdXQiLCJfaGFuZGxlcl9odWVfZHJhZ19tb3ZlIiwiX2hhbmRsZXJfaHVlX2RyYWdfZW5kIiwic2Jfd3JwX29mZnNldCIsIm9mZnNldCIsImh1ZV93cnBfb2Zmc2V0IiwiX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duIiwiX3VwZGF0ZV9pbnB1dCIsIl9zYl9kcmFnX3NldCIsIlhZIiwibGVmdCIsInRvcCIsIl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd24iLCJfaHVlX2RyYWdfc2V0IiwiYmFja2dyb3VuZC1jb2xvciIsInRyYW5zZm9ybSIsIl91cGRhdGUiLCJuZXdfY29sb3IiLCJpc0VxdWFsIiwiY29sb3JwaWNrZXIiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWNvZGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJSZWdFeHAiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiZXhwaXJlcyIsIk51bWJlciIsIkluZmluaXR5IiwiU3RyaW5nIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwiaGFzIiwia2V5cyIsIm1vbnRocyIsImRhdGUiLCJ0b2RheSIsImN1cnJlbnQiLCJzZWxlY3RlZCIsInJlZnJlc2giLCIkZGF0ZXBpY2tlciIsIiRuYXZpZ2F0aW9uX3ByZXYiLCIkbmF2aWdhdGlvbl90aXRsZSIsIiRuYXZpZ2F0aW9uX25leHQiLCIkZGF5c19wcmV2IiwiJGRheXNfY3VycmVudCIsIiRkYXlzX25leHQiLCIkZGF5c19hbGwiLCJhZGQiLCIkZGF5X3RvZGF5IiwiJGRheV9zZWxlY3RlZCIsIl9yZWZyZXNoIiwiX2hhbmRsZXJfYXJyb3dzX2luIiwiX2hhbmRsZXJfYXJyb3dzX291dCIsIl9oYW5kbGVyX3ByZXZfY2xpY2siLCJfaGFuZGxlcl9uZXh0X2NsaWNrIiwiX2hhbmRsZXJfZGF5X2N1cnJlbnRfY2xpY2siLCJfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93biIsIm5hdmlnYXRlX21vbnRoIiwiX3VuaGlnaGxpZ2h0X3NlbGVjdGVkIiwiZGF5IiwiaHRtbCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJfaGlnaGxpZ2h0X3NlbGVjdGVkIiwiX2J1aWxkX2NhbGVuZGFyIiwicHJldl9tb250aF9kYXlzIiwiZ2V0RGF0ZSIsImN1cnJlbnRfbW9udGhfZGF5cyIsImluaXRpYWxfZGF5X29mX3dlZWsiLCJnZXREYXkiLCJleGNlZWRpbmdfZGF5cyIsIm5lZWRlZF9kYXlzIiwibGVmdF9kYXlzIiwibGVuZ2h0IiwiX2hpZ2hsaWdodF9kYXkiLCJjc3NfY2xhc3MiLCJkZWx0YV9tb250aHMiLCJfdW5oaWdobGlnaHRfdG9kYXkiLCJfaGlnaGxpZ2h0X3RvZGF5IiwiX3VwZGF0ZV90aXRsZSIsImZvcm1hdHRlZCIsInNlZ21lbnRzIiwiaXNOYU4iLCJ2YWx1ZU9mIiwic2V0RnVsbFllYXIiLCJzZXRNb250aCIsInN0ZXBzIiwicHJldl9tb250aCIsIm5leHRfbW9udGgiLCJkYXRlcGlja2VyIiwic2VsZWN0b3JzIiwiZHJhZ2dhYmxlIiwib25seV9oYW5kbGVycyIsInJldmVydGFibGUiLCJheGlzIiwiY29uc3RyYWluZXIiLCJjb29yZGluYXRlcyIsImNvbnN0cmFpbl9jZW50ZXIiLCJ0b2xsZXJhbmNlIiwieSIsIm1vZGlmaWVycyIsImJlZm9yZXN0YXJ0IiwibW92ZSIsIiRkcmFnZ2FibGUiLCIkaGFuZGxlcnMiLCJfc3RhcnQiLCJfbW92ZSIsIl9lbmQiLCJpc0RyYWdnYWJsZSIsInRyYW5zZm9ybV9zdHIiLCJtYXRyaXgiLCJtYXRjaCIsImluaXRpYWxYWSIsImNvbnN0cmFpbmVyX29mZnNldCIsImRyYWdnYWJsZV9vZmZzZXQiLCJ0cmFuc2xhdGVYX21pbiIsInRyYW5zbGF0ZVhfbWF4IiwidHJhbnNsYXRlWV9taW4iLCJ0cmFuc2xhdGVZX21heCIsIngxIiwieDIiLCJ5MSIsInkyIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJtb2RpZmllZFhZIiwiaXNCb29sZWFuIiwiZHJhZ2dlZCIsInBvc2l0aW9uYXRlIiwiY3VzdG9tX29wdGlvbnMiLCIkYW5jaG9yIiwiJHBvaW50ZXIiLCJwb2ludCIsInJhbmtzIiwiYWxsIiwicG9zaXRpb25hdGVkIiwiZGlyZWN0aW9ucyIsInVuaXF1ZSIsInVuaW9uIiwid2luZG93X3dpZHRoIiwid2luZG93X2hlaWdodCIsImh0bWxfc2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiaHRtbF9zY3JvbGxMZWZ0Iiwic2Nyb2xsTGVmdCIsInBvc2l0aW9uYWJsZV93aWR0aCIsIm91dGVyV2lkdGgiLCJwb3NpdGlvbmFibGVfaGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJhbmNob3Jfb2Zmc2V0IiwiYW5jaG9yX3dpZHRoIiwiYW5jaG9yX2hlaWdodCIsInNwYWNlcyIsIm1hcCIsImFyZWFzIiwiY2hvc2VuX2RpcmVjdGlvbiIsImluZGV4T2YiLCJkYXRhcyIsImlzRnVuY3Rpb24iLCJwb2ludGVyX3Bvc2l0aW9uIiwicG9pbnRlcl93aWR0aCIsInBvaW50ZXJfaGVpZ2h0IiwiYXNzaWdubWVudHMiLCIkZHJvcGRvd24iLCIkdGlwcyIsIiR0b3BfdGlwIiwiZmlsdGVyIiwiJHJpZ2h0X3RpcCIsIiRib3R0b21fdGlwIiwiJGxlZnRfdGlwIiwiJGFjdGlvbmFibGVzIiwiJHRyaWdnZXJzIiwiaGFzVGlwcyIsImlzQXR0YWNoZWQiLCJvcGVuZWQiLCJfYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCIsIl91bmJpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGwiLCJfYmluZF93aW5kb3dfY2xpY2siLCJfaGFuZGxlcl93aW5kb3dfY2xpY2siLCJfdW5iaW5kX3dpbmRvd19jbGljayIsIiRwYXJlbnRzIiwicGFyZW50cyIsIl9wb3NpdGlvbmF0ZSIsIiR0cmlnZ2VyIiwibm9fdGlwIiwiX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb24iLCJkcm9wZG93biIsInRvZ2dsZXIiLCJjb250ZW50IiwiJGV4cGFuZGVyIiwiJGNvbnRlbnQiLCJmbGlwcGVyIiwiYmFjayIsImZsaXBwZWQiLCIkZmxpcHBhYmxlIiwiJGZyb250IiwiJGJhY2siLCJpc0ZsaXBwZWQiLCJmbGlwIiwiZmxpcHBhYmxlIiwic3luY2VkX2dyb3VwcyIsImZvcm1TeW5jIiwiJGZvcm0iLCJzeW5jX2dyb3VwIiwiJGZvcm1zIiwiJGVsZXMiLCIkZWxlIiwiaXNfY2hlY2thYmxlIiwiaXNfcmFkaW8iLCJpc190ZXh0Ym94IiwiJGN1cnJlbnRfZm9ybSIsInBhcmVudCIsIiRvdGhlcl9mb3JtcyIsIm5vdCIsIiRvdGhlcl9lbGVzIiwiY3VycmVudF92YWx1ZSIsImN1cnJlbnRfY2hlY2tlZCIsIiRvdGhlcl9lbGUiLCJvdGhlcl92YWx1ZSIsIm90aGVyX2NoZWNrZWQiLCJsb2FkaW5nIiwid3JhcHBlciIsInNwaW5uZXIiLCIkb3ZlcmxheSIsInByZXBlbmQiLCJ0aW1lcnMiLCJub3R5IiwiYXV0b3BsYXkiLCJpc1BsYWluT2JqZWN0IiwiYnV0dG9ucyIsInR5cGUiLCJwcmVzdG8iLCJpbWciLCJ0aXRsZSIsInNpbmdsZV9idXR0b24iLCJidXR0b24iLCJhbmNob3IiLCJ0dGwiLCIkbm90eSIsInRpbWVyIiwiaXNPcGVuIiwibmV2ZXJPcGVuZWQiLCJfaW5pdF9jbGljayIsIl9pbml0X2J1dHRvbnNfY2xpY2siLCIkYnV0dG9ucyIsIiRidXR0b24iLCJvbkNsaWNrIiwiX2luaXRfdGltZXIiLCJiaW5kIiwiX2luaXRfaG92ZXIiLCJob3ZlciIsInBhdXNlIiwicmVtYWluaW5nIiwicGxheSIsImZpcnN0IiwiYXBwZW5kIiwicHVsbCIsInN0b3AiLCJmb3JtQWpheCIsInByZXZlbnREZWZhdWx0IiwiYWpheCIsImNvbnRlbnRUeXBlIiwiRm9ybURhdGEiLCJwcm9jZXNzRGF0YSIsInVybCIsImJlZm9yZVNlbmQiLCJlcnJvciIsInJlcyIsInN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsImhyZWYiLCJwYXRobmFtZSIsImFzc2lnbiIsImNvbXBsZXRlIiwiY2xvc2VyIiwiJGluZm9iYXIiLCJzbGlkZVVwIiwiaW5mb2JhciIsIiRtb2RhbCIsIl9oYW5kbGVyX2VzY19rZXlkb3duIiwibW9kYWwiLCIkbmF2YmFyIiwiJHdycCIsIiRjbG9zZXJzIiwibmF2YmFyIiwibm90aWZpY2F0aW9uIiwiaGFzRm9jdXMiLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJzdGF0dXMiLCJpY29uIiwib25lVGltZUFjdGlvbiIsImFjdGlvbiIsImNvbnRhaW5lciIsImV4cGlyeSIsIkFjdGlvbiIsIkNvbnRhaW5lciIsImFjdGlvbnNTdHIiLCJhY3Rpb25zIiwiY29udGFpbnMiLCJqb2luIiwicmVzZXQiLCJnZW5lcmF0ZV9vcHRpb25zIiwibXVsdGlwbGUiLCJuZXdfb3B0aW9ucyIsInBlcmNlbnRhZ2VzIiwicHJvZ3Jlc3NCYXIiLCJwZXJjZW50YWdlc19sYWJlbGVkIiwicGVyY2VudGFnZSIsInBlcmNlbnRhZ2VfbGFiZWxlZCIsImxhYmVsIiwic2l6ZSIsInN0cmlwZWQiLCJsYWJlbGVkIiwiZGVjaW1hbHMiLCJmdWxsIiwiJHByb2dyZXNzQmFyIiwiJGhpZ2hsaWdodGVkcyIsIiRzdHJpcGVzIiwiJGhpZ2hsaWdodGVkIiwiJGxhYmVsIiwidG9GaXhlZCIsInN1bSIsInN0eWxlIiwic2VsZiIsIldvcmtlckdsb2JhbFNjb3BlIiwiUHJpc20iLCJlIiwidXRpbCIsIm4iLCJhbGlhcyIsIk9iamVjdCIsImNsb25lIiwiaGFzT3duUHJvcGVydHkiLCJsYW5ndWFnZXMiLCJvIiwidSIsImEiLCJERlMiLCJoaWdobGlnaHRBbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwibGFuZ3VhZ2UiLCJncmFtbWFyIiwiY29kZSIsImhvb2tzIiwicnVuIiwiV29ya2VyIiwiZmlsZW5hbWUiLCJvbm1lc3NhZ2UiLCJoaWdobGlnaHRlZENvZGUiLCJzdHJpbmdpZnkiLCJKU09OIiwicGFyc2UiLCJwb3N0TWVzc2FnZSIsImhpZ2hsaWdodCIsInRva2VuaXplIiwiVG9rZW4iLCJyZXN0IiwiaW5zaWRlIiwibG9va2JlaGluZCIsInBhdHRlcm4iLCJtIiwibGFzdEluZGV4IiwiZXhlYyIsInciLCJFIiwiUyIsIlQiLCJzcGxpY2UiLCJ0YWciLCJjbGFzc2VzIiwiYXR0cmlidXRlcyIsInNwZWxsY2hlY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzcmMiLCJoYXNBdHRyaWJ1dGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibWFya3VwIiwiY29tbWVudCIsInByb2xvZyIsImRvY3R5cGUiLCJjZGF0YSIsInB1bmN0dWF0aW9uIiwiYXR0ci12YWx1ZSIsImF0dHItbmFtZSIsImVudGl0eSIsImF0cnVsZSIsInByb3BlcnR5Iiwic3RyaW5nIiwiaW1wb3J0YW50IiwiZnVuY3Rpb24iLCJzdHlsZS1hdHRyIiwicHNldWRvLWVsZW1lbnQiLCJwc2V1ZG8tY2xhc3MiLCJjbGFzcyIsImhleGNvZGUiLCJjbGlrZSIsImNsYXNzLW5hbWUiLCJrZXl3b3JkIiwiYm9vbGVhbiIsIm9wZXJhdG9yIiwiaWdub3JlIiwiamF2YXNjcmlwdCIsInJlZ2V4Iiwic2NyaXB0IiwiJHJhZGlvIiwiJGNvbnRhaW5lciIsIiRvdGhlcl9yYWRpb3MiLCJyYWRpbyIsIlJpcHBsZSIsInNob3ciLCJoaWRlIiwiJHJpcHBsZSIsImJlZm9yZSIsIm9wdGdyb3VwIiwiJHNlbGVjdCIsIiRvcHRpb25zIiwiJHNlbGVjdF9sYWJlbCIsIiR2YWx1ZWhvbGRlciIsInNlbGVjdF9vcHRpb25zIiwiJGRyb3Bkb3duX2NvbnRhaW5lciIsIl91cGRhdGVfdmFsdWVob2xkZXIiLCJfaW5pdF9zZWxlY3Rfb3B0aW9ucyIsIl9pbml0X2Ryb3Bkb3duIiwiX2hhbmRsZXJfYnV0dG9uX2NsaWNrIiwicHJldmlvdXNfb3B0Z3JvdXAiLCJjdXJyZW50X29wdGdyb3VwIiwiJG9wdGlvbiIsIiRwYXJlbnQiLCJfc2V0X2Ryb3Bkb3duX3dpZHRoIiwiX3VwZGF0ZV9kcm9wZG93biIsIiRzZWxlY3RlZF9vcHRpb24iLCJzZWxlY3QiLCJjbGljayIsImNsZWFyX3NlbGVjdGlvbiIsInNlbGVjdGlvbiIsImVtcHR5IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwic2VsZWN0ZWRfY2xhc3MiLCIkcm93cyIsIl9nZXRfcm93cyIsIiRzdGFydF9yb3ciLCIkZW5kX3JvdyIsIl9yZXNldF9wcmV2cyIsIl9oYW5kbGVyX2tleXNfaW4iLCJfaGFuZGxlcl9rZXlzX291dCIsIl9oYW5kbGVyX21vdXNlZG93biIsIl9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbiIsIl9oYW5kbGVyX2tleXNfa2V5ZG93biIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJjdXJyZW50VGFyZ2V0IiwiX2hhbmRsZXJfbW91c2Vtb3ZlIiwiX2hhbmRsZXJfbW91c2V1cCIsIiRwcmV2X3JvdyIsIl9oYW5kbGVyX2RyYWdfbW91c2VlbnRlciIsIl9oYW5kbGVyX2RyYWdfbW91c2V1cCIsInN0YXJ0X2luZGV4IiwiZW5kX2luZGV4IiwibWluX2luZGV4IiwibWF4X2luZGV4IiwiJG5ld19kcmFnZ2VkIiwiJHByZXZfZHJhZ2dlZCIsIiRuZXdfc2hpZnRlZCIsIiRwcmV2X3NoaWZ0ZWQiLCJzZWxlY3RhYmxlIiwic3RlcCIsImluY3JlYXNlZCIsImRlY3JlYXNlZCIsIiRzbGlkZXIiLCIkbWluIiwiJG1heCIsIiRiYXJfd3JwIiwiJHVuaGlnaGxpZ2h0ZWQiLCIkaGFuZGxlcl93cnAiLCJzdGVwc19uciIsImRlY3JlYXNlIiwiaW5jcmVhc2UiLCJfZHJhZ2dhYmxlIiwibW9kaWZpZXJfeCIsIl9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQiLCJfaGFuZGxlcl9kcmFnX21vdmUiLCJfaGFuZGxlcl9kcmFnX2VuZCIsIl9oYW5kbGVyX2NsaWNrIiwiX3JvdW5kX3ZhbHVlIiwiX3VwZGF0ZV9wb3NpdGlvbnMiLCJyaWdodCIsIl91cGRhdGVfbGFiZWwiLCJ1bmhpZ2hsaWdodGVkX3dpZHRoIiwidW5oaWdobGlnaHRlZF9vZmZzZXQiLCJzdGVwX3dpZHRoIiwiZGlzdGFuY2UiLCJzZXR0ZWQiLCJjbGlja19wb3MiLCJzbGlkZXIiLCJzb3J0ZXJzIiwiaW50IiwiZmxvYXQiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImxvY2FsZUNvbXBhcmUiLCJzb3J0IiwiJHRhYmxlIiwiJGhlYWRlcnMiLCIkc29ydGFibGVzIiwiJHRib2R5IiwidGFibGUiLCJ0Ym9keSIsInNvcnRfZGF0YXMiLCJjdXJyZW50X2RpcmVjdGlvbiIsIiRpbml0aWFsIiwibmV3X2luZGV4IiwibmV3X2RpcmVjdGlvbiIsIiRzb3J0YWJsZSIsInNvcnRlcl9uYW1lIiwic29ydGVyIiwiJHRycyIsIiR0ZCIsInRleHQiLCJyZXZlcnNlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsInNvcnRhYmxlIiwiJHN0ZXBwZXIiLCIkZGVjcmVhc2VyIiwiJGluY3JlYXNlciIsIl9oYW5kbGVyX2lucHV0X2NoYW5nZSIsInNldF92YWx1ZSIsImNsYW1wZWQiLCJuYXZpZ2F0ZSIsIm1vZGlmaWVyIiwibmV3X3ZhbHVlIiwic3RlcHBlciIsImNvbG9ycyIsIiRzd2l0Y2giLCIkYmFyIiwiJGhhbmRsZXIiLCIkaWNvbiIsImRyYWdnaW5nIiwiX3NldF9jaGVjayIsIm5ld19jaGVja2VkIiwiY2xlYXIiLCIkdGhlYWQiLCIkdGZvb3QiLCIkZW1wdHlfcm93IiwiY29sdW1uc19uciIsIl9jaGVja19lbXB0eSIsIl9nZXRfcm93X2lkIiwidXVpZCIsIiRmaWxsYWJsZXMiLCJkYXRhc19maWxsYWJsZSIsImNodW5rcyIsImNodW5rIiwiY2kiLCJjbCIsInJvd19odG1sIiwiJHJvdyIsIiR0ZHMiLCJ0YWJsZUhlbHBlciIsImJ1dHRvbnNfd3JwIiwiYnV0dG9uX2FjdGl2ZV9jbGFzcyIsImluZGljYXRvciIsImNvbnRhaW5lcnNfd3JwIiwiY29udGFpbmVycyIsImNvbnRhaW5lcl9hY3RpdmVfY2xhc3MiLCJpbmRpY2F0b3JfZGVsYXkiLCIkdGFicyIsImlzVmVydGljYWwiLCIkdGFic19idXR0b25zIiwiJGluZGljYXRvciIsIiR0YWJzX2NvbnRhaW5lcnMiLCIkY29udGFpbmVycyIsIiRjdXJyZW50X2J1dHRvbiIsInByZXZfaW5kZXgiLCJfaGFuZGVyX2J1dHRvbl9jbGljayIsIl9wb3NpdGlvbmF0ZV9pbmRpY2F0b3IiLCIkYWN0aXZlIiwidG90YWxfaGVpZ2h0IiwiYm90dG9tIiwidG90YWxfd2lkdGgiLCJ0YWJzIiwidGFncyIsImluaXQiLCJtaW5fbGVuZ3RoIiwiY2hhcmFjdGVycyIsImZvcmJpZGRlbiIsInNlcGFyYXRvciIsImluc2VydGVycyIsImVzY2FwZSIsImRlYnVyciIsIiR0YWdib3giLCIkcGFydGlhbCIsInBhcnRpYWwiLCIkcGFydGlhbF93cnAiLCJfaGFuZGxlcl9rZXlwcmVzc19rZXlkb3duIiwiX2hhbmRsZXJfcGFzdGUiLCJfaGFuZGxlcl9jbGlja19vbl9lbXB0eSIsIl9oYW5kbGVyX2NsaWNrX29uX3RhZ19yZW1vdmVyIiwiX2dldF90YWdfaHRtbCIsInRhZ19zdHIiLCJfdXBkYXRlX3RhZ3Nfc3RyIiwiX3Nhbml0aXplX3RhZ19zdHIiLCJ0cmltIiwiX2NsZWFyX3BhcnRpYWwiLCJfcGFydGlhbF9hZGRfdGFnIiwidGFnX3N0cl90cmltbWVkIiwidGFnX2h0bWwiLCJhZnRlciIsIl9wYXJ0aWFsX3JlbW92ZV90YWciLCIkdGFnIiwiY2hhckNvZGVBdCIsImFkZGVkIiwibGFzdCIsImVkaXQiLCJmcm9tQ2hhckNvZGUiLCJ0YWdfcmVtb3ZlciIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1cyIsInRhZ3Nfc3RyIiwiYWRkcyIsImNvbXBhY3QiLCJ0YWdzX29iaiIsInRhZ2JveCIsIiR0aW1lQWdvX3dycCIsIl91cGRhdGVfbG9vcCIsIndhaXQiLCJ0aW1lIiwiYXV0b3N0YXJ0IiwiVGltZXIiLCJpbnRlcnZhbFRpbWUiLCJpc0FjdGl2ZSIsInNldFRpbWVyIiwib25jZSIsInJlbWFpbmluZ190aW1lIiwiY2xlYXJUaW1lciIsInRpbWVvdXRPYmplY3QiLCJnbyIsImdldF9jb29yZGluYXRlcyIsIlgxIiwiWDIiLCJZMSIsIlkyIiwiZ2V0X292ZXJsYXBwaW5nX2FyZWEiLCJjMSIsImMyIiwieF9vdmVybGFwIiwieV9vdmVybGFwIiwidG91Y2hpbmciLCJiaW5hcnlTZWFyY2giLCIkY29tcGFyZXIiLCIkbm90IiwiJHNlYXJjaGFibGUiLCJub2RlcyIsImFyZWEiLCIkdG91Y2hlZCIsIiRub2RlIl0sIm1hcHBpbmdzIjoiQUFVQSxjQ0FDLFNBQVlBLEVBQUdDLEVBQVFDLEVBQVVDLEdBTTlCSCxFQUFFSSxPQVlFQyxRQUFTLFdBRUwsTUFBT0wsR0FBRU0sTUFBUU4sRUFBRU8sTUFBUyxNQVdoQ0MsUUFBUyxTQUFXQyxHQUVoQixHQUFJQyxHQUFVVixFQUFFSyxVQUFhSSxFQUN6QkUsRUFBVyxFQUVYQyxHQUFTLE9BQVEsUUFBUyxPQUFRLE1BQU8sT0FBUSxTQUFVLFVBQzNEQyxHQUFTLFFBQVUsT0FBUyxPQUFRLE1BQU8sS0FBTSxHQUFJLEVBRXpELElBQWVGLEVBQVZELEVBRUQsT0FDSUksSUFBSyxXQUNMQyxLQUFNSixFQUFXRCxFQUtyQixLQUFNLEdBQUlNLEdBQUksRUFBR0MsRUFBSUosRUFBTUssT0FBWUQsRUFBSkQsRUFBT0EsSUFBTSxDQUU1QyxHQUFJRyxHQUFPUCxFQUFNSSxHQUNiSSxFQUFPUCxFQUFNRyxHQUNiSyxFQUFTckIsRUFBRU0sTUFBUUksRUFBVVUsRUFFakMsSUFBS0MsR0FBVSxFQUVYLE9BQ0lQLElBQUtPLEVBQVMsSUFBTUYsR0FBU0UsRUFBUyxFQUFJLElBQU0sSUFBTyxP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QixPQUFLOTNCLEdBQVF5VyxNQUFNemMsR0FBS3hDLEVBQUV1L0IsR0FFakIvMkIsRUFBUXlXLE1BQU16YyxHQUFLeEMsRUFBRXcvQixHQUVqQmgzQixFQUFReVcsTUFBTTNjLEdBQUt0QyxFQUFFcS9CLEdBRWpCNzJCLEVBQVF5VyxNQUFNM2MsR0FBS3RDLEVBQUVzL0IsSUFFdEJlLEVBQVdDLEdBRUosR0FJQSxFQU1KLEdBTUosRUFPSixJQUtaOTNCLEVBQVExSixZQUVKdWhDLEdBQVl0OUIsU0FJbkJtOUIsRUFBWTM2QixLQUFPLFdBRWYsR0FBSSs2QixHQUFRN2dDLEVBQUVrRyxNQUNWM0YsRUFBSW8vQixFQUFrQmtCLEVBRTFCLE9BQUs5M0IsR0FBUXlXLE1BQU16YyxHQUFLeEMsRUFBRXUvQixJQUFNLzJCLEVBQVF5VyxNQUFNemMsR0FBS3hDLEVBQUV3L0IsSUFBTWgzQixFQUFReVcsTUFBTTNjLEdBQUt0QyxFQUFFcS9CLElBQU03MkIsRUFBUXlXLE1BQU0zYyxHQUFLdEMsRUFBRXMvQixJQUV2R2UsRUFBV0MsR0FFSixHQUpYLFNBVUdELEdBQVl0OUIsV0FRaENyQixPQUFRbkYsRUFBR0MsT0FBUUMiLCJmaWxlIjoic3ZlbHRvLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBMT0RBU0ggRVhUUkEgKi9cblxuICAgIF8ubWl4aW4oe1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgVW5peCBlcG9jaFxuICAgICAgICAgKiAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgICAgICpcbiAgICAgICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93U2VjcygpIC0gc3RhbXApO1xuICAgICAgICAgKiB9LCBfLm5vd1NlY3MoKSk7XG4gICAgICAgICAqIC8vID0+IGxvZ3MgdGhlIG51bWJlciBvZiBzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBmdW5jdGlvbiB0byBiZSBpbnZva2VkXG4gICAgICAgICAqL1xuXG4gICAgICAgIG5vd1NlY3M6IGZ1bmN0aW9uIG5vd1NlY3MoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBfLmZsb29yKF8ubm93KCkgLyAxMDAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHN0cmluZyBmb3JtYXQgb2YgbnVtYmVyIG9mIHNlY29uZHMgZWxhcHNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogXy50aW1lQWdvICggXy5ub3dTZWNzICgpIClcbiAgICAgICAgICogLy8gPT4gSnVzdCBub3dcbiAgICAgICAgICovXG5cbiAgICAgICAgdGltZUFnbzogZnVuY3Rpb24gdGltZUFnbyh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIC8vSU5GTzogVGltZXN0YW1wIGlzIHJlcXVpcmVkIGluIHNlY29uZHNcblxuICAgICAgICAgICAgdmFyIGVsYXBzZWQgPSBfLm5vd1NlY3MoKSAtIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBqdXN0X25vdyA9IDU7XG5cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IFsneWVhcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnXSxcbiAgICAgICAgICAgICAgICB0aW1lcyA9IFszMTUzNjAwMCwgMjU5MjAwMCwgNjA0ODAwLCA4NjQwMCwgMzYwMCwgNjAsIDFdO1xuXG4gICAgICAgICAgICBpZiAoZWxhcHNlZCA8IGp1c3Rfbm93KSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdHI6ICdKdXN0IG5vdycsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IGp1c3Rfbm93IC0gZWxhcHNlZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG5hbWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyA9IHRpbWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gXy5mbG9vcihlbGFwc2VkIC8gc2Vjcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlciA+PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyOiBudW1iZXIgKyAnICcgKyBuYW1lICsgKG51bWJlciA+IDEgPyAncycgOiAnJykgKyAnIGFnbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogc2VjcyAtIChlbGFwc2VkIC0gbnVtYmVyICogc2VjcylcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBhIGJvb2xlYW4gaWYgdGhlIHN0cmluZyBpcyBmdXp6eSBtYXRjaGVkIHdpdGggdGhlIHNlYXJjaCBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZnV6enlNYXRjaCAoICdzb21ldGhpbmcnLCAnc21UbmcnICk7XG4gICAgICAgICAqIC8vID0+IHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogXy5mdXp6eU1hdGNoICggJ3NvbWV0aGluZycsICdzbVRuZycsIGZhbHNlICk7XG4gICAgICAgICAqIC8vID0+IGZhbHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZnV6enlNYXRjaCAoICdzb21ldGhpbmcnLCAnc2VtdGhpbmcnICk7XG4gICAgICAgICAqIC8vID0+IGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZ1enp5TWF0Y2g6IGZ1bmN0aW9uIGZ1enp5TWF0Y2goc3RyLCBzZWFyY2gsIGlzQ2FzZVNlbnNpdGl2ZSkge1xuXG4gICAgICAgICAgICBpZiAoaXNDYXNlU2Vuc2l0aXZlICE9PSBmYWxzZSkge1xuXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50X2luZGV4ID0gLTEsXG4gICAgICAgICAgICAgICAgc3RyX2wgPSBzdHIubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBzZWFyY2hfaSA9IDAsIHNlYXJjaF9sID0gc2VhcmNoLmxlbmd0aDsgc2VhcmNoX2kgPCBzZWFyY2hfbDsgc2VhcmNoX2krKykge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc3RyX2kgPSBjdXJyZW50X2luZGV4ICsgMTsgc3RyX2kgPCBzdHJfbDsgc3RyX2krKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJbc3RyX2ldID09PSBzZWFyY2hbc2VhcmNoX2ldKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfaW5kZXggPSBzdHJfaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cl9pID0gc3RyX2wgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0cl9pID09PSBzdHJfbCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgbnVtYmVyIGNsYW1wZWQgYmV0d2VlbiBhIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWUuXG4gICAgICAgICAqIElmIHRoZSBtYXhpbXVtIGlzbid0IHByb3ZpZGVkLCBvbmx5IGNsYW1wcyBmcm9tIHRoZSBib3R0b20uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5pbXVtIFRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsYW1wLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4aW11bSBUaGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gQSB2YWx1ZSBiZXR3ZWVuIG1pbmltdW0gYW5kIG1heGltdW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uY2xhbXAoMiwgNCwgNik7IC8vID0+IDRcbiAgICAgICAgICogXy5jbGFtcCgzLCAyLCA1KTsgLy8gPT4gM1xuICAgICAgICAgKiBfLmNsYW1wKDIsIDcsIDUpOyAvLyA9PiA1XG4gICAgICAgICAqL1xuXG4gICAgICAgIGNsYW1wOiBmdW5jdGlvbiBjbGFtcChtaW5pbXVtLCB2YWx1ZSwgbWF4aW11bSkge1xuXG4gICAgICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQobWluaW11bSkpIHtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IG1pbmltdW0pIHtcblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQobWF4aW11bSkpIHtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IG1heGltdW0pIHtcblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBlcmZvcm1zIGEgYmluYXJ5IGVhY2ggb2YgdGhlIGFycmF5XG4gICAgICAgICAqL1xuXG4gICAgICAgIGJ0RWFjaDogZnVuY3Rpb24gYnRFYWNoKGFyciwgY2FsbGJhY2ssIHN0YXJ0SW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gMCxcbiAgICAgICAgICAgICAgICBlbmQgPSBhcnIubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBfLmlzTnVtYmVyKHN0YXJ0SW5kZXgpID8gc3RhcnRJbmRleCA6IF8uY2VpbCgoc3RhcnQgKyBlbmQpIC8gMiksXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICB3aGlsZSAoc3RhcnQgPD0gZW5kKSB7XG5cbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBjYWxsYmFjay5jYWxsKGFycltjZW50ZXJdLCBjZW50ZXIsIGFycltjZW50ZXJdKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPCAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2VudGVyIC0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGNlbnRlciArIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRlciA9IF8uY2VpbCgoc3RhcnQgKyBlbmQpIC8gMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0cnVlXG4gICAgICAgICAqL1xuXG4gICAgICAgICd0cnVlJzogXy5jb25zdGFudCh0cnVlKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBmYWxzZVxuICAgICAgICAgKi9cblxuICAgICAgICAnZmFsc2UnOiBfLmNvbnN0YW50KGZhbHNlKVxuXG4gICAgfSk7XG59KShfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogeDogbm90aGluZywgaXQncyBoZXJlIGp1c3QgZm9yIGNvbXBhdGliaWxpdHksXG4vLyAgICAgIHQ6IGN1cnJlbnQgdGltZSxcbi8vICAgICAgYjogc3RhcnQgdmFsdWUsXG4vLyAgICAgIGM6IGVuZCB2YWx1ZSxcbi8vICAgICAgZDogZHVyYXRpb25cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEVBU0lORyAqL1xuXG4gICAgJC5lYXNpbmcgPSB7XG4gICAgICAgIGRlZjogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgc3dpbmc6IGZ1bmN0aW9uIHN3aW5nKHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiAkLmVhc2luZ1skLmVhc2luZy5kZWZdKHgsIHQsIGIsIGMsIGQpO1xuICAgICAgICB9LFxuICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uIGxpbmVhcih4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gKGMgLSBiKSAvIGQgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluUXVhZDogZnVuY3Rpb24gZWFzZUluUXVhZCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbiBlYXNlT3V0UXVhZCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiBlYXNlSW5PdXRRdWFkKHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKC0tdCAqICh0IC0gMikgLSAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiBlYXNlSW5DdWJpYyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbiBlYXNlSW5RdWFydCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiBlYXNlT3V0UXVhcnQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblF1aW50OiBmdW5jdGlvbiBlYXNlSW5RdWludCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24gZWFzZU91dFF1aW50KHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiBlYXNlSW5PdXRRdWludCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluU2luZTogZnVuY3Rpb24gZWFzZUluU2luZSh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiBlYXNlT3V0U2luZSh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbiBlYXNlSW5PdXRTaW5lKHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluRXhwbzogZnVuY3Rpb24gZWFzZUluRXhwbyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gdCA9PSAwID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiBlYXNlT3V0RXhwbyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gdCA9PSBkID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uIGVhc2VJbk91dEV4cG8oeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgICAgICBpZiAodCA9PSBkKSByZXR1cm4gYiArIGM7XG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gICAgICAgIH1cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vZWFzaW5nL2Vhc2luZy5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEpRVUVSWSBFWFRSQSAqL1xuXG4gICAgJC5yZWZsb3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy9JTkZPOiBSZXF1ZXN0aW5nIHRoZSBgb2Zmc2V0SGVpZ2h0YCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlZmxvdy4gTmVjZXNzYXJ5LCBzbyB0aGF0IHRoZSBkZWZlcnJlZCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGluIGFub3RoZXIgY3ljbGVcbiAgICB9O1xuXG4gICAgJC5ldmVudFhZID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKGV2ZW50LmlzUG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICAvL0lORk86IEhhcyBiZWVuIGNyZWF0ZWQgdXNpbmcgdGhlIGBQb2ludGVyYCBhYnN0cmFjdGlvblxuXG4gICAgICAgICAgICBldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC5icm93c2VyLmhhc1RvdWNoICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcykge1xuXG4gICAgICAgICAgICBldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFg6IGV2ZW50LnBhZ2VYLFxuICAgICAgICAgICAgWTogZXZlbnQucGFnZVlcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyogQ09NTU9OIE9CSkVDVFMgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHdpbmRvdy4kd2luZG93ID0gJCh3aW5kb3cpO1xuICAgICAgICB3aW5kb3cuJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG4gICAgICAgIHdpbmRvdy4kaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgd2luZG93LiRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgd2luZG93LiRlbXB0eSA9ICQoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBUTVBMIC0gaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1UZW1wbGF0ZXMgKi9cblxuLypcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICAgICAgRG9jdW1lbnRhdGlvbiAgICAgICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBJbnRlcnBvbGF0aW9uXG4gKlxuICogLSBCYXNpY1xuICogPGgzPnslPW8udGl0bGUlfTwvaDM+XG4gKlxuICogLSBVbmVzY2FwZWRcbiAqIDxoMz57JSNvLnVzZXJfaWQlfTwvaDM+XG4gKlxuICogLSBSZXN1bHQgb2YgZnVuY3Rpb24gY2FsbFxuICogPGEgaHJlZj1cInslPWVuY29kZVVSSShvLnVybCklfVwiPldlYnNpdGU8L2E+XG4gKlxuICogLSBOZXN0ZWQgcHJvcGVydGllc1xuICogPHN0cm9uZz57JT1vLmF1dGhvci5uYW1lJX08L3N0cm9uZz5cbiAqXG4gKiBFdmFsdWF0aW9uXG4gKlxuICogLSBQcmludFxuICogPHNwYW4+WWVhcjogeyUgdmFyIGQ9bmV3IERhdGUoKTsgcHJpbnQoZC5nZXRGdWxsWWVhcigpKTsgJX08L3NwYW4+XG4gKlxuICogLSBQcmludCB1bmVzY2FwZWRcbiAqIDxzcGFuPnslIHByaW50KFwiRmFzdCAmYW1wOyBwb3dlcmZ1bFwiLCB0cnVlKTsgJX08L3NwYW4+XG4gKlxuICogLSBJbmNsdWRlIGFub3RoZXIgdGVtcGxhdGVcbiAqIDxkaXY+XG4gKiAgICAgeyUgaW5jbHVkZSgndG1wbC1saW5rJywge25hbWU6IFwiV2Vic2l0ZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLm9yZ1wifSk7ICV9XG4gKiA8L2Rpdj5cbiAqXG4gKiAtIElmIGVsc2UgY29uZGl0aW9uXG4gKiB7JSBpZiAoby5hdXRob3IudXJsKSB7ICV9XG4gKiAgICAgPGEgaHJlZj1cInslPWVuY29kZVVSSShvLmF1dGhvci51cmwpJX1cIj57JT1vLmF1dGhvci5uYW1lJX08L2E+XG4gKiB7JSB9IGVsc2UgeyAlfVxuICogICAgIDxlbT5ObyBhdXRob3IgdXJsLjwvZW0+XG4gKiB7JSB9ICV9XG4gKlxuICogLSBGb3IgbG9vcFxuICogPHVsPlxuICogICAgIHslIGZvciAodmFyIGk9MDsgaTxvLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7ICV9XG4gKiAgICAgICAgIDxsaT57JT1vLmZlYXR1cmVzW2ldJX08L2xpPlxuICogICAgIHslIH0gJX1cbiAqIDwvdWw+XG4gKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUTVBMICovXG5cbiAgICB2YXIgdG1wbCA9IGZ1bmN0aW9uIHRtcGwoc3RyLCBkYXRhKSB7XG5cbiAgICAgICAgdmFyIGYgPSAhL1teXFx3XFwtXFwuOl0vLnRlc3Qoc3RyKSA/IHRtcGwuY2FjaGVbc3RyXSA9IHRtcGwuY2FjaGVbc3RyXSB8fCB0bXBsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0cikuaW5uZXJIVE1MKSA6IG5ldyBGdW5jdGlvbih0bXBsLmFyZyArICcsdG1wbCcsIFwidmFyIF9lPV8uZXNjYXBlXCIgKyB0bXBsLmhlbHBlciArIFwiLF9zPSdcIiArIHN0ci5yZXBsYWNlKHRtcGwucmVnZXhwLCB0bXBsLmZ1bmMpICsgXCInO3JldHVybiBfcztcIik7XG5cbiAgICAgICAgcmV0dXJuIGRhdGEgPyBmKGRhdGEsIHRtcGwpIDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGRhdGEsIHRtcGwpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB0bXBsLmNhY2hlID0ge307XG5cbiAgICB0bXBsLnJlZ2V4cCA9IC8oW1xccydcXFxcXSkoPyEoPzpbXntdfFxceyg/ISUpKSolXFx9KXwoPzpcXHslKD18IykoW1xcc1xcU10rPyklXFx9KXwoXFx7JSl8KCVcXH0pL2c7XG5cbiAgICB0bXBsLmZ1bmMgPSBmdW5jdGlvbiAocywgcDEsIHAyLCBwMywgcDQsIHA1KSB7XG5cbiAgICAgICAgaWYgKHAxKSB7XG4gICAgICAgICAgICAvLyB3aGl0ZXNwYWNlLCBxdW90ZSBhbmQgYmFja3NwYWNlIGluIEhUTUwgY29udGV4dFxuXG4gICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAnXFxuJzogJ1xcXFxuJyxcbiAgICAgICAgICAgICAgICAnXFxyJzogJ1xcXFxyJyxcbiAgICAgICAgICAgICAgICAnXFx0JzogJ1xcXFx0JyxcbiAgICAgICAgICAgICAgICAnICc6ICcgJ1xuICAgICAgICAgICAgfSlbcDFdIHx8ICdcXFxcJyArIHAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHAyKSB7XG4gICAgICAgICAgICAvLyBpbnRlcnBvbGF0aW9uOiB7JT1wcm9wJX0sIG9yIHVuZXNjYXBlZDogeyUjcHJvcCV9XG5cbiAgICAgICAgICAgIGlmIChwMiA9PT0gJz0nKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gXCInK19lKFwiICsgcDMgKyBcIikrJ1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gXCInKyhcIiArIHAzICsgXCI9PW51bGw/Jyc6XCIgKyBwMyArIFwiKSsnXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocDQpIHtcbiAgICAgICAgICAgIC8vIGV2YWx1YXRpb24gc3RhcnQgdGFnOiB7JVxuXG4gICAgICAgICAgICByZXR1cm4gXCInO1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHA1KSB7XG4gICAgICAgICAgICAvLyBldmFsdWF0aW9uIGVuZCB0YWc6ICV9XG5cbiAgICAgICAgICAgIHJldHVybiBcIl9zKz0nXCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdG1wbC5hcmcgPSAnbyc7XG5cbiAgICB0bXBsLmhlbHBlciA9IFwiLHByaW50PWZ1bmN0aW9uKHMsZSl7X3MrPWU/KHM9PW51bGw/Jyc6cyk6X2Uocyk7fSxpbmNsdWRlPWZ1bmN0aW9uKHMsZCl7X3MrPXRtcGwocyxkKTt9XCI7XG5cbiAgICAvKiBIRUxQRVIgKi9cblxuICAgICQudG1wbCA9IHRtcGw7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBkZXRlY3QgYnJvd3NlcnMsIHZlcnNpb25zLCBPU2VzLCBidXQuLi4gaXMgaXQgdXNlZnVsP1xuLy9UT0RPOiBkZXRlY3Q6IHdpbmRvd3MgcGhvbmUsIHNtYXJ0cGhvbmUsIHdpbmRvd3MsIGxpbnV4LCBzYWZhcmksIG9wZXJhLCBmaXJlZm94LCBsb3dlbmRcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgIC8qIEJST1dTRVIgKi9cblxuICAgICQuYnJvd3NlciA9IHtcbiAgICAgICAgaXNNb2JpbGU6IC9pcGhvbmV8aXBhZHxhbmRyb2lkfGlwb2R8b3BlcmEgbWluaXxvcGVyYSBtb2JpbGV8YmxhY2tiZXJyeXxpZW1vYmlsZXx3ZWJvc3x3aW5kb3dzIHBob25lfHBsYXlib29rfHRhYmxldHxraW5kbGUvaS50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzVGFibGV0OiAvaXBhZHxwbGF5Ym9va3x0YWJsZXR8a2luZGxlL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0FuZHJvaWQ6IC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0lPUzogLyhpcGhvbmV8aXBhZHxpcG9kKS9pLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNNYWM6IC9tYWMvaS50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzSUU6IC9tc2llIFtcXHcuXSsvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNDaHJvbWU6IC9jaHJvbWUvaS50ZXN0KHVzZXJBZ2VudClcbiAgICB9O1xuXG4gICAgJC5icm93c2VyLmhhc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICYmICEoJC5icm93c2VyLmlzQ2hyb21lICYmICEkLmJyb3dzZXIuaXNBbmRyb2lkKTsgLy9GSVhNRTogV2h5IGRvIHdlIG5lZWQgdGhlIHNlY29uZCBjaGVjaz8gRG8gb3RoZXIgbGlicmFyaWVzIGRvIHRoZSBzYW1lP1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgalF1ZXJ5LWV4dHJhLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL0ZJWE1FOiBSaWdodCBub3cgaG93IGNhbiB3ZSBiaW5kIGFuIGV2ZW50IGhhbmRsZXIgb24ganVzdCB0YXA/ICh3aGVuIGRvdWJsZXRhcCBkb2Vzbid0IGhhcHBlbiBsYXRlcilcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFBPSU5URVIgKi9cblxuICAgICQuUG9pbnRlciA9IHtcbiAgICAgICAgcHJlc3NEdXJhdGlvbjogMzAwLFxuICAgICAgICBkb3VibGVUYXBJbnRlcnZhbDogMzAwLFxuICAgICAgICBmbGlja0R1cmF0aW9uOiAxNTAsXG4gICAgICAgIG1vdGlvblRocmVzaG9sZDogNVxuICAgIH07XG5cbiAgICB2YXIgZXZlbnRzX25hbWVzID0gWyd0YXAnLCAnZGJsdGFwJywgJ3ByZXNzJywgJ2RyYWdzdGFydCcsICdkcmFnbW92ZScsICdkcmFnZW5kJywgJ2ZsaWNrJ10sXG4gICAgICAgIGV2ZW50c19uYW1lc3BhY2UgPSAncG9pbnRlcic7XG5cbiAgICBfLmVhY2goZXZlbnRzX25hbWVzLCBmdW5jdGlvbiAoZXZlbnRfbmFtZSkge1xuXG4gICAgICAgIHZhciBmdWxsX2V2ZW50ID0gZXZlbnRzX25hbWVzcGFjZSArIGV2ZW50X25hbWU7XG5cbiAgICAgICAgJC5Qb2ludGVyW2V2ZW50X25hbWVdID0gZnVsbF9ldmVudDtcblxuICAgICAgICAkLmZuW2V2ZW50X25hbWVdID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBmbiA/IHRoaXMub24oZnVsbF9ldmVudCwgZm4pIDogdGhpcy50cmlnZ2VyKGZ1bGxfZXZlbnQpO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyogVFJJR0dFUlMgKi9cblxuICAgIHZhciBzdGFydEV2ZW50cyA9ICQuYnJvd3Nlci5oYXNUb3VjaCA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nLFxuICAgICAgICBtb3ZlRXZlbnRzID0gJC5icm93c2VyLmhhc1RvdWNoID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgZW5kRXZlbnRzID0gJC5icm93c2VyLmhhc1RvdWNoID8gJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJyA6ICdtb3VzZXVwIG1vdXNlbGVhdmUnLFxuICAgICAgICAkaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxcbiAgICAgICAgc3RhcnRYWSxcbiAgICAgICAgbW92ZVhZLFxuICAgICAgICBkZWx0YVhZLFxuICAgICAgICBlbmRYWSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICAkdGFyZ2V0LFxuICAgICAgICBzdGFydF90aW1lc3RhbXAsXG4gICAgICAgIGVuZF90aW1lc3RhbXAsXG4gICAgICAgIHByZXZfdGFwX3RpbWVzdGFtcCA9IDAsXG4gICAgICAgIG1vdGlvbixcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgcHJlc3NfdGltZW91dDtcblxuICAgIHZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUsIG9yaWdpbmFsRXZlbnQpIHtcblxuICAgICAgICB2YXIgZXZlbnQgPSAkLkV2ZW50KG5hbWUpO1xuXG4gICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICBldmVudC5pc1BvaW50ZXJFdmVudCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH07XG5cbiAgICB2YXIgc3RhcnRIYW5kbGVyID0gZnVuY3Rpb24gc3RhcnRIYW5kbGVyKGV2ZW50KSB7XG5cbiAgICAgICAgc3RhcnRYWSA9ICQuZXZlbnRYWShldmVudCk7XG5cbiAgICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAkdGFyZ2V0ID0gJCh0YXJnZXQpO1xuXG4gICAgICAgIHN0YXJ0X3RpbWVzdGFtcCA9IGV2ZW50LnRpbWVTdGFtcCB8fCBfLm5vdygpO1xuXG4gICAgICAgIG1vdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIHByZXNzX3RpbWVvdXQgPSBzZXRUaW1lb3V0KF8ud3JhcChldmVudCwgcHJlc3NIYW5kbGVyKSwgJC5Qb2ludGVyLnByZXNzRHVyYXRpb24pO1xuXG4gICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIuZHJhZ3N0YXJ0LCBldmVudCksIHtcbiAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGh0bWwub24obW92ZUV2ZW50cywgbW92ZUhhbmRsZXIpO1xuICAgICAgICAkaHRtbC5vbihlbmRFdmVudHMsIGVuZEhhbmRsZXIpO1xuICAgIH07XG5cbiAgICB2YXIgcHJlc3NIYW5kbGVyID0gZnVuY3Rpb24gcHJlc3NIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIC8vRklYTUU6IGl0IGRvZXNuJ3QgZ2V0IGNhbGxlZCBpZiB3ZSBkbyBldmVudC5wcmV2ZW50RGVmYXVsdCAoKSB3aXRoIGRyYWdzdGFydFxuXG4gICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIucHJlc3MsIGV2ZW50KSk7XG4gICAgfTtcblxuICAgIHZhciBtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIG1vdmVIYW5kbGVyKGV2ZW50KSB7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHByZXNzX3RpbWVvdXQpO1xuXG4gICAgICAgIG1vdmVYWSA9ICQuZXZlbnRYWShldmVudCk7XG5cbiAgICAgICAgZGVsdGFYWSA9IHtcbiAgICAgICAgICAgIFg6IG1vdmVYWS5YIC0gc3RhcnRYWS5YLFxuICAgICAgICAgICAgWTogbW92ZVhZLlkgLSBzdGFydFhZLllcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGFYWS5YKSA+ICQuUG9pbnRlci5tb3Rpb25UaHJlc2hvbGQgfHwgTWF0aC5hYnMoZGVsdGFYWS5ZKSA+ICQuUG9pbnRlci5tb3Rpb25UaHJlc2hvbGQpIHtcblxuICAgICAgICAgICAgbW90aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgJHRhcmdldC50cmlnZ2VyKGNyZWF0ZUV2ZW50KCQuUG9pbnRlci5kcmFnbW92ZSwgZXZlbnQpLCB7XG4gICAgICAgICAgICAgICAgc3RhcnRYWTogc3RhcnRYWSxcbiAgICAgICAgICAgICAgICBtb3ZlWFk6IG1vdmVYWSxcbiAgICAgICAgICAgICAgICBkZWx0YVhZOiBkZWx0YVhZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZW5kSGFuZGxlciA9IGZ1bmN0aW9uIGVuZEhhbmRsZXIoZXZlbnQpIHtcblxuICAgICAgICBjbGVhclRpbWVvdXQocHJlc3NfdGltZW91dCk7XG5cbiAgICAgICAgZW5kWFkgPSAkLmV2ZW50WFkoZXZlbnQpO1xuICAgICAgICBkZWx0YVhZID0ge1xuICAgICAgICAgICAgWDogZW5kWFkuWCAtIHN0YXJ0WFkuWCxcbiAgICAgICAgICAgIFk6IGVuZFhZLlkgLSBzdGFydFhZLllcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBldmVudC50YXJnZXQpIHtcblxuICAgICAgICAgICAgZW5kX3RpbWVzdGFtcCA9IGV2ZW50LnRpbWVTdGFtcCB8fCBfLm5vdygpO1xuXG4gICAgICAgICAgICBpZiAoISQuYnJvd3Nlci5oYXNUb3VjaCB8fCAhbW90aW9uKSB7XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIoY3JlYXRlRXZlbnQoJC5Qb2ludGVyLnRhcCwgZXZlbnQpKTtcblxuICAgICAgICAgICAgICAgIGlmIChlbmRfdGltZXN0YW1wIC0gcHJldl90YXBfdGltZXN0YW1wIDw9ICQuUG9pbnRlci5kb3VibGVUYXBJbnRlcnZhbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIuZGJsdGFwLCBldmVudCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZXZfdGFwX3RpbWVzdGFtcCA9IGVuZF90aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb3Rpb24gJiYgZW5kX3RpbWVzdGFtcCAtIHN0YXJ0X3RpbWVzdGFtcCA8PSAkLlBvaW50ZXIuZmxpY2tEdXJhdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhWFkuWCkgPiBNYXRoLmFicyhkZWx0YVhZLlkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCc7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGRlbHRhWFkuWCA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCc7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGRlbHRhWFkuWSA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHRhcmdldC50cmlnZ2VyKGNyZWF0ZUV2ZW50KCQuUG9pbnRlci5mbGljaywgZXZlbnQpLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICAgICAgICAgIGVuZFhZOiBlbmRYWSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJGh0bWwub2ZmKG1vdmVFdmVudHMsIG1vdmVIYW5kbGVyKTtcbiAgICAgICAgJGh0bWwub2ZmKGVuZEV2ZW50cywgZW5kSGFuZGxlcik7XG5cbiAgICAgICAgJHRhcmdldC50cmlnZ2VyKGNyZWF0ZUV2ZW50KCQuUG9pbnRlci5kcmFnZW5kLCBldmVudCksIHtcbiAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICBlbmRYWTogZW5kWFksXG4gICAgICAgICAgICBkZWx0YVhZOiBkZWx0YVhZXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkaHRtbC5vbihzdGFydEV2ZW50cywgc3RhcnRIYW5kbGVyKTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIF90cmlnZ2VyIC0+IHByZXZlbnREZWZhdWx0XG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBCQVNFIFdJREdFVCAqL1xuXG4gICAgJC5XaWRnZXQgPSBmdW5jdGlvbiAoKSAvKiBvcHRpb25zLCBlbGVtZW50ICove307XG5cbiAgICAkLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnMgPSBbXTtcblxuICAgICQuV2lkZ2V0LnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICB3aWRnZXRPcmlnaW5hbE5hbWU6ICd3aWRnZXQnLFxuICAgICAgICB3aWRnZXROYW1lOiAnd2lkZ2V0JyxcbiAgICAgICAgd2lkZ2V0RnVsbE5hbWU6ICd3aWRnZXQnLFxuXG4gICAgICAgIGRlZmF1bHRFbGVtZW50OiBmYWxzZSxcbiAgICAgICAgdGVtcGxhdGVzOiB7fSwgLy9JTkZPOiBUaGUgYGJhc2VgIHRlbXBsYXRlIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29uc3RydWN0b3JcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7fVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFdJREdFVCBGVU5DVElPTlMgKi9cblxuICAgICAgICBfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiBfY3JlYXRlV2lkZ2V0KG9wdGlvbnMsIGVsZW1lbnQpIHtcblxuICAgICAgICAgICAgLy8gVkFSSUFCTEVTXG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25UeXBlID0gZWxlbWVudCA/ICdlbGVtZW50JyA6IHRoaXMuZGVmYXVsdEVsZW1lbnQgPyAnaHRtbCcgOiB0aGlzLnRlbXBsYXRlcy5iYXNlID8gJ3RlbXBsYXRlJyA6ICdub25lJztcblxuICAgICAgICAgICAgLyogRVhURU5EIE9QVElPTlMgKi9cblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gXy5tZXJnZSh7fSwgdGhpcy5vcHRpb25zLCB0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXphdGlvblR5cGUgPT09ICdlbGVtZW50Jykge1xuXG4gICAgICAgICAgICAgICAgXy5tZXJnZSh0aGlzLm9wdGlvbnMsICQoZWxlbWVudCkuZGF0YSh0aGlzLndpZGdldE5hbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSU5JVCBFTEVNRU5UXG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQgfHwgdGhpcy5kZWZhdWx0RWxlbWVudCB8fCAodGhpcy50ZW1wbGF0ZXMuYmFzZSA/IHRoaXMuX3RtcGwoJ2Jhc2UnLCB0aGlzLm9wdGlvbnMpIDogZmFsc2UpIHx8IHRoaXMpLmdldCgwKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLmd1aWQgPSBfLnVuaXF1ZUlkKCk7XG5cbiAgICAgICAgICAgIC8vIERJU0FCTEVEXG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNhYmxlZCA/IG9wdGlvbnMuZGlzYWJsZWQgOiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKHRoaXMud2lkZ2V0TmFtZSArICctZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgLy8gU0FWSU5HIElOU1RBTkNFXG5cbiAgICAgICAgICAgICQuZGF0YSh0aGlzLmVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUsIHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBPTiAkRUxFTUVOVCBSRU1PVkUgLT4gV0lER0VUIERFU1RST1lcblxuICAgICAgICAgICAgdGhpcy5fb24odHJ1ZSwgdGhpcy4kZWxlbWVudCwgJ3JlbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5lbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIENBTExCQUNLUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY3JlYXRlJywgdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpO1xuXG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZXMoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0Q3JlYXRlT3B0aW9uczogXy5ub29wLFxuICAgICAgICBfZ2V0Q3JlYXRlRXZlbnREYXRhOiBfLm5vb3AsXG4gICAgICAgIF9jcmVhdGU6IF8ubm9vcCxcbiAgICAgICAgX3ZhcmlhYmxlczogXy5ub29wLFxuICAgICAgICBfaW5pdDogXy5ub29wLFxuICAgICAgICBfZXZlbnRzOiBfLm5vb3AsXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblxuICAgICAgICAgICAgdGhpcy5fZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAkLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LCB0aGlzLndpZGdldEZ1bGxOYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZGVzdHJveTogXy5ub29wLFxuXG4gICAgICAgIHdpZGdldDogZnVuY3Rpb24gd2lkZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TIEZVTkNUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbjogZnVuY3Rpb24gb3B0aW9uKGtleSwgdmFsdWUpIHtcblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGtleSxcbiAgICAgICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgICAgICBjdXJPcHRpb24sXG4gICAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgbmVzdGVkIGtleXMsIGUuZy4sIFwiZm9vLmJhclwiID0+IHsgZm9vOiB7IGJhcjogX19fIH0gfVxuXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIHBhcnRzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAga2V5ID0gcGFydHMuc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb24gPSBvcHRpb25zW2tleV0gPSBfLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zW2tleV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyT3B0aW9uW3BhcnRzW2ldXSA9IGN1ck9wdGlvbltwYXJ0c1tpXV0gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb24gPSBjdXJPcHRpb25bcGFydHNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcGFydHMucG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1ck9wdGlvbltrZXldID09PSB1bmRlZmluZWQgPyBudWxsIDogY3VyT3B0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb25ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRPcHRpb25zOiBmdW5jdGlvbiBfc2V0T3B0aW9ucyhvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRPcHRpb24oa2V5LCBvcHRpb25zW2tleV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiBfc2V0T3B0aW9uKGtleSwgdmFsdWUpIHtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2Rpc2FibGVkJykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLndpZGdldE5hbWUgKyAnLWRpc2FibGVkJywgISF2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEVOQUJMSU5HIC8gRElTQUJMSU5HICovXG5cbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IHRydWUgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogRVZFTlRTICovXG5cbiAgICAgICAgX29uOiBmdW5jdGlvbiBfb24oc3VwcHJlc3NEaXNhYmxlZENoZWNrLCAkZWxlbWVudCwgZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlcikge1xuXG4gICAgICAgICAgICAvL1RPRE86IEFkZCBzdXBwb3J0IGZvciBjdXN0b20gZGF0YVxuXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gJ2Jvb2xlYW4nKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSBzdXBwcmVzc0Rpc2FibGVkQ2hlY2s7XG4gICAgICAgICAgICAgICAgc3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKCRlbGVtZW50IGluc3RhbmNlb2YgJCkpIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGV2ZW50cztcbiAgICAgICAgICAgICAgICBldmVudHMgPSAkZWxlbWVudDtcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RvciAmJiAhaGFuZGxlcikge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXIgPSBfLmlzU3RyaW5nKGhhbmRsZXIpID8gdGhpc1toYW5kbGVyXSA6IGhhbmRsZXI7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblxuICAgICAgICAgICAgICAgIGlmICghc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmIChpbnN0YW5jZS5vcHRpb25zLmRpc2FibGVkIHx8IGluc3RhbmNlLiRlbGVtZW50Lmhhc0NsYXNzKGluc3RhbmNlLndpZGdldE5hbWUgKyAnLWRpc2FibGVkJykpKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IF8uc2xpY2UoYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFuZGxlclByb3h5Lmd1aWQgPSBoYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQgfHwgaGFuZGxlclByb3h5Lmd1aWQgfHwgJC5ndWlkKys7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQub24oZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlclByb3h5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbihldmVudHMsIGhhbmRsZXJQcm94eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29mZjogZnVuY3Rpb24gX29mZigkZWxlbWVudCwgZXZlbnRzLCBoYW5kbGVyKSB7XG5cbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IGV2ZW50cztcbiAgICAgICAgICAgICAgICBldmVudHMgPSAkZWxlbWVudDtcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXIgPSBfLmlzU3RyaW5nKGhhbmRsZXIpID8gdGhpc1toYW5kbGVyXSA6IGhhbmRsZXI7XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9mZihldmVudHMsIGhhbmRsZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF90cmlnZ2VyOiBmdW5jdGlvbiBfdHJpZ2dlcihldmVudHMsIGRhdGEpIHtcblxuICAgICAgICAgICAgZGF0YSA9IGRhdGEgfHwge307XG5cbiAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBlaSA9IDAsIGVsID0gZXZlbnRzLmxlbmd0aDsgZWkgPCBlbDsgZWkrKykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHRoaXMud2lkZ2V0TmFtZSArICc6JyArIGV2ZW50c1tlaV0sIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY2FsbGJhY2tzW2V2ZW50c1tlaV1dID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrc1tldmVudHNbZWldXS5jYWxsKHRoaXMuZWxlbWVudCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIERFTEFZSU5HICovXG5cbiAgICAgICAgX2RlbGF5OiBmdW5jdGlvbiBfZGVsYXkoaGFuZGxlciwgZGVsYXkpIHtcblxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlci5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFRFTVBMQVRFICovXG5cbiAgICAgICAgX3RtcGw6IGZ1bmN0aW9uIF90bXBsKG5hbWUsIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgcmV0dXJuICQudG1wbCh0aGlzLndpZGdldE9yaWdpbmFsTmFtZSArICcuJyArIG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE1BTklQVUxBVElPTiAqL1xuXG4gICAgICAgIGluc2VydEJlZm9yZTogZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHNlbGVjdG9yKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uIGluc2VydEFmdGVyKHNlbGVjdG9yKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuaW5zZXJ0QWZ0ZXIoc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBwcmVwZW5kVG86IGZ1bmN0aW9uIHByZXBlbmRUbyhzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnByZXBlbmRUbyhzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFwcGVuZFRvOiBmdW5jdGlvbiBhcHBlbmRUbyhzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFwcGVuZFRvKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgIH07XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyBiYXNlX3dpZGdldC5qc1xuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBXSURHRVQgRkFDVE9SWSAqL1xuXG4gICAgJC53aWRnZXQgPSBmdW5jdGlvbiAob3JpZ2luYWxOYW1lLCBiYXNlLCBwcm90b3R5cGUpIHtcblxuICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICB2YXIgZnVsbE5hbWUsXG4gICAgICAgICAgICBleGlzdGluZ0NvbnN0cnVjdG9yLFxuICAgICAgICAgICAgY29uc3RydWN0b3IsXG4gICAgICAgICAgICBiYXNlUHJvdG90eXBlLFxuICAgICAgICAgICAgcHJveGllZFByb3RvdHlwZSA9IHt9LFxuICAgICAgICAgICAgbmFtZVBhcnRzID0gb3JpZ2luYWxOYW1lLnNwbGl0KCcuJyksXG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBuYW1lUGFydHMubGVuZ3RoID4gMSA/IG5hbWVQYXJ0c1swXSA6IGZhbHNlLFxuICAgICAgICAgICAgbmFtZSA9IG5hbWVQYXJ0cy5sZW5ndGggPiAxID8gbmFtZVBhcnRzWzFdIDogbmFtZVBhcnRzWzBdO1xuXG4gICAgICAgIGZ1bGxOYW1lID0gbmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJy0nICsgbmFtZSA6IG5hbWU7XG5cbiAgICAgICAgLyogTk8gQkFTRSAqL1xuXG4gICAgICAgIGlmICghcHJvdG90eXBlKSB7XG5cbiAgICAgICAgICAgIHByb3RvdHlwZSA9IGJhc2U7XG4gICAgICAgICAgICBiYXNlID0gJC5XaWRnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBOQU1FU1BBQ0UgKi9cblxuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG5cbiAgICAgICAgICAgICRbbmFtZXNwYWNlXSA9ICRbbmFtZXNwYWNlXSB8fCB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIENPTlNUUlVDVE9SICovXG5cbiAgICAgICAgZXhpc3RpbmdDb25zdHJ1Y3RvciA9IG5hbWVzcGFjZSA/ICRbbmFtZXNwYWNlXVtuYW1lXSA6ICRbbmFtZV07XG5cbiAgICAgICAgY29uc3RydWN0b3IgPSBmdW5jdGlvbiAob3B0aW9ucywgZWxlbWVudCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NyZWF0ZVdpZGdldCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3RvcihvcHRpb25zLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVdpZGdldChvcHRpb25zLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG5cbiAgICAgICAgICAgICRbbmFtZXNwYWNlXVtuYW1lXSA9IGNvbnN0cnVjdG9yO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAkW25hbWVdID0gY29uc3RydWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWFRFTkRJTkcgQ09OU1RSVUNUT1IgSU4gT1JERVIgVE8gQ0FSUlkgT1ZFUiBTVEFUSUMgUFJPUEVSVElFUyAqL1xuXG4gICAgICAgIF8uZXh0ZW5kKGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLCB7XG4gICAgICAgICAgICBfcHJvdG86IF8uZXh0ZW5kKHt9LCBwcm90b3R5cGUpLFxuICAgICAgICAgICAgX2NoaWxkQ29uc3RydWN0b3JzOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICAvKiBCQVNFIFBST1RPVFlQRSAqL1xuXG4gICAgICAgIGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSgpO1xuXG4gICAgICAgIGJhc2VQcm90b3R5cGUub3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMpOyAvL0lORk86IFdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZSBvdGhlcndpc2Ugd2UnbGwgbW9kaWZ5IHRoZSBvcHRpb25zIGhhc2ggb24gdGhlIHByb3RvdHlwZSB0aGF0IHdlJ3JlIGluaGVyaXRpbmcgZnJvbVxuXG4gICAgICAgIC8qIFBST1hJRUQgUFJPVE9UWVBFICovXG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm90b3R5cGUpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm90b3R5cGVbcHJvcF0gIT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgIHByb3hpZWRQcm90b3R5cGVbcHJvcF0gPSBwcm90b3R5cGVbcHJvcF07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb3hpZWRQcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24gKHByb3ApIHtcblxuICAgICAgICAgICAgICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiBfc3VwZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLnByb3RvdHlwZVtwcm9wXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF9zdXBlckFwcGx5ID0gZnVuY3Rpb24gX3N1cGVyQXBwbHkoYXJncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5wcm90b3R5cGVbcHJvcF0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fc3VwZXJBcHBseSA9IHRoaXMuX3N1cGVyQXBwbHksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdXBlciA9IF9zdXBlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXJBcHBseSA9IF9zdXBlckFwcGx5O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gcHJvdG90eXBlW3Byb3BdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdXBlckFwcGx5ID0gX19zdXBlckFwcGx5O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkocHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDT05TVFJVQ1RPUiBQUk9UT1RZUEUgKi9cblxuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBfLmV4dGVuZChiYXNlUHJvdG90eXBlLCBwcm94aWVkUHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG4gICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHdpZGdldE9yaWdpbmFsTmFtZTogb3JpZ2luYWxOYW1lLFxuICAgICAgICAgICAgd2lkZ2V0TmFtZTogbmFtZSxcbiAgICAgICAgICAgIHdpZGdldEZ1bGxOYW1lOiBmdWxsTmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICAvKiBDQUNIRSBURU1QTEFURVMgKi9cblxuICAgICAgICBmb3IgKHZhciB0bXBsX25hbWUgaW4gcHJvdG90eXBlLnRlbXBsYXRlcykge1xuXG4gICAgICAgICAgICAkLnRtcGwuY2FjaGVbb3JpZ2luYWxOYW1lICsgJy4nICsgdG1wbF9uYW1lXSA9ICQudG1wbChwcm90b3R5cGUudGVtcGxhdGVzW3RtcGxfbmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVVBEQVRFIFBST1RPVFlQRSBDSEFJTiAqL1xuXG4gICAgICAgIGlmIChleGlzdGluZ0NvbnN0cnVjdG9yKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm90b3R5cGUgPSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9yc1tpXS5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAkLndpZGdldChjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgPyBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyAnLicgKyBjaGlsZFByb3RvdHlwZS53aWRnZXROYW1lIDogY2hpbGRQcm90b3R5cGUud2lkZ2V0TmFtZSwgY29uc3RydWN0b3IsIGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzW2ldLl9wcm90byk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYmFzZS5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChjb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDT05TVFJVQ1QgKi9cblxuICAgICAgICAkLndpZGdldC5icmlkZ2UobmFtZSwgY29uc3RydWN0b3IpO1xuXG4gICAgICAgIC8qIFJFVFVSTiAqL1xuXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICB9O1xuXG4gICAgJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24gKG5hbWUsIG9iamVjdCkge1xuXG4gICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgIHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblxuICAgICAgICAvKiBQTFVHSU4gKi9cblxuICAgICAgICAkLmZuW25hbWVdID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwICYmICFvYmplY3QucHJvdG90eXBlLmRlZmF1bHRFbGVtZW50ICYmICFvYmplY3QucHJvdG90eXBlLnRlbXBsYXRlcy5iYXNlKSByZXR1cm47IC8vSU5GTzogbm90aGluZyB0byB3b3JrIG9uIC8vRklYTUU6IGNyZWF0ZSB0aGUgZmlyc3QgZWxlbWVudCB3aXRoIHRoZSBkZWZhdWx0RWxlbWVudCBvciB0aGUgdGVtcGxhdGVzLmJhc2Ugb3B0aW9ucywgdGhlbiBhZGQgdGhlIGluc3RhbmNlIHRvIGhpbVxuXG4gICAgICAgICAgICB2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBfLnRhaWwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChpc01ldGhvZENhbGwpIHtcblxuICAgICAgICAgICAgICAgIC8qIE1FVEhPRCBDQUxMICovXG5cbiAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gJC5kYXRhKHRoaXMsIGZ1bGxOYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiBHRVRUSU5HIElOU1RBTkNFICovXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT09ICdpbnN0YW5jZScpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyogQ0hFQ0tJTkcgVkFMSUQgQ0FMTCAqL1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHJldHVybjsgLy9JTkZPOiBObyBpbnN0YW5jZSBmb3VuZFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gJ2Z1bmN0aW9uJykgfHwgb3B0aW9ucy5jaGFyQXQoMCkgPT09ICdfJykgcmV0dXJuOyAvL0lORk86IFByaXZhdGUgbWV0aG9kXG5cbiAgICAgICAgICAgICAgICAgICAgLyogQ0FMTElORyAqL1xuXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZFZhbHVlID0gaW5zdGFuY2Vbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAvKiBTVVBQT1JUIEZPUiBQQVNTSU5HIE1VTFRJUExFIE9QVElPTlMgT0JKRUNUUyAqL1xuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kLmFwcGx5KG51bGwsIFtvcHRpb25zXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIElOU1RBTkNJQVRJTkcgKi9cblxuICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogR0VUIElOU1RBTkNFICovXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gJC5kYXRhKHRoaXMsIGZ1bGxOYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uub3B0aW9uKG9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgZnVsbE5hbWUsIG5ldyBvYmplY3Qob3B0aW9ucywgdGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfTtcbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgbG9kYXNoLWV4dHJhLmpzXG4gKiBAcmVxdWlyZXMgalF1ZXJ5LWV4dHJhLmpzXG4gKiBAcmVxdWlyZXMgdG1wbC5qc1xuICogQHJlcXVpcmVzIGJyb3dzZXIuanNcbiAqIEByZXF1aXJlcyBwb2ludGVyLmpzXG4gKiBAcmVxdWlyZXMgYmFzZV93aWRnZXQuanNcbiAqIEByZXF1aXJlcyB3aWRnZXQuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVSSAqL1xuXG4gICAgJC51aSA9IHtcbiAgICAgICAga2V5Q29kZToge1xuICAgICAgICAgICAgQkFDS1NQQUNFOiA4LFxuICAgICAgICAgICAgQ09NTUE6IDE4OCxcbiAgICAgICAgICAgIERFTEVURTogNDYsXG4gICAgICAgICAgICBET1dOOiA0MCxcbiAgICAgICAgICAgIEVORDogMzUsXG4gICAgICAgICAgICBFTlRFUjogMTMsXG4gICAgICAgICAgICBFU0NBUEU6IDI3LFxuICAgICAgICAgICAgSE9NRTogMzYsXG4gICAgICAgICAgICBMRUZUOiAzNyxcbiAgICAgICAgICAgIFBBR0VfRE9XTjogMzQsXG4gICAgICAgICAgICBQQUdFX1VQOiAzMyxcbiAgICAgICAgICAgIFBFUklPRDogMTkwLFxuICAgICAgICAgICAgUklHSFQ6IDM5LFxuICAgICAgICAgICAgU1BBQ0U6IDMyLFxuICAgICAgICAgICAgVEFCOiA5LFxuICAgICAgICAgICAgVVA6IDM4XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlQnV0dG9uOiB7XG4gICAgICAgICAgICBMRUZUOiAwLFxuICAgICAgICAgICAgTUlERExFOiAxLFxuICAgICAgICAgICAgUklHSFQ6IDJcbiAgICAgICAgfVxuICAgIH07XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogT25seSB3b3JrcyB3aXRoIGBib3gtc2l6aW5nOiBib3JkZXItYm94YFxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQVVUT0dST1cgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uYXV0b2dyb3cnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbmltdW1fd2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5pbXVtX2hlaWdodDogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGdyb3dhYmxlID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pc0lucHV0ID0gdGhpcy4kZ3Jvd2FibGUuaXMoJ2lucHV0Jyk7XG4gICAgICAgICAgICB0aGlzLmlzVGV4dGFyZWEgPSB0aGlzLiRncm93YWJsZS5pcygndGV4dGFyZWEnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2lucHV0IGNoYW5nZScsIHRoaXMudXBkYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBJTlBVVCAqL1xuXG4gICAgICAgIF91cGRhdGVfaW5wdXRfd2lkdGg6IGZ1bmN0aW9uIF91cGRhdGVfaW5wdXRfd2lkdGgoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZWVkZWRfd2lkdGggPSB0aGlzLl9nZXRfaW5wdXRfbmVlZGVkX3dpZHRoKHRoaXMuJGdyb3dhYmxlKTtcblxuICAgICAgICAgICAgdGhpcy4kZ3Jvd2FibGUud2lkdGgoTWF0aC5tYXgobmVlZGVkX3dpZHRoLCB0aGlzLm9wdGlvbnMubWluaW11bV93aWR0aCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfaW5wdXRfbmVlZGVkX3dpZHRoOiBmdW5jdGlvbiBfZ2V0X2lucHV0X25lZWRlZF93aWR0aCgpIHtcblxuICAgICAgICAgICAgdmFyICRzcGFuID0gJCgnPHNwYW4+JyArIHRoaXMuJGdyb3dhYmxlLnZhbCgpICsgJzwvc3Bhbj4nKTtcblxuICAgICAgICAgICAgJHNwYW4uY3NzKHtcbiAgICAgICAgICAgICAgICBmb250OiB0aGlzLiRncm93YWJsZS5jc3MoJ2ZvbnQnKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNwYW4uYXBwZW5kVG8oJGJvZHkpO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkc3Bhbi53aWR0aCgpO1xuXG4gICAgICAgICAgICAkc3Bhbi5yZW1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFRFWFRBUkVBICovXG5cbiAgICAgICAgX3VwZGF0ZV90ZXh0YXJlYV9oZWlnaHQ6IGZ1bmN0aW9uIF91cGRhdGVfdGV4dGFyZWFfaGVpZ2h0KCkge1xuXG4gICAgICAgICAgICB2YXIgbmVlZGVkX2hlaWdodCA9IHRoaXMuJGdyb3dhYmxlLmhlaWdodCgxKS5nZXQoMCkuc2Nyb2xsSGVpZ2h0IC0gcGFyc2VGbG9hdCh0aGlzLiRncm93YWJsZS5jc3MoJ3BhZGRpbmctdG9wJykpIC0gcGFyc2VGbG9hdCh0aGlzLiRncm93YWJsZS5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xuXG4gICAgICAgICAgICB0aGlzLiRncm93YWJsZS5oZWlnaHQoTWF0aC5tYXgobmVlZGVkX2hlaWdodCwgdGhpcy5vcHRpb25zLm1pbmltdW1faGVpZ2h0KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5wdXQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dF93aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUZXh0YXJlYSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RleHRhcmVhX2hlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2lucHV0LmF1dG9ncm93LCB0ZXh0YXJlYS5hdXRvZ3JvdywgLmlucHV0LXdycC5hdXRvZ3JvdyBpbnB1dCwgLnRleHRhcmVhLXdycC5hdXRvZ3JvdyB0ZXh0YXJlYScpLmF1dG9ncm93KCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBBQ0NPUkRJT04gKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uYWNjb3JkaW9uJywge1xuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRhY2NvcmRpb24gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXJzID0gdGhpcy4kYWNjb3JkaW9uLmNoaWxkcmVuKCcuZXhwYW5kZXInKTtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzID0gQXJyYXkodGhpcy4kZXhwYW5kZXJzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IHRoaXMuJGFjY29yZGlvbi5oYXNDbGFzcygnbXVsdGlwbGUnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy4kZXhwYW5kZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzW2ldID0gdGhpcy4kZXhwYW5kZXJzLmVxKGkpLmV4cGFuZGVyKCdpbnN0YW5jZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdleHBhbmRlcjpvcGVuJywgJy5leHBhbmRlcicsIHRoaXMuX2hhbmRsZXJfb3Blbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BFTiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX29wZW46IGZ1bmN0aW9uIF9oYW5kbGVyX29wZW4oZXZlbnQsIGRhdGEsIG5vZGUpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy4kZXhwYW5kZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRleHBhbmRlcnNbaV0gIT09IG5vZGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzW2ldLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoaW5kZXgpIHtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzW2luZGV4XS50b2dnbGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVBbGw6IGZ1bmN0aW9uIHRvZ2dsZUFsbCgpIHtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS50b2dnbGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oaW5kZXgpIHtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzW2luZGV4XS5vcGVuKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbkFsbDogZnVuY3Rpb24gb3BlbkFsbCgpIHtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5vcGVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoaW5kZXgpIHtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzW2luZGV4XS5jbG9zZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlQWxsOiBmdW5jdGlvbiBjbG9zZUFsbCgpIHtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5hY2NvcmRpb24nKS5hY2NvcmRpb24oKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEJMVVIgKi9cblxuICAgICQuZm4uYmx1cnJlZCA9IGZ1bmN0aW9uIChmb3JjZSkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUNsYXNzKCdibHVycmVkJywgZm9yY2UpO1xuICAgIH07XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2xvZGFzaC1leHRyYS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEJJTkFSWSBUUkVFIC5lYWNoICgpICovXG5cbiAgICAkLmZuLmJ0RWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc3RhcnRJbmRleCkge1xuXG4gICAgICAgIHJldHVybiBfLmJ0RWFjaCh0aGlzLCBjYWxsYmFjaywgc3RhcnRJbmRleCk7XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQ09MT1IgSEVMUEVSICovXG5cbiAgICB3aW5kb3cuQ29sb3JIZWxwZXIgPSB7XG5cbiAgICAgICAgLyogQ09MT1IgU1BBQ0VTIENPTlZFUlRFUlMgKi9cblxuICAgICAgICBoZXgycmdiOiBmdW5jdGlvbiBoZXgycmdiKGhleCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHRoaXMuaGV4MmRlYyhoZXguciksXG4gICAgICAgICAgICAgICAgZzogdGhpcy5oZXgyZGVjKGhleC5nKSxcbiAgICAgICAgICAgICAgICBiOiB0aGlzLmhleDJkZWMoaGV4LmIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGhleDJoc3Y6IGZ1bmN0aW9uIGhleDJoc3YoaGV4KSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJnYjJoc3YodGhpcy5oZXgycmdiKGhleCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJnYjJoZXg6IGZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogdGhpcy5kZWMyaGV4KHJnYi5yKSxcbiAgICAgICAgICAgICAgICBnOiB0aGlzLmRlYzJoZXgocmdiLmcpLFxuICAgICAgICAgICAgICAgIGI6IHRoaXMuZGVjMmhleChyZ2IuYilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmdiMmhzdjogZnVuY3Rpb24gcmdiMmhzdihyZ2IpIHtcblxuICAgICAgICAgICAgdmFyIHIgPSByZ2IuciAvIDI1NSxcbiAgICAgICAgICAgICAgICBnID0gcmdiLmcgLyAyNTUsXG4gICAgICAgICAgICAgICAgYiA9IHJnYi5iIC8gMjU1LFxuICAgICAgICAgICAgICAgIGgsXG4gICAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgICB2ID0gTWF0aC5tYXgociwgZywgYiksXG4gICAgICAgICAgICAgICAgZGlmZiA9IHYgLSBNYXRoLm1pbihyLCBnLCBiKSxcbiAgICAgICAgICAgICAgICBkaWZmYyA9IGZ1bmN0aW9uIGRpZmZjKGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHYgLSBjKSAvIDYgLyBkaWZmICsgMSAvIDI7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZGlmZiA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgaCA9IHMgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHMgPSBkaWZmIC8gdjtcblxuICAgICAgICAgICAgICAgIHZhciByciA9IGRpZmZjKHIpLFxuICAgICAgICAgICAgICAgICAgICBnZyA9IGRpZmZjKGcpLFxuICAgICAgICAgICAgICAgICAgICBiYiA9IGRpZmZjKGIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHIgPT09IHYpIHtcblxuICAgICAgICAgICAgICAgICAgICBoID0gYmIgLSBnZztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGcgPT09IHYpIHtcblxuICAgICAgICAgICAgICAgICAgICBoID0gMSAvIDMgKyByciAtIGJiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gdikge1xuXG4gICAgICAgICAgICAgICAgICAgIGggPSAyIC8gMyArIGdnIC0gcnI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGggPCAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA+IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBoIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGg6IGggKiAzNjAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHM6IHMgKiAxMDAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHY6IHYgKiAxMDAgLy9GSVhNRTogcmVtb3ZlZCBNYXRoLnJvdW5kLCB0ZXN0IGlmIGlzIG9rXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGhzdjJoZXg6IGZ1bmN0aW9uIGhzdjJoZXgoaHN2KSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJnYjJoZXgodGhpcy5oc3YycmdiKGhzdikpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhzdjJyZ2I6IGZ1bmN0aW9uIGhzdjJyZ2IoaHN2KSB7XG5cbiAgICAgICAgICAgIHZhciByLFxuICAgICAgICAgICAgICAgIGcsXG4gICAgICAgICAgICAgICAgYixcbiAgICAgICAgICAgICAgICBoID0gaHN2LmgsXG4gICAgICAgICAgICAgICAgcyA9IGhzdi5zLFxuICAgICAgICAgICAgICAgIHYgPSBoc3YudjtcblxuICAgICAgICAgICAgcyAvPSAxMDA7XG4gICAgICAgICAgICB2IC89IDEwMDtcblxuICAgICAgICAgICAgaWYgKHMgPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGksIGYsIHAsIHEsIHQ7XG5cbiAgICAgICAgICAgICAgICBoIC89IDYwO1xuICAgICAgICAgICAgICAgIGkgPSBNYXRoLmZsb29yKGgpO1xuICAgICAgICAgICAgICAgIGYgPSBoIC0gaTtcbiAgICAgICAgICAgICAgICBwID0gdiAqICgxIC0gcyk7XG4gICAgICAgICAgICAgICAgcSA9IHYgKiAoMSAtIHMgKiBmKTtcbiAgICAgICAgICAgICAgICB0ID0gdiAqICgxIC0gcyAqICgxIC0gZikpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHE7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gcTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJvdW5kKHIgKiAyNTUpLFxuICAgICAgICAgICAgICAgIGc6IE1hdGgucm91bmQoZyAqIDI1NSksXG4gICAgICAgICAgICAgICAgYjogTWF0aC5yb3VuZChiICogMjU1KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBoc3YyaHNsOiBmdW5jdGlvbiBoc3YyaHNsKGhzdikge1xuXG4gICAgICAgICAgICB2YXIgcyA9IGhzdi5zIC8gMTAwLFxuICAgICAgICAgICAgICAgIHYgPSBoc3YudiAvIDEwMCxcbiAgICAgICAgICAgICAgICB0ZW1wTCA9ICgyIC0gcykgKiB2LFxuICAgICAgICAgICAgICAgIHRlbXBTID0gcyAqIHY7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaDogaHN2LmgsXG4gICAgICAgICAgICAgICAgczogdGVtcFMgLyAodGVtcEwgPD0gMSA/IHRlbXBMIDogMiAtIHRlbXBMKSAqIDEwMCxcbiAgICAgICAgICAgICAgICBsOiB0ZW1wTCAvIDIgKiAxMDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgaHNsMmhzdjogZnVuY3Rpb24gaHNsMmhzdihoc2wpIHtcblxuICAgICAgICAgICAgdmFyIGwgPSBoc2wubCAvIDEwMCAqIDIsXG4gICAgICAgICAgICAgICAgcyA9IGhzbC5zIC8gMTAwICogKGwgPD0gMSA/IGwgOiAyIC0gbCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaDogaHNsLmgsXG4gICAgICAgICAgICAgICAgczogMiAqIHMgLyAobCArIHMpICogMTAwLFxuICAgICAgICAgICAgICAgIHY6IChsICsgcykgLyAyICogMTAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNDQUxFIENPTlZFUlRFUlMgKi9cblxuICAgICAgICBkZWMyaGV4OiBmdW5jdGlvbiBkZWMyaGV4KGRlYykge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5wYWRMZWZ0KGRlYy50b1N0cmluZygxNiksIDIsICcwJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGV4MmRlYzogZnVuY3Rpb24gaGV4MmRlYyhoZXgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGhleCwgMTYpO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIENIRUNLQk9YICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLmNoZWNrYm94Jywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgdW5jaGVja2VkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kY2hlY2tib3ggPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRjaGVja2JveC5maW5kKCdpbnB1dCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgICAgICAgIC8vRklYTUU6IGlzIGl0IG5lY2Vzc2FyeSB0byBpbmNsdWRlIGl0PyBNYXliZSB3ZSBzaG91bGQgZml4IG1pc3Rha2VzIHdpdGggdGhlIG1hcmt1cC4uLlxuXG4gICAgICAgICAgICB2YXIgaGFzQ2xhc3MgPSB0aGlzLiRjaGVja2JveC5oYXNDbGFzcygnY2hlY2tlZCcpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNDbGFzcykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNoZWNrYm94LmFkZENsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kY2hlY2tib3gucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSB0aGlzLmdldCgpO1xuXG4gICAgICAgICAgICB0aGlzLiRjaGVja2JveC50b2dnbGVDbGFzcygnY2hlY2tlZCcsIGlzQ2hlY2tlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoaXNDaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgLy9GSVhNRTogbWF5YmUgdGhpcyBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSwgYW5kIGEgaXNDaGVja2VkIGVxdWl2YWxlbnQgc2hvdWxkIGRvIHRoaXMgam9iXG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRpbnB1dC5wcm9wKCdjaGVja2VkJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZm9yY2UpIHtcblxuICAgICAgICAgICAgdmFyIGlzQ2hlY2tlZCA9IHRoaXMuZ2V0KCk7XG5cbiAgICAgICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKGZvcmNlKSkge1xuXG4gICAgICAgICAgICAgICAgZm9yY2UgPSAhaXNDaGVja2VkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9yY2UgIT09IGlzQ2hlY2tlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcsIGZvcmNlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoZm9yY2UgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJyk7IC8vRklYTUU6IGlzIHRyaWdnZXJlZCB0d2ljZSBwZXIgdG9nZ2xlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1bmNoZWNrOiBmdW5jdGlvbiB1bmNoZWNrKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5jaGVja2JveCcpLmNoZWNrYm94KCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb2xvcl9oZWxwZXIvY29sb3JIZWxwZXIuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBIRVggQ09MT1IgKi9cblxuICAgIHdpbmRvdy5IZXhDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKHZhbHVlKSkge1xuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICgvXihbMC05YS1mXXszfSl7Mn0kL2kudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAvL0lORk86IGZ1bGwgNi1jaGFycyBjb2xvclxuXG4gICAgICAgICAgICAgICAgdGhpcy5oc3YgPSBDb2xvckhlbHBlci5oZXgyaHN2KHtcbiAgICAgICAgICAgICAgICAgICAgcjogdmFsdWVbMF0gKyB2YWx1ZVsxXSxcbiAgICAgICAgICAgICAgICAgICAgZzogdmFsdWVbMl0gKyB2YWx1ZVszXSxcbiAgICAgICAgICAgICAgICAgICAgYjogdmFsdWVbNF0gKyB2YWx1ZVs1XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXlswLTlhLWZdezN9JC9pLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgLy9JTkZPOiBzaG9ydGhhbmQgMy1jaGFycyBjb2xvclxuXG4gICAgICAgICAgICAgICAgdGhpcy5oc3YgPSBDb2xvckhlbHBlci5oZXgyaHN2KHtcbiAgICAgICAgICAgICAgICAgICAgcjogdmFsdWVbMF0gKyB2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgICAgZzogdmFsdWVbMV0gKyB2YWx1ZVsxXSxcbiAgICAgICAgICAgICAgICAgICAgYjogdmFsdWVbMl0gKyB2YWx1ZVsyXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qIEhFWCBDT0xPUiBQUk9UT1RZUEUgKi9cblxuICAgIEhleENvbG9yLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcblxuICAgICAgICBoc3Y6IHtcbiAgICAgICAgICAgIGg6IDAsXG4gICAgICAgICAgICBzOiAwLFxuICAgICAgICAgICAgdjogMFxuICAgICAgICB9LFxuXG4gICAgICAgIGdldEhleFN0cjogZnVuY3Rpb24gZ2V0SGV4U3RyKCkge1xuXG4gICAgICAgICAgICB2YXIgaGV4ID0gQ29sb3JIZWxwZXIuaHN2MmhleCh0aGlzLmhzdik7XG5cbiAgICAgICAgICAgIHJldHVybiAnIycgKyBoZXguciArIGhleC5nICsgaGV4LmI7XG4gICAgICAgIH1cblxuICAgIH07XG59KShfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiBAcmVxdWlyZXMgLi4vaGV4X2NvbG9yL2hleENvbG9yLmpzXG4gKiBAcmVxdWlyZXMgLi4vY29sb3JfaGVscGVyL2NvbG9ySGVscGVyLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBhbHBoYSBjaGFubmVsXG4vL1RPRE86IGFkZCBhICRiZ3MgdmFyaWFibGUgd2hlcmUgd2UgdXBkYXRlIHRoZSBiYWNrZ3JvdW5kXG4vL1RPRE86IEFkZCBhbiBpbnB1dCBpbnNpZGUsIHNvIHRoYXQgaXQgd29ya3MgYWxzbyB3aXRob3V0IGFuIGV4dGVybmFsIGlucHV0XG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBDT0xPUlBJQ0tFUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5jb2xvcnBpY2tlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgZGVmYXVsdF9jb2xvcjogJyNmZjAwMDAnLFxuICAgICAgICAgICAgbGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGNvbG9ycGlja2VyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHNiX3dycCA9IHRoaXMuJGNvbG9ycGlja2VyLmZpbmQoJy5jb2xvcnBpY2tlci1zYXR1cmF0aW9uLWJyaWdodG5lc3Mtd3JwJyk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3NiID0gdGhpcy4kc2Jfd3JwLmZpbmQoJy5jb2xvcnBpY2tlci1oYW5kbGVyJyk7XG4gICAgICAgICAgICB0aGlzLiRodWVfd3JwID0gdGhpcy4kY29sb3JwaWNrZXIuZmluZCgnLmNvbG9ycGlja2VyLWh1ZS13cnAnKTtcbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfaHVlID0gdGhpcy4kaHVlX3dycC5maW5kKCcuY29sb3JwaWNrZXItaGFuZGxlcicpO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kY29sb3JwaWNrZXIuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0cyA9ICQoJ2lucHV0W25hbWU9XCInICsgdGhpcy5pZCArICdcIl0nKTtcblxuICAgICAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBIZXhDb2xvcigpO1xuICAgICAgICAgICAgdGhpcy5oZXggPSAnJztcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcygpO1xuXG4gICAgICAgICAgICB0aGlzLnNiX3dycF9zaXplID0gdGhpcy4kc2Jfd3JwLndpZHRoKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaHVlX3dycF9oZWlnaHQgPSB0aGlzLnNiX3dycF9zaXplO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldCh0aGlzLiRpbnB1dHMudmFsKCkpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3IEhleENvbG9yKHRoaXMub3B0aW9ucy5kZWZhdWx0X2NvbG9yKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zYigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBXSU5ET1cgUkVTSVpFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCR3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVyX3Jlc2l6ZSk7XG5cbiAgICAgICAgICAgIC8qIElOUFVUUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRpbnB1dHMsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9pbnB1dF9rZXlkb3duKTtcblxuICAgICAgICAgICAgLyogU0IgQVJST1dTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNiX3dycCwgJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW4pO1xuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kc2Jfd3JwLCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBTQiBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNiX3dycCwgJC5Qb2ludGVyLmRyYWdtb3ZlLCB0aGlzLl9oYW5kbGVyX3NiX2RyYWdfbW92ZSk7XG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRzYl93cnAsICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9oYW5kbGVyX3NiX2RyYWdfZW5kKTtcblxuICAgICAgICAgICAgLyogSFVFIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRodWVfd3JwLCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3NfaW4pO1xuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaHVlX3dycCwgJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX291dCk7XG5cbiAgICAgICAgICAgIC8qIEhVRSBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGh1ZV93cnAsICQuUG9pbnRlci5kcmFnbW92ZSwgdGhpcy5faGFuZGxlcl9odWVfZHJhZ19tb3ZlKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGh1ZV93cnAsICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9oYW5kbGVyX2h1ZV9kcmFnX2VuZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF91cGRhdGVfdmFyaWFibGVzOiBmdW5jdGlvbiBfdXBkYXRlX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy5zYl93cnBfb2Zmc2V0ID0gdGhpcy4kc2Jfd3JwLm9mZnNldCgpO1xuICAgICAgICAgICAgdGhpcy5odWVfd3JwX29mZnNldCA9IHRoaXMuJGh1ZV93cnAub2Zmc2V0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogV0lORE9XIFJFU0laRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3Jlc2l6ZTogZnVuY3Rpb24gX2hhbmRsZXJfcmVzaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFyaWFibGVzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0IgQVJST1dTICovXG5cbiAgICAgICAgX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19pbigpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9zYl93cnBfYXJyb3dzX291dDogZnVuY3Rpb24gX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19vdXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9zYl93cnBfYXJyb3dzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duKCkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi52ID0gTWF0aC5taW4oMTAwLCB0aGlzLmNvbG9yLmhzdi52ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnMgPSBNYXRoLm1pbigxMDAsIHRoaXMuY29sb3IuaHN2LnMgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi52ID0gTWF0aC5tYXgoMCwgdGhpcy5jb2xvci5oc3YudiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnMgPSBNYXRoLm1heCgwLCB0aGlzLmNvbG9yLmhzdi5zIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zYigpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0IgRFJBRyAqL1xuXG4gICAgICAgIF9zYl9kcmFnX3NldDogZnVuY3Rpb24gX3NiX2RyYWdfc2V0KFhZLCB1cGRhdGUpIHtcblxuICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YucyA9IF8uY2xhbXAoMCwgWFkuWCAtIHRoaXMuc2Jfd3JwX29mZnNldC5sZWZ0LCB0aGlzLnNiX3dycF9zaXplKSAqIDEwMCAvIHRoaXMuc2Jfd3JwX3NpemU7XG4gICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi52ID0gMTAwIC0gXy5jbGFtcCgwLCBYWS5ZIC0gdGhpcy5zYl93cnBfb2Zmc2V0LnRvcCwgdGhpcy5zYl93cnBfc2l6ZSkgKiAxMDAgLyB0aGlzLnNiX3dycF9zaXplO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IoKTtcblxuICAgICAgICAgICAgaWYgKHVwZGF0ZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2JfZHJhZ19tb3ZlOiBmdW5jdGlvbiBfaGFuZGxlcl9zYl9kcmFnX21vdmUoZXZlbnQsIGRhdGEpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2JfZHJhZ19zZXQoZGF0YS5tb3ZlWFksIHRoaXMub3B0aW9ucy5saXZlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9zYl9kcmFnX2VuZDogZnVuY3Rpb24gX2hhbmRsZXJfc2JfZHJhZ19lbmQoZXZlbnQsIGRhdGEpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2JfZHJhZ19zZXQoZGF0YS5lbmRYWSwgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSFVFIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2luOiBmdW5jdGlvbiBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19pbigpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfb3V0OiBmdW5jdGlvbiBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19vdXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9odWVfd3JwX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19rZXlkb3duKCkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5oID0gTWF0aC5taW4oMzU5LCB0aGlzLmNvbG9yLmhzdi5oICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IE1hdGgubWF4KDAsIHRoaXMuY29sb3IuaHN2LmggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2h1ZSgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSFVFIERSQUcgKi9cblxuICAgICAgICBfaHVlX2RyYWdfc2V0OiBmdW5jdGlvbiBfaHVlX2RyYWdfc2V0KFhZLCB1cGRhdGUpIHtcblxuICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IDM1OSAtIF8uY2xhbXAoMCwgWFkuWSAtIHRoaXMuaHVlX3dycF9vZmZzZXQudG9wLCB0aGlzLmh1ZV93cnBfaGVpZ2h0KSAqIDM1OSAvIHRoaXMuaHVlX3dycF9oZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUoKTtcblxuICAgICAgICAgICAgaWYgKHVwZGF0ZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX2RyYWdfbW92ZTogZnVuY3Rpb24gX2hhbmRsZXJfaHVlX2RyYWdfbW92ZShldmVudCwgZGF0YSkge1xuXG4gICAgICAgICAgICB0aGlzLl9odWVfZHJhZ19zZXQoZGF0YS5tb3ZlWFksIHRoaXMub3B0aW9ucy5saXZlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9odWVfZHJhZ19lbmQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2h1ZV9kcmFnX2VuZChldmVudCwgZGF0YSkge1xuXG4gICAgICAgICAgICB0aGlzLl9odWVfZHJhZ19zZXQoZGF0YS5lbmRYWSwgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSU5QVVQgKi9cblxuICAgICAgICBfaGFuZGxlcl9pbnB1dF9rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9pbnB1dF9rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRU5URVIpIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXQodGhpcy4kaW5wdXRzLnZhbCgpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwodGhpcy5oZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPVEhFUlMgKi9cblxuICAgICAgICBfdXBkYXRlX2lucHV0OiBmdW5jdGlvbiBfdXBkYXRlX2lucHV0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmhleCA9IHRoaXMuY29sb3IuZ2V0SGV4U3RyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwodGhpcy5oZXgpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIHRoaXMuaGV4KS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9zYjogZnVuY3Rpb24gX3VwZGF0ZV9zYigpIHtcblxuICAgICAgICAgICAgdmFyIGhzbCA9IENvbG9ySGVscGVyLmhzdjJoc2wodGhpcy5jb2xvci5oc3YpO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3NiLmNzcyh7XG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAnaHNsKCcgKyBoc2wuaCArICcsJyArIGhzbC5zICsgJyUsJyArIGhzbC5sICsgJyUpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgdGhpcy5zYl93cnBfc2l6ZSAvIDEwMCAqIHRoaXMuY29sb3IuaHN2LnMgKyAncHgsJyArIHRoaXMuc2Jfd3JwX3NpemUgLyAxMDAgKiAoMTAwIC0gdGhpcy5jb2xvci5oc3YudikgKyAncHgsMCknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2h1ZTogZnVuY3Rpb24gX3VwZGF0ZV9odWUoKSB7XG5cbiAgICAgICAgICAgIHZhciBoc2wgPSBDb2xvckhlbHBlci5oc3YyaHNsKHRoaXMuY29sb3IuaHN2KTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9odWUuY3NzKHtcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdoc2woJyArIHRoaXMuY29sb3IuaHN2LmggKyAnLDEwMCUsNTAlKScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwnICsgdGhpcy5odWVfd3JwX2hlaWdodCAvIDEwMCAqICgxMDAgLSB0aGlzLmNvbG9yLmhzdi5oIC8gMzYwICogMTAwKSArICdweCwwKSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3NiLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdoc2woJyArIGhzbC5oICsgJywnICsgaHNsLnMgKyAnJSwnICsgaHNsLmwgKyAnJSknKTtcblxuICAgICAgICAgICAgdGhpcy4kc2Jfd3JwLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdoc2woJyArIHRoaXMuY29sb3IuaHN2LmggKyAnLDEwMCUsNTAlKScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGU6IGZ1bmN0aW9uIF91cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zYigpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2h1ZSgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yLmdldEhleFN0cigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfY29sb3IgPSBuZXcgSGV4Q29sb3IodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAobmV3X2NvbG9yLmlzVmFsaWQgJiYgIV8uaXNFcXVhbChuZXdfY29sb3IuaHN2LCB0aGlzLmNvbG9yLmhzdikpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXdfY29sb3I7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ld19jb2xvci5pc1ZhbGlkO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuY29sb3JwaWNrZXInKS5jb2xvcnBpY2tlcigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIFVSTDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L2Nvb2tpZSAqL1xuXG4vKiBDT09LSUUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFVUSUxJVElFUyAqL1xuXG4gICAgdmFyIGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudCxcbiAgICAgICAgZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXG4gICAgLyogQ09PS0lFICovXG5cbiAgICAkLmNvb2tpZSA9IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblxuICAgICAgICAgICAgaWYgKCFrZXkpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlKGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyg/Oig/Ol58Lio7KVxcXFxzKicgKyBlbmNvZGUoa2V5KS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgKyAnXFxcXHMqXFxcXD1cXFxccyooW147XSopLiokKXxeLiokJyksICckMScpKSB8fCBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUsIGVuZCwgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcblxuICAgICAgICAgICAgaWYgKCFrZXkgfHwgL14oPzpleHBpcmVzfG1heFxcLWFnZXxwYXRofGRvbWFpbnxzZWN1cmUpJC9pLnRlc3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoZW5kKSB7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVuZC5jb25zdHJ1Y3Rvcikge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9IGVuZCA9PT0gSW5maW5pdHkgPyAnOyBleHBpcmVzPUZyaSwgMzEgRGVjIDk5OTkgMjM6NTk6NTkgR01UJyA6ICc7IG1heC1hZ2U9JyArIGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBlbmQudG9VVENTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2YWx1ZSkgKyBleHBpcmVzICsgKGRvbWFpbiA/ICc7IGRvbWFpbj0nICsgZG9tYWluIDogJycpICsgKHBhdGggPyAnOyBwYXRoPScgKyBwYXRoIDogJycpICsgKHNlY3VyZSA/ICc7IHNlY3VyZScgOiAnJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGtleSwgcGF0aCwgZG9tYWluKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGUoa2V5KSArICc9OyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UJyArIChkb21haW4gPyAnOyBkb21haW49JyArIGRvbWFpbiA6ICcnKSArIChwYXRoID8gJzsgcGF0aD0nICsgcGF0aCA6ICcnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cbiAgICAgICAgICAgIGlmICgha2V5KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCcoPzpefDtcXFxccyopJyArIGVuY29kZShrZXkpLnJlcGxhY2UoL1tcXC1cXC5cXCtcXCpdL2csICdcXFxcJCYnKSArICdcXFxccypcXFxcPScpLnRlc3QoZG9jdW1lbnQuY29va2llKTtcbiAgICAgICAgfSxcblxuICAgICAgICBrZXlzOiBmdW5jdGlvbiBrZXlzKCkge1xuXG4gICAgICAgICAgICB2YXIga2V5cyA9IGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKC8oKD86XnxcXHMqOylbXlxcPV0rKSg/PTt8JCl8Xlxccyp8XFxzKig/OlxcPVteO10qKT8oPzpcXDF8JCkvZywgJycpLnNwbGl0KC9cXHMqKD86XFw9W147XSopPztcXHMqLyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGtleXNbaV0gPSBkZWNvZGUoa2V5c1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGRlYWwgd2l0aCBVVEMgdGltZSBldGMuLi5cbi8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIG1pbiBhbmQgbWF4IGRhdGUgZGVsaW1pdGVyXG4vL1RPRE86IEFkZCBhbiBpbnB1dCBpbnNpZGUsIHNvIHRoYXQgaXQgd29ya3MgYWxzbyB3aXRob3V0IGFuIGV4dGVybmFsIGlucHV0XG4vL0ZJWE1FOiBXaGVuIHVzaW5nIHRoZSBhcnJvd3MgdGhlIHByZXYgZGF5IHN0aWxsIHJlbWFpbnMgaG92ZXJlZCBldmVuIGlmIGl0J3Mgbm90IGJlbG93IHRoZSBjdXJzb3JcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIERBVEVQSUNLRVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uZGF0ZXBpY2tlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbmFtZXM6IHtcbiAgICAgICAgICAgICAgICBtb250aHM6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgICAgIHRvZGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIHJlZnJlc2g6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJGRhdGVwaWNrZXIuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0cyA9IHRoaXMuaWQgPyAkKCdpbnB1dFtuYW1lPVwiJyArIHRoaXMuaWQgKyAnXCJdJykgOiAkZW1wdHk7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmlnYXRpb25fcHJldiA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCgnLmRhdGVwaWNrZXItbmF2aWdhdGlvbi1wcmV2Jyk7XG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX3RpdGxlID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXRpdGxlJyk7XG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX25leHQgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLW5hdmlnYXRpb24tbmV4dCcpO1xuXG4gICAgICAgICAgICB0aGlzLiRkYXlzX3ByZXYgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheS1wcmV2Jyk7XG4gICAgICAgICAgICB0aGlzLiRkYXlzX2N1cnJlbnQgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheScpO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19uZXh0ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1kYXktbmV4dCcpO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19hbGwgPSB0aGlzLiRkYXlzX3ByZXYuYWRkKHRoaXMuJGRheXNfY3VycmVudCkuYWRkKHRoaXMuJGRheXNfbmV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0ZS50b2RheSA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLnRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kZGF5X3RvZGF5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRkYXlfc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBEQVRFUElDS0VSICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9hcnJvd3NfaW4pO1xuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2Fycm93c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBJTlBVVFMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaW5wdXRzLCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaW5wdXRfa2V5ZG93bik7XG5cbiAgICAgICAgICAgIC8qIE5BVklHQVRJT04gKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kbmF2aWdhdGlvbl9wcmV2LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX3ByZXZfY2xpY2spO1xuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kbmF2aWdhdGlvbl9uZXh0LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX25leHRfY2xpY2spO1xuXG4gICAgICAgICAgICAvKiBTRUxFQ1RJT04gKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgJy5kYXRlcGlja2VyLWRheScsIHRoaXMuX2hhbmRsZXJfZGF5X2N1cnJlbnRfY2xpY2spO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIERBVEVQSUtFUiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2luKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX291dDogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX291dCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlX21vbnRoKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlX21vbnRoKDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIElOUFVUICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfaW5wdXRfa2V5ZG93bihldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVOVEVSKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldCh0aGlzLiRpbnB1dHMudmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE5BVklHQVRJT04gKi9cblxuICAgICAgICBfaGFuZGxlcl9wcmV2X2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9wcmV2X2NsaWNrKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlX21vbnRoKC0xKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9uZXh0X2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9uZXh0X2NsaWNrKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlX21vbnRoKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNFTEVDVElPTiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2RheV9jdXJyZW50X2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9kYXlfY3VycmVudF9jbGljayhldmVudCwgbm9kZSkge1xuXG4gICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF9zZWxlY3RlZCgpO1xuXG4gICAgICAgICAgICB2YXIgZGF5ID0gcGFyc2VJbnQoJChub2RlKS5odG1sKCksIDEwKTtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQgPSBuZXcgRGF0ZSh0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGgoKSwgZGF5KTtcblxuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0X3NlbGVjdGVkKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9USEVSUyAqL1xuXG4gICAgICAgIF9idWlsZF9jYWxlbmRhcjogZnVuY3Rpb24gX2J1aWxkX2NhbGVuZGFyKCkge1xuXG4gICAgICAgICAgICB2YXIgcHJldl9tb250aF9kYXlzID0gbmV3IERhdGUodGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCksIDApLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50X21vbnRoX2RheXMgPSBuZXcgRGF0ZSh0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICBpbml0aWFsX2RheV9vZl93ZWVrID0gbmV3IERhdGUodGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCksIDEpLmdldERheSgpO1xuXG4gICAgICAgICAgICBpbml0aWFsX2RheV9vZl93ZWVrID0gaW5pdGlhbF9kYXlfb2Zfd2VlayA9PT0gMCA/IDYgOiBpbml0aWFsX2RheV9vZl93ZWVrIC0gMTsgLy9JTkZPOiBXZSB1c2UgYE1vbmRheWAgYXMgdGhlIDAgaW5kZXhcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19hbGwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAvLyBQUkVWXG5cbiAgICAgICAgICAgIHZhciBleGNlZWRpbmdfZGF5cyA9IDMxIC0gcHJldl9tb250aF9kYXlzLFxuICAgICAgICAgICAgICAgIG5lZWRlZF9kYXlzID0gaW5pdGlhbF9kYXlfb2Zfd2VlayxcbiAgICAgICAgICAgICAgICBsZWZ0X2RheXMgPSA5IC0gZXhjZWVkaW5nX2RheXMgLSBuZWVkZWRfZGF5cztcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2LnNsaWNlKGxlZnRfZGF5cyArIG5lZWRlZF9kYXlzLCB0aGlzLiRkYXlzX3ByZXYubGVuZ3RoKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLiRkYXlzX3ByZXYuc2xpY2UoMCwgbGVmdF9kYXlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgIC8vIENVUlJFTlRcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19jdXJyZW50LnNsaWNlKGN1cnJlbnRfbW9udGhfZGF5cywgdGhpcy4kZGF5c19jdXJyZW50LmxlbmdodCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAvLyBORVhUXG5cbiAgICAgICAgICAgIHZhciBsZWZ0X2RheXMgPSAoY3VycmVudF9tb250aF9kYXlzICsgaW5pdGlhbF9kYXlfb2Zfd2VlaykgJSA3O1xuXG4gICAgICAgICAgICB0aGlzLiRkYXlzX25leHQuc2xpY2UobGVmdF9kYXlzID09PSAwID8gMCA6IDcgLSBsZWZ0X2RheXMpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGlnaGxpZ2h0X2RheTogZnVuY3Rpb24gX2hpZ2hsaWdodF9kYXkoZGF5LCBjc3NfY2xhc3MpIHtcblxuICAgICAgICAgICAgaWYgKGRheSAmJiBkYXkuZ2V0RnVsbFllYXIoKSA9PT0gdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVsdGFfbW9udGhzID0gZGF5LmdldE1vbnRoKCkgLSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlbHRhX21vbnRocykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19wcmV2LmVxKGRheS5nZXREYXRlKCkgLSAyMykuYWRkQ2xhc3MoY3NzX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19jdXJyZW50LmVxKGRheS5nZXREYXRlKCkgLSAxKS5hZGRDbGFzcyhjc3NfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkYXlzX25leHQuZXEoZGF5LmdldERhdGUoKSAtIDEpLmFkZENsYXNzKGNzc19jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdW5oaWdobGlnaHRfc2VsZWN0ZWQ6IGZ1bmN0aW9uIF91bmhpZ2hsaWdodF9zZWxlY3RlZCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGRheV9zZWxlY3RlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF5X3NlbGVjdGVkLnJlbW92ZUNsYXNzKCdkYXRlcGlja2VyLWRheS1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oaWdobGlnaHRfc2VsZWN0ZWQ6IGZ1bmN0aW9uIF9oaWdobGlnaHRfc2VsZWN0ZWQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV9zZWxlY3RlZCA9IHRoaXMuX2hpZ2hsaWdodF9kYXkodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQsICdkYXRlcGlja2VyLWRheS1zZWxlY3RlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91bmhpZ2hsaWdodF90b2RheTogZnVuY3Rpb24gX3VuaGlnaGxpZ2h0X3RvZGF5KCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kZGF5X3RvZGF5KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRkYXlfdG9kYXkucmVtb3ZlQ2xhc3MoJ2RhdGVwaWNrZXItZGF5LXRvZGF5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hpZ2hsaWdodF90b2RheTogZnVuY3Rpb24gX2hpZ2hsaWdodF90b2RheSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZGF5X3RvZGF5ID0gdGhpcy5faGlnaGxpZ2h0X2RheSh0aGlzLm9wdGlvbnMuZGF0ZS50b2RheSwgJ2RhdGVwaWNrZXItZGF5LXRvZGF5Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV90aXRsZTogZnVuY3Rpb24gX3VwZGF0ZV90aXRsZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGlvbl90aXRsZS5odG1sKHRoaXMub3B0aW9ucy5uYW1lcy5tb250aHNbdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCgpXSArICcsICcgKyB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfaW5wdXQ6IGZ1bmN0aW9uIF91cGRhdGVfaW5wdXQoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXRzLnZhbCh0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhcigpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGgoKSArICctJyArIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldERhdGUoKSkuY2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlZnJlc2g6IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF9zZWxlY3RlZCgpO1xuICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfdG9kYXkoKTtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkX2NhbGVuZGFyKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfc2VsZWN0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodF90b2RheSgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RpdGxlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3JlZnJlc2gnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBBUEkgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldChmb3JtYXR0ZWQpIHtcblxuICAgICAgICAgICAgaWYgKGZvcm1hdHRlZCAmJiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyKCkgKyAnLScgKyB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRNb250aCgpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkYXRlKSB7XG5cbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKGRhdGUpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBkYXRlLnNwbGl0KCctJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzZWdtZW50c1swXSwgc2VnbWVudHNbMV0sIHNlZ21lbnRzWzJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIV8uaXNOYU4oZGF0ZS52YWx1ZU9mKCkpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCA9IGRhdGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RnVsbFllYXIoKSA9PT0gdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpICYmIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldE1vbnRoKCkgPT09IHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGgoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VuaGlnaGxpZ2h0X3NlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodF9zZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5zZXRGdWxsWWVhcih0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhcigpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5zZXRNb250aCh0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRNb250aCgpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmF2aWdhdGVfbW9udGg6IGZ1bmN0aW9uIG5hdmlnYXRlX21vbnRoKHN0ZXBzKSB7XG5cbiAgICAgICAgICAgIGlmIChzdGVwcykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5zZXRNb250aCh0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCkgKyBzdGVwcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJldl9tb250aDogZnVuY3Rpb24gcHJldl9tb250aCgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgtMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmV4dF9tb250aDogZnVuY3Rpb24gbmV4dF9tb250aCgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgxKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmRhdGVwaWNrZXInKS5kYXRlcGlja2VyKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBEUkFHR0FCTEUgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uZHJhZ2dhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAnLmRyYWdnYWJsZS1oYW5kbGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogX1sndHJ1ZSddLCAvL0lORk86IGNoZWNrcyBpZiB3ZSBjYW4gZHJhZyBpdCBvciBub3RcbiAgICAgICAgICAgIG9ubHlfaGFuZGxlcnM6IGZhbHNlLCAvL0lORk86IG9ubHkgYW4gaGFuZGxlciBjYW4gZHJhZyBpdCBhcm91bmRcbiAgICAgICAgICAgIHJldmVydGFibGU6IGZhbHNlLCAvL0lORk86IG9uIGRyYWdlbmQgdGFrZSBpdCBiYWNrIHRvIHRoZSBzdGFydGluZyBwb3NpdGlvblxuICAgICAgICAgICAgYXhpczogZmFsc2UsIC8vSU5GTzogbGltaXQgdGhlIG1vdmVtZW50cyB0byB0aGlzIGF4aXNcbiAgICAgICAgICAgIGNvbnN0cmFpbmVyOiB7IC8vSU5GTzogY29uc3RyYWluIHRoZSBkcmFnIGluc2lkZSB0aGUgJGVsZW1lbnQgb3IgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogZmFsc2UsIC8vSU5GTzogaWYgd2Ugd2FudCB0byBrZWVwIHRoZSBkcmFnZ2FibGUgaW5zaWRlIHRoaXMgJGVsZW1lbnRcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogZmFsc2UsIC8vSU5GTzogaWYgd2Ugd2FudCB0byBrZWVwIHRoZSBkcmFnZ2FibGUgaW5zaWRlIHRoZSBjb29yZGluYXRlcyAvL1RPRE86IGltcGxlbWVudFxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgeDE6IDAsXG4gICAgICAgICAgICAgICAgLy8gICAgIHgyOiAwLFxuICAgICAgICAgICAgICAgIC8vICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgeTI6IDBcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgY29uc3RyYWluX2NlbnRlcjogZmFsc2UsIC8vSU5GTzogc2V0IHRoZSBjb25zdHJhaW4gdHlwZSwgaXQgd2lsbCBjb25zdHJhaW4gdGhlIHdob2xlIHNoYXBlLCBvciB0aGUgY2VudGVyXG4gICAgICAgICAgICAgICAgYXhpczogZmFsc2UsIC8vSU5GTzogaWYgd2Ugd2FudCB0byBjb25zdHJhaW4gdGhlIGRyYWdnYWJsZSBvbmx5IGluIGEgc3BlY2lmaWMgYXhpc1xuICAgICAgICAgICAgICAgIHRvbGxlcmFuY2U6IHsgLy9JTkZPOiB0aGUgYW1vdW50IG9mIHBpeGVsIGZsZXhpYmlsaXR5IHRoYXQgYSBjb25zdHJhaW5lciBoYXNcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RpZmllcnM6IHsgLy9JTkZPOiBpdCBjYW4gbW9kaWZ5IHRoZSBzZXR0ZWQgWCBhbmQgWSB0cmFuc2Zvcm1zIHZhbHVlc1xuICAgICAgICAgICAgICAgIHg6IF9bJ3RydWUnXSxcbiAgICAgICAgICAgICAgICB5OiBfWyd0cnVlJ11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBiZWZvcmVzdGFydDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgbW92ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGVuZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhZ2dhYmxlID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbmx5X2hhbmRsZXJzKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVycyA9IHRoaXMuJGRyYWdnYWJsZS5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuaGFuZGxlcik7IC8vRklYTUU6IGRvZXMgaXQgbWFrZSBzZW5zZSB0byBoYXZlIGhhbmRsZXJzIGluc2lkZSB0aGUgJGRyYWdnYWJsZT9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9ubHlfaGFuZGxlcnMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGhhbmRsZXJzLCAkLlBvaW50ZXIuZHJhZ3N0YXJ0LCB0aGlzLl9zdGFydCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaGFuZGxlcnMsICQuUG9pbnRlci5kcmFnbW92ZSwgdGhpcy5fbW92ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaGFuZGxlcnMsICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9lbmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCQuUG9pbnRlci5kcmFnc3RhcnQsIHRoaXMuX3N0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbigkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX21vdmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uKCQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfc3RhcnQ6IGZ1bmN0aW9uIF9zdGFydChldmVudCwgZGF0YSkge1xuXG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dhYmxlID0gdGhpcy5vcHRpb25zLmRyYWdnYWJsZSgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignYmVmb3Jlc3RhcnQnKTtcblxuICAgICAgICAgICAgdGhpcy5tb3Rpb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybV9zdHIgPSB0aGlzLiRkcmFnZ2FibGUuY3NzKCd0cmFuc2Zvcm0nKSxcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0cmFuc2Zvcm1fc3RyICE9PSAnbm9uZScgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoKC9bMC05LiwgLV0rLylbMF0uc3BsaXQoJywgJykgOiBbMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFhZID0ge1xuICAgICAgICAgICAgICAgIFg6IHBhcnNlSW50KG1hdHJpeFs0XSwgMTApLFxuICAgICAgICAgICAgICAgIFk6IHBhcnNlSW50KG1hdHJpeFs1XSwgMTApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdzdGFydCcsIF8ubWVyZ2UoZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUgfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9tb3ZlOiBmdW5jdGlvbiBfbW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy9UT0RPOiBtYWtlIGl0IG1vcmUgcGVyZm9ybWFudFxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW90aW9uID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb3Rpb24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lcl9vZmZzZXQgPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuJGVsZW1lbnQub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVfb2Zmc2V0ID0gdGhpcy4kZHJhZ2dhYmxlLm9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9taW4gPSBjb25zdHJhaW5lcl9vZmZzZXQubGVmdCAtIChkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC10aGlzLiRkcmFnZ2FibGUud2lkdGgoKSAvIDIgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21heCA9IGNvbnN0cmFpbmVyX29mZnNldC5sZWZ0ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LndpZHRoKCkgLSAoZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCArIHRoaXMuJGRyYWdnYWJsZS53aWR0aCgpKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IHRoaXMuJGRyYWdnYWJsZS53aWR0aCgpIC8gMiA6IDApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9taW4gPSBjb25zdHJhaW5lcl9vZmZzZXQudG9wIC0gKGRyYWdnYWJsZV9vZmZzZXQudG9wIC0gdGhpcy5pbml0aWFsWFkuWSkgKyAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyAtdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVlfbWF4ID0gY29uc3RyYWluZXJfb2Zmc2V0LnRvcCArIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudC5oZWlnaHQoKSAtIChkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0KCkpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdnYWJsZV9vZmZzZXQgPSB0aGlzLiRkcmFnZ2FibGUub2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21pbiA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MSAtIChkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC10aGlzLiRkcmFnZ2FibGUud2lkdGgoKSAvIDIgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc1VuZGVmaW5lZCh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueDIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueDIgLSAoZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCArIHRoaXMuJGRyYWdnYWJsZS53aWR0aCgpKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IHRoaXMuJGRyYWdnYWJsZS53aWR0aCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVZX21pbiA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MSAtIChkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLXRoaXMuJGRyYWdnYWJsZS5oZWlnaHQoKSAvIDIgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc1VuZGVmaW5lZCh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueTIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueTIgLSAoZHJhZ2dhYmxlX29mZnNldC50b3AgLSB0aGlzLmluaXRpYWxYWS5ZICsgdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCgpKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC10aGlzLiRkcmFnZ2FibGUuaGVpZ2h0KCkgLyAyIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkaHRtbC5hZGRDbGFzcygnZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuYWRkQ2xhc3MoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVYID0gdGhpcy5pbml0aWFsWFkuWCArICh0aGlzLm9wdGlvbnMuYXhpcyA9PT0gJ3knID8gMCA6IGRhdGEuZGVsdGFYWS5YKSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZID0gdGhpcy5pbml0aWFsWFkuWSArICh0aGlzLm9wdGlvbnMuYXhpcyA9PT0gJ3gnID8gMCA6IGRhdGEuZGVsdGFYWS5ZKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCB8fCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuYXhpcyAhPT0gJ3knKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IF8uY2xhbXAoXy5pc1VuZGVmaW5lZCh0aGlzLnRyYW5zbGF0ZVhfbWluKSA/IHVuZGVmaW5lZCA6IHRoaXMudHJhbnNsYXRlWF9taW4gLSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIudG9sbGVyYW5jZS54LCB0cmFuc2xhdGVYLCBfLmlzVW5kZWZpbmVkKHRoaXMudHJhbnNsYXRlWF9tYXgpID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVYX21heCArIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLngpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuYXhpcyAhPT0gJ3gnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IF8uY2xhbXAoXy5pc1VuZGVmaW5lZCh0aGlzLnRyYW5zbGF0ZVlfbWluKSA/IHVuZGVmaW5lZCA6IHRoaXMudHJhbnNsYXRlWV9taW4gLSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIudG9sbGVyYW5jZS55LCB0cmFuc2xhdGVZLCBfLmlzVW5kZWZpbmVkKHRoaXMudHJhbnNsYXRlWV9tYXgpID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVZX21heCArIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1vZGlmaWVkWFkgPSB7XG4gICAgICAgICAgICAgICAgWDogdGhpcy5vcHRpb25zLm1vZGlmaWVycy54KHRyYW5zbGF0ZVgpLFxuICAgICAgICAgICAgICAgIFk6IHRoaXMub3B0aW9ucy5tb2RpZmllcnMueSh0cmFuc2xhdGVZKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyAoXy5pc0Jvb2xlYW4obW9kaWZpZWRYWS5YKSA/IG1vZGlmaWVkWFkuWCA/IHRyYW5zbGF0ZVggOiB0aGlzLmluaXRpYWxYWS5YIDogbW9kaWZpZWRYWS5YKSArICdweCwnICsgKF8uaXNCb29sZWFuKG1vZGlmaWVkWFkuWSkgPyBtb2RpZmllZFhZLlkgPyB0cmFuc2xhdGVZIDogdGhpcy5pbml0aWFsWFkuWSA6IG1vZGlmaWVkWFkuWSkgKyAncHgsMCknKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignbW92ZScsIF8ubWVyZ2UoZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBtb2RpZmllZFhZOiBtb2RpZmllZFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUgfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9lbmQ6IGZ1bmN0aW9uIF9lbmQoZXZlbnQsIGRhdGEpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dhYmxlKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdGlvbiA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXZlcnRhYmxlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB0aGlzLmluaXRpYWxYWS5YICsgJ3B4LCcgKyB0aGlzLmluaXRpYWxYWS5ZICsgJ3B4LDApJyk7IC8vVE9ETzogYW5pbWF0ZSBpdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignZW5kJywgXy5tZXJnZShkYXRhLCB7IGluaXRpYWxYWTogdGhpcy5pbml0aWFsWFksIGRyYWdnYWJsZTogdGhpcy5kcmFnZ2FibGUsICRkcmFnZ2FibGU6IHRoaXMuJGRyYWdnYWJsZSwgZHJhZ2dlZDogdGhpcy5tb3Rpb24gfSkpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZHJhZ2dhYmxlJykuZHJhZ2dhYmxlKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9GSVhNRTogaWYgdGhlIGFuY2hvciBpcyBoYWxmIG92ZXJmbG93aW5nIHRoZSB2aWV3cG9ydCBhdCB0aGUgbGVmdCwgYnV0IHN0aWxsIGlmIHRoZXJlJ3Mgc3BhY2UgYXQgdGhlIGJvdHRvbSB0aGUgcG9zaXRpb25hYmxlIGdldHMgcG9zaXRpb25hdGVkIGF0IHRoZSBib3R0b20sIGluc3RlYWQgb2YgdGhlIHJpZ2h0OiBtYXliZSBjcmVhdGUgYSBuZXcgbm9ybWFsaXplZCBhcmVhIG1hcCwgdGhhdCBnaXZlcyBtb3JlIGltcG9ydGFuY2UgdG8gdGhpcyB0aGluZ1xuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgYSAkcG9pbnRlciAoIHRoYXQgY2FuIGFsc28gYmUgYSBmdW5jdGlvbiApXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQT1NJVElPTkFURSAqL1xuXG4gICAgJC5mbi5wb3NpdGlvbmF0ZSA9IGZ1bmN0aW9uIChjdXN0b21fb3B0aW9ucykge1xuXG4gICAgICAgIC8vIE9QVElPTlNcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IF8ubWVyZ2Uoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBmYWxzZSwgLy9JTkZPOiBTZXQgYSBwcmVmZXJyZWQgZGlyZWN0aW9uXG4gICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBTZXQgYSBwcmVmZXJyZWQgYXhpc1xuICAgICAgICAgICAgJGFuY2hvcjogZmFsc2UsIC8vSU5GTzogUG9zaXRpb25hdGUgbmV4dCB0byBhbiAkYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgICAgICRwb2ludGVyOiBmYWxzZSwgLy9JTkZPOiBUaGUgZWxlbWVudCB3aG8gaXMgcG9pbnRpbmcgdG8gdGhlIGFuY2hvclxuICAgICAgICAgICAgcG9pbnQ6IGZhbHNlLCAvL0lORk86IFBvc2l0aW9hbnRlIGF0IGNvb3JkaW5hdGVzLCBleDogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9XG4gICAgICAgICAgICByYW5rczogeyAvL0lORk86IEhvdyB0aGUgZGlyZWN0aW9ucyBzaG91bGQgYmUgcHJpb3JpdGl6ZWQgd2hlbiBzZWxlY3RpbmcgdGhlIGB4YCBheGlzLCB0aGUgYHlgIGF4aXMsIG9yIGFsbCBvZiB0aGVtXG4gICAgICAgICAgICAgICAgeDogWydyaWdodCcsICdsZWZ0J10sXG4gICAgICAgICAgICAgICAgeTogWydib3R0b20nLCAndG9wJ10sXG4gICAgICAgICAgICAgICAgYWxsOiBbJ2JvdHRvbScsICdyaWdodCcsICdsZWZ0JywgJ3RvcCddXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25hdGVkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY3VzdG9tX29wdGlvbnMpO1xuXG4gICAgICAgIC8vIFJFU0VUVElOR1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Bvc2l0aW9uYXRlLXRvcCBwb3NpdGlvbmF0ZS1ib3R0b20gcG9zaXRpb25hdGUtbGVmdCBwb3NpdGlvbmF0ZS1yaWdodCcpO1xuXG4gICAgICAgIC8vIFZBUklBQkxFU1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb25zID0gXy51bmlxdWUoXy51bmlvbihvcHRpb25zLmRpcmVjdGlvbiA/IFtvcHRpb25zLmRpcmVjdGlvbl0gOiBbXSwgb3B0aW9ucy5heGlzID8gb3B0aW9ucy5yYW5rc1tvcHRpb25zLmF4aXNdIDogW10sIG9wdGlvbnMucmFua3MuYWxsKSksXG4gICAgICAgICAgICB3aW5kb3dfd2lkdGggPSAkd2luZG93LndpZHRoKCksXG4gICAgICAgICAgICB3aW5kb3dfaGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgIGh0bWxfc2Nyb2xsVG9wID0gJGh0bWwuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBodG1sX3Njcm9sbExlZnQgPSAkaHRtbC5zY3JvbGxMZWZ0KCksXG4gICAgICAgICAgICBwb3NpdGlvbmFibGVfb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uYWJsZV93aWR0aCA9IHRoaXMub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgcG9zaXRpb25hYmxlX2hlaWdodCA9IHRoaXMub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIGFuY2hvcl9vZmZzZXQgPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub2Zmc2V0KCkgOiB7IHRvcDogb3B0aW9ucy5wb2ludC55LCBsZWZ0OiBvcHRpb25zLnBvaW50LnggfSxcbiAgICAgICAgICAgIGFuY2hvcl93aWR0aCA9IG9wdGlvbnMuJGFuY2hvciA/IG9wdGlvbnMuJGFuY2hvci5vdXRlcldpZHRoKCkgOiAwLFxuICAgICAgICAgICAgYW5jaG9yX2hlaWdodCA9IG9wdGlvbnMuJGFuY2hvciA/IG9wdGlvbnMuJGFuY2hvci5vdXRlckhlaWdodCgpIDogMDtcblxuICAgICAgICAvLyBTUEFDRVNcblxuICAgICAgICB2YXIgc3BhY2VzID0gXy5tYXAoZGlyZWN0aW9ucywgZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvcl9vZmZzZXQudG9wIC0gaHRtbF9zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93X2hlaWdodCAtIGFuY2hvcl9vZmZzZXQudG9wIC0gYW5jaG9yX2hlaWdodCArIGh0bWxfc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmNob3Jfb2Zmc2V0LmxlZnQgLSBodG1sX3Njcm9sbExlZnQ7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3dfd2lkdGggLSBhbmNob3Jfb2Zmc2V0LmxlZnQgLSBhbmNob3Jfd2lkdGggKyBodG1sX3Njcm9sbExlZnQ7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQVJFQVNcblxuICAgICAgICB2YXIgYXJlYXMgPSBfLm1hcChkaXJlY3Rpb25zLCBmdW5jdGlvbiAoZGlyZWN0aW9uLCBpbmRleCkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4ocG9zaXRpb25hYmxlX2hlaWdodCwgc3BhY2VzW2luZGV4XSkgKiBNYXRoLm1pbih3aW5kb3dfd2lkdGgsIHBvc2l0aW9uYWJsZV93aWR0aCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihwb3NpdGlvbmFibGVfd2lkdGgsIHNwYWNlc1tpbmRleF0pICogTWF0aC5taW4od2luZG93X2hlaWdodCwgcG9zaXRpb25hYmxlX2hlaWdodCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ0hPT1NJTkcgQSBESVJFQ1RJT05cblxuICAgICAgICB2YXIgY2hvc2VuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbnNbYXJlYXMuaW5kZXhPZihfLm1heChhcmVhcykpXTtcblxuICAgICAgICAvLyBHRVRUSU5HIFRPUCBBTkQgTEVGVFxuXG4gICAgICAgIHN3aXRjaCAoY2hvc2VuX2RpcmVjdGlvbikge1xuXG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGFuY2hvcl9vZmZzZXQubGVmdCArIGFuY2hvcl93aWR0aCAvIDIgLSBwb3NpdGlvbmFibGVfd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGNob3Nlbl9kaXJlY3Rpb24gPT09ICd0b3AnID8gYW5jaG9yX29mZnNldC50b3AgLSBwb3NpdGlvbmFibGVfaGVpZ2h0IDogYW5jaG9yX29mZnNldC50b3AgKyBhbmNob3JfaGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IGFuY2hvcl9vZmZzZXQudG9wICsgYW5jaG9yX2hlaWdodCAvIDIgLSBwb3NpdGlvbmFibGVfaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogY2hvc2VuX2RpcmVjdGlvbiA9PT0gJ2xlZnQnID8gYW5jaG9yX29mZnNldC5sZWZ0IC0gcG9zaXRpb25hYmxlX3dpZHRoIDogYW5jaG9yX29mZnNldC5sZWZ0ICsgYW5jaG9yX3dpZHRoXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ09OU1RSQUlOIFRPIFRIRSBXSU5ET1dcblxuICAgICAgICAvL1RPRE86IGFkZCBhIHZpZXdwb3J0IGNoZWNrIGhlcmUsIHdlIHNob3VsZCBwb3NpdGlvbmF0ZSBpdCB0byB0aGUgdmlld3BvcnQgaWYgdGhlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiBpdFxuXG4gICAgICAgIGNvb3JkaW5hdGVzLnRvcCA9IF8uY2xhbXAoMCwgY29vcmRpbmF0ZXMudG9wLCB3aW5kb3dfaGVpZ2h0IC0gcG9zaXRpb25hYmxlX2hlaWdodCk7XG4gICAgICAgIGNvb3JkaW5hdGVzLmxlZnQgPSBfLmNsYW1wKDAsIGNvb3JkaW5hdGVzLmxlZnQsIHdpbmRvd193aWR0aCAtIHBvc2l0aW9uYWJsZV93aWR0aCk7XG5cbiAgICAgICAgLy8gREFUQVNcblxuICAgICAgICB2YXIgZGF0YXMgPSB7XG4gICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBkaXJlY3Rpb246IGNob3Nlbl9kaXJlY3Rpb25cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTRVRUSU5HIFRPUCBBTkQgTEVGVFxuXG4gICAgICAgIHRoaXMuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIGNvb3JkaW5hdGVzLmxlZnQgKyAncHgsJyArIGNvb3JkaW5hdGVzLnRvcCArICdweCwwKScpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Bvc2l0aW9uYXRlLScgKyBjaG9zZW5fZGlyZWN0aW9uKTtcblxuICAgICAgICAvLyBTRVRUSU5HIFRIRSBQT0lOVEVSXG5cbiAgICAgICAgaWYgKG9wdGlvbnMuJGFuY2hvciAmJiBvcHRpb25zLiRwb2ludGVyKSB7XG5cbiAgICAgICAgICAgIHZhciAkcG9pbnRlciA9IF8uaXNGdW5jdGlvbihvcHRpb25zLiRwb2ludGVyKSA/IG9wdGlvbnMuJHBvaW50ZXIoZGF0YXMpIDogb3B0aW9ucy4kcG9pbnRlcjtcblxuICAgICAgICAgICAgaWYgKCRwb2ludGVyIGluc3RhbmNlb2YgJCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybV9zdHIgPSAkcG9pbnRlci5jc3MoJ3RyYW5zZm9ybScpLFxuICAgICAgICAgICAgICAgICAgICBtYXRyaXggPSB0cmFuc2Zvcm1fc3RyICE9PSAnbm9uZScgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoKC9bMC05LiwgLV0rLylbMF0uc3BsaXQoJywgJykgOiBbMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJfcG9zaXRpb24gPSAkcG9pbnRlci5wb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaG9zZW5fZGlyZWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludGVyX3dpZHRoID0gJHBvaW50ZXIud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVYID0gcGFyc2VJbnQobWF0cml4WzRdLCAxMCkgKyAoYW5jaG9yX29mZnNldC5sZWZ0ICsgYW5jaG9yX3dpZHRoIC8gMiAtIGh0bWxfc2Nyb2xsTGVmdCAtIChjb29yZGluYXRlcy5sZWZ0ICsgcG9pbnRlcl9wb3NpdGlvbi5sZWZ0ICsgcG9pbnRlcl93aWR0aCAvIDIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZID0gcGFyc2VJbnQobWF0cml4WzVdLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50ZXJfaGVpZ2h0ID0gJHBvaW50ZXIuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IHBhcnNlSW50KG1hdHJpeFs0XSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSBwYXJzZUludChtYXRyaXhbNV0sIDEwKSArIChhbmNob3Jfb2Zmc2V0LnRvcCArIGFuY2hvcl9oZWlnaHQgLyAyIC0gaHRtbF9zY3JvbGxUb3AgLSAoY29vcmRpbmF0ZXMudG9wICsgcG9pbnRlcl9wb3NpdGlvbi50b3AgKyBwb2ludGVyX2hlaWdodCAvIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHBvaW50ZXIuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsMCknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENBTExCQUNLXG5cbiAgICAgICAgb3B0aW9ucy5jYWxsYmFja3MucG9zaXRpb25hdGVkKGRhdGFzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiBAcmVxdWlyZXMgLi4vcG9zaXRpb25hdGUvcG9zaXRpb25hdGUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIGRlbGVnYXRpbmcgdGhlIHRyaWdnZXIgY2xpY2ssIHNvIHRoYXQgd2Ugc3VwcG9ydCB0aGUgY2FzZSB3aGVuIGEgdHJpZ2dlciBoYXMgYmVlbiBhZGRlZCB0byB0aGUgRE9NIGR5bmFtaWNhbGx5XG4vL1RPRE86IGFkZCBkcm9wZG93bi1jbG9zZXJcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgdmFyIGFzc2lnbm1lbnRzID0ge307XG5cbiAgICAvKiBEUk9QRE9XTiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5kcm9wZG93bicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kdGlwcyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQoJy5kcm9wZG93bi10aXAnKTtcbiAgICAgICAgICAgIHRoaXMuJHRvcF90aXAgPSB0aGlzLiR0aXBzLmZpbHRlcignLnRvcCcpO1xuICAgICAgICAgICAgdGhpcy4kcmlnaHRfdGlwID0gdGhpcy4kdGlwcy5maWx0ZXIoJy5yaWdodCcpO1xuICAgICAgICAgICAgdGhpcy4kYm90dG9tX3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyKCcuYm90dG9tJyk7XG4gICAgICAgICAgICB0aGlzLiRsZWZ0X3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyKCcubGVmdCcpO1xuICAgICAgICAgICAgdGhpcy4kYWN0aW9uYWJsZXMgPSB0aGlzLiRkcm9wZG93bi5maW5kKCcuYWN0aW9uYWJsZScpO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kZHJvcGRvd24uYXR0cignaWQnKTtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlcnMgPSAkKCcuZHJvcGRvd24tdHJpZ2dlcltkYXRhLWRyb3Bkb3duPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaGFzVGlwcyA9ICF0aGlzLiRkcm9wZG93bi5oYXNDbGFzcygnbm8tdGlwJyk7XG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNoZWQgPSB0aGlzLiRkcm9wZG93bi5oYXNDbGFzcygnYXR0YWNoZWQnKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiR0cmlnZ2VycywgJ2NsaWNrJywgdGhpcy50b2dnbGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRhY3Rpb25hYmxlcywgJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMuJGJ0bl9wYXJlbnRzLm9uICggJ3Njcm9sbCcsIHRoaXMudXBkYXRlICk7IC8vRklYTUU6IElmIHdlIGFyZSBkb2luZyBpdCBpbnRvIGEgc2Nyb2xsYWJsZSBjb250ZW50IGl0IHdpbGwgYmUgYSBwcm9ibGVtIGlmIHdlIGRvbid0IGhhbmRsZSBpdCwgdGhlIGRyb3Bkb3duIHdpbGwgbm90IG1vdmVcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSU5ET1cgUkVTSVpFIC8gU0NST0xMICovXG5cbiAgICAgICAgX2JpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGw6IGZ1bmN0aW9uIF9iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkd2luZG93LCAncmVzaXplIHNjcm9sbCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbDogZnVuY3Rpb24gX3VuYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCR3aW5kb3csICdyZXNpemUgc2Nyb2xsJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSU5ET1cgQ0xJQ0sgKi9cblxuICAgICAgICBfYmluZF93aW5kb3dfY2xpY2s6IGZ1bmN0aW9uIF9iaW5kX3dpbmRvd19jbGljaygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJHdpbmRvdywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl93aW5kb3dfY2xpY2spO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91bmJpbmRfd2luZG93X2NsaWNrOiBmdW5jdGlvbiBfdW5iaW5kX3dpbmRvd19jbGljaygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCR3aW5kb3csICdjbGljaycsIHRoaXMuX2hhbmRsZXJfd2luZG93X2NsaWNrKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl93aW5kb3dfY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVyX3dpbmRvd19jbGljayhldmVudCkge1xuXG4gICAgICAgICAgICB2YXIgJHBhcmVudHMgPSAkKGV2ZW50LnRhcmdldCkucGFyZW50cygpO1xuXG4gICAgICAgICAgICBpZiAoJHBhcmVudHMuaW5kZXgodGhpcy4kZHJvcGRvd24pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vSU5GTzogQ2hlY2tpbmcgaWYgd2UgY2xpY2tlZCBpbnNpZGUgdGhlIGRyb3Bkb3duIG9yIGFub3RoZXIgdHJpZ2dlciBmb3IgdGhpcyBkcm9wZG93blxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLiR0cmlnZ2Vycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLiR0cmlnZ2Vycy5nZXQoaSkgfHwgJHBhcmVudHMuaW5kZXgodGhpcy4kdHJpZ2dlcnMuZ2V0KGkpKSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBPU0lUSU9OQVRFICovXG5cbiAgICAgICAgX3Bvc2l0aW9uYXRlOiBmdW5jdGlvbiBfcG9zaXRpb25hdGUoKSB7XG5cbiAgICAgICAgICAgIC8vIFZhcmlhYmxlc1xuXG4gICAgICAgICAgICB2YXIgJHRyaWdnZXIgPSAkKGFzc2lnbm1lbnRzW3RoaXMuaWRdKSxcbiAgICAgICAgICAgICAgICBub190aXAgPSAkdHJpZ2dlci5oYXNDbGFzcygnbm8tdGlwJykgfHwgIXRoaXMuaGFzVGlwcyB8fCB0aGlzLmlzQXR0YWNoZWQsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBQb3NpdGlvbmF0ZVxuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5wb3NpdGlvbmF0ZSh7XG4gICAgICAgICAgICAgICAgJGFuY2hvcjogJHRyaWdnZXIsXG4gICAgICAgICAgICAgICAgJHBvaW50ZXI6IGZ1bmN0aW9uICRwb2ludGVyKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub190aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVsnJCcgKyBpbnN0YW5jZS5fZ2V0X29wcG9zaXRlX2RpcmVjdGlvbihkYXRhLmRpcmVjdGlvbikgKyAnX3RpcCddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25hdGVkOiBmdW5jdGlvbiBwb3NpdGlvbmF0ZWQoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRyaWdnZXIuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRyaWdnZXItJyArIGRhdGEuZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfZ2V0X29wcG9zaXRlX2RpcmVjdGlvbjogZnVuY3Rpb24gX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2JvdHRvbSc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvcCc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiBfdXBkYXRlKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcGVuZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZXZlbnQsIHRyaWdnZXIpIHtcblxuICAgICAgICAgICAgdGhpc1t0aGlzLm9wZW5lZCAmJiBhc3NpZ25tZW50c1t0aGlzLmlkXSA9PT0gdHJpZ2dlciA/ICdjbG9zZScgOiAnb3BlbiddKGV2ZW50LCB0cmlnZ2VyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGV2ZW50LCB0cmlnZ2VyKSB7XG5cbiAgICAgICAgICAgIGlmICh0cmlnZ2VyKSB7XG5cbiAgICAgICAgICAgICAgICAkKGFzc2lnbm1lbnRzW3RoaXMuaWRdKS5yZW1vdmVDbGFzcygnZHJvcGRvd24tdHJpZ2dlci10b3AgZHJvcGRvd24tdHJpZ2dlci1ib3R0b20gZHJvcGRvd24tdHJpZ2dlci1sZWZ0IGRyb3Bkb3duLXRyaWdnZXItcmlnaHQgYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuZWQgJiYgYXNzaWdubWVudHNbdGhpcy5pZF0gIT09IHRyaWdnZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5hZGRDbGFzcygnbW92aW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXNzaWdubWVudHNbdGhpcy5pZF0gPSB0cmlnZ2VyO1xuXG4gICAgICAgICAgICAgICAgJCh0cmlnZ2VyKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLl9kZWxheSh0aGlzLl9iaW5kX3dpbmRvd19jbGljayk7IC8vRklYTUU6IFdoeSB3aXRob3V0IHRoZSBkZWxheSBpdCBkb2Vzbid0IHdvcms/XG4gICAgICAgICAgICB0aGlzLl9iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ29wZW4nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG5cbiAgICAgICAgICAgICQoYXNzaWdubWVudHNbdGhpcy5pZF0pLnJlbW92ZUNsYXNzKCdkcm9wZG93bi10cmlnZ2VyLXRvcCBkcm9wZG93bi10cmlnZ2VyLWJvdHRvbSBkcm9wZG93bi10cmlnZ2VyLWxlZnQgZHJvcGRvd24tdHJpZ2dlci1yaWdodCBhY3RpdmUnKTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZSBtb3ZpbmcnKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdW5iaW5kX3dpbmRvd19jbGljaygpO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2Nsb3NlJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kcm9wZG93bicpLmRyb3Bkb3duKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBFWFBBTkRFUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5leHBhbmRlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlcjogJy5leHBhbmRlci10b2dnbGVyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnLmNvbnRhaW5lci1jb250ZW50J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICAgICAgb3BlbjogMjUwLFxuICAgICAgICAgICAgICAgIGNsb3NlOiAyNTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRleHBhbmRlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRjb250ZW50ID0gdGhpcy4kZXhwYW5kZXIuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRlbnQpO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGV4cGFuZGVyLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy50b2dnbGVyLCB0aGlzLnRvZ2dsZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZm9yY2UpIHtcblxuICAgICAgICAgICAgaWYgKCFfLmlzQm9vbGVhbihmb3JjZSkpIHtcblxuICAgICAgICAgICAgICAgIGZvcmNlID0gIXRoaXMub3BlbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9yY2UgIT09IHRoaXMub3BlbmVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZvcmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXIudG9nZ2xlQ2xhc3MoJ29wZW5lZCcsIHRoaXMub3BlbmVkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRlbnRbdGhpcy5vcGVuZWQgPyAnc2xpZGVEb3duJyA6ICdzbGlkZVVwJ10odGhpcy5vcHRpb25zLmRlbGF5LmNsb3NlKTsgLy9GSVhNRTogdGhlIGFuaW1hdGlvbiBpcyB0b28gZXhwZW5zaXZlXG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKHRoaXMub3BlbmVkID8gJ29wZW4nIDogJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUodHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5leHBhbmRlcicpLmV4cGFuZGVyKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBGTElQUEFCTEUgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uZmxpcHBhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBmbGlwcGVyOiAnLmZsaXBwZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgZm9udDogXy5ub29wLFxuICAgICAgICAgICAgICAgIGJhY2s6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBmbGlwcGVkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kZmxpcHBhYmxlID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGZyb250ID0gdGhpcy4kZmxpcHBhYmxlLmZpbmQoJy5mbGlwcGFibGUtZnJvbnQnKTtcbiAgICAgICAgICAgIHRoaXMuJGJhY2sgPSB0aGlzLiRmbGlwcGFibGUuZmluZCgnLmZsaXBwYWJsZS1iYWNrJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNGbGlwcGVkID0gdGhpcy4kZmxpcHBhYmxlLmhhc0NsYXNzKCdmbGlwcGVkJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5mbGlwcGVyLCB0aGlzLmZsaXApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGZsaXA6IGZ1bmN0aW9uIGZsaXAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNGbGlwcGVkID0gIXRoaXMuaXNGbGlwcGVkO1xuXG4gICAgICAgICAgICB0aGlzLiRmbGlwcGFibGUudG9nZ2xlQ2xhc3MoJ2ZsaXBwZWQnLCB0aGlzLmlzRmxpcHBlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIodGhpcy5pc0ZsaXBwZWQgPyAnZnJvbnQnIDogJ2JhY2snKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2ZsaXBwZWQnKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmZsaXBwYWJsZS13cnAnKS5mbGlwcGFibGUoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IG1heWJlIHN5bmMgYXQgdGhlIGluaXQgdGltZSBhbHNvXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciBzeW5jZWRfZ3JvdXBzID0gW107XG5cbiAgICAvKiBGT1JNIFNZTkMgKi9cblxuICAgICQuZm4uZm9ybVN5bmMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBzeW5jX2dyb3VwID0gJGZvcm0uZGF0YSgnc3luYy1ncm91cCcpO1xuXG4gICAgICAgICAgICBpZiAoc3luY2VkX2dyb3Vwcy5pbmRleE9mKHN5bmNfZ3JvdXApICE9PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBzeW5jZWRfZ3JvdXBzLnB1c2goc3luY19ncm91cCk7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybXMgPSAkKCdmb3JtW2RhdGEtc3luYy1ncm91cD1cIicgKyBzeW5jX2dyb3VwICsgJ1wiXScpLFxuICAgICAgICAgICAgICAgICRlbGVzID0gJGZvcm1zLmZpbmQoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Jyk7XG5cbiAgICAgICAgICAgICRlbGVzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRlbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gJGVsZS5hdHRyKCduYW1lJyksXG4gICAgICAgICAgICAgICAgICAgIGlzX2NoZWNrYWJsZSA9ICRlbGUuaXMoJ1t0eXBlPVwicmFkaW9cIl0sIFt0eXBlPVwiY2hlY2tib3hcIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgaXNfcmFkaW8gPSBpc19jaGVja2FibGUgJiYgJGVsZS5pcygnW3R5cGU9XCJyYWRpb1wiXScpLFxuICAgICAgICAgICAgICAgICAgICBpc190ZXh0Ym94ID0gJGVsZS5pcygnaW5wdXQsIHRleHRhcmVhJyksXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cyA9IGlzX3RleHRib3ggPyAnaW5wdXQgY2hhbmdlJyA6ICdjaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAkY3VycmVudF9mb3JtID0gJGVsZS5wYXJlbnQoJ2Zvcm0nKSxcbiAgICAgICAgICAgICAgICAgICAgJG90aGVyX2Zvcm1zID0gJGZvcm1zLm5vdCgkY3VycmVudF9mb3JtKSxcbiAgICAgICAgICAgICAgICAgICAgJG90aGVyX2VsZXMgPSAkb3RoZXJfZm9ybXMuZmluZCgnW25hbWU9XCInICsgbmFtZSArICdcIl0nKTtcblxuICAgICAgICAgICAgICAgICRlbGUub24oZXZlbnRzLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfdmFsdWUgPSAkZWxlLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9jaGVja2VkID0gISEkZWxlLnByb3AoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZWxlcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRvdGhlcl9lbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyX3ZhbHVlID0gJG90aGVyX2VsZS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcl9jaGVja2VkID0gISEkb3RoZXJfZWxlLnByb3AoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX3JhZGlvKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudF92YWx1ZSAhPT0gb3RoZXJfdmFsdWUgfHwgY3VycmVudF9jaGVja2VkID09PSBvdGhlcl9jaGVja2VkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRfdmFsdWUgPT09IG90aGVyX3ZhbHVlICYmIGN1cnJlbnRfY2hlY2tlZCA9PT0gb3RoZXJfY2hlY2tlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNfY2hlY2thYmxlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZWxlLnByb3AoJ2NoZWNrZWQnLCBjdXJyZW50X2NoZWNrZWQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGUudmFsKGN1cnJlbnRfdmFsdWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2Zvcm1bZGF0YS1zeW5jLWdyb3VwXScpLmZvcm1TeW5jKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2pRdWVyeS1leHRyYS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIExPQURJTkcgKi9cblxuICAgICQuZm4ubG9hZGluZyA9IGZ1bmN0aW9uIChmb3JjZSwgY3VzdG9tX29wdGlvbnMpIHtcblxuICAgICAgICAvLyBPUFRJT05TXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfLm1lcmdlKHtcbiAgICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgICAgd3JhcHBlcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgIHNwaW5uZXI6ICdzZWNvbmRhcnknXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zKTtcblxuICAgICAgICAvLyBMT0FESU5HXG5cbiAgICAgICAgdGhpcy5hZGRDbGFzcygnc3Bpbm5lci1vdmVybGF5LWFjdGl2YWJsZScpO1xuXG4gICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKGZvcmNlKSkge1xuXG4gICAgICAgICAgICBmb3JjZSA9ICF0aGlzLmhhc0NsYXNzKCdzcGlubmVyLW92ZXJsYXktYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJG92ZXJsYXkgPSB0aGlzLmNoaWxkcmVuKCcuc3Bpbm5lci1vdmVybGF5Jyk7XG5cbiAgICAgICAgaWYgKCRvdmVybGF5Lmxlbmd0aCA9PT0gMCkge1xuXG4gICAgICAgICAgICB0aGlzLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJzcGlubmVyLW92ZXJsYXkgJyArIG9wdGlvbnMuY29sb3Iud3JhcHBlciArICdcIj4nICsgJzxkaXYgY2xhc3M9XCJzcGlubmVyLXdycFwiPicgKyAnPGRpdiBjbGFzcz1cInNwaW5uZXIgJyArIG9wdGlvbnMuY29sb3Iuc3Bpbm5lciArICdcIj4nICsgJzxkaXYgY2xhc3M9XCJjaXJjbGUtd3JwIGxlZnRcIj4nICsgJzxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImNpcmNsZS13cnAgcmlnaHRcIj4nICsgJzxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoZm9yY2UpIHtcblxuICAgICAgICAgICAgICAgICRvdmVybGF5LmF0dHIoJ2NsYXNzJywgJ3NwaW5uZXItb3ZlcmxheSAnICsgb3B0aW9ucy5jb2xvci53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAkb3ZlcmxheS5maW5kKCcuc3Bpbm5lcicpLmF0dHIoJ2NsYXNzJywgJ3NwaW5uZXIgJyArIG9wdGlvbnMuY29sb3Iuc3Bpbm5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkLnJlZmxvdygpOyAvL0ZJWE1FOiBpcyBpdCBuZWVkZWQ/XG5cbiAgICAgICAgdGhpcy50b2dnbGVDbGFzcygnc3Bpbm5lci1vdmVybGF5LWFjdGl2ZScsIGZvcmNlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBzd2lwZSB0byBkaXNtaXNzIGluIG1vYmlsZSBhbmQgdG91Y2hzY3JlZW4gZW5hYmxlZCBkZXZpY2VzXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciB0aW1lcnMgPSBbXTtcblxuICAgIC8qIEhFTFBFUiAqL1xuXG4gICAgJC5ub3R5ID0gZnVuY3Rpb24gKGN1c3RvbV9vcHRpb25zKSB7XG5cbiAgICAgICAgLy8gRVhURU5EXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhdXRvcGxheTogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKGN1c3RvbV9vcHRpb25zKSkge1xuXG4gICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBjdXN0b21fb3B0aW9ucztcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzUGxhaW5PYmplY3QoY3VzdG9tX29wdGlvbnMpKSB7XG5cbiAgICAgICAgICAgIF8ubWVyZ2Uob3B0aW9ucywgY3VzdG9tX29wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYnV0dG9ucykge1xuXG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPSAnYWN0aW9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5PVFlcblxuICAgICAgICB2YXIgbm90eSA9IG5ldyAkLnByZXN0by5ub3R5KG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9wbGF5KSB7XG5cbiAgICAgICAgICAgIG5vdHkub3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vdHk7XG4gICAgfTtcblxuICAgIC8qIE5PVFkgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8ubm90eScsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIGJhc2U6ICc8ZGl2IGNsYXNzPVwibm90eSBjb250YWluZXIgeyU9by50eXBlJX0geyU9by5jb2xvciV9IHslPW8uY3NzJX1cIj4nICsgLy9UT0RPOiBhZGQgYmFjayB0cmFuc3BhcmVudGl6ZVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250YWluZXItY29udGVudFwiPicgKyAnPGRpdiBjbGFzcz1cImluZm9iYXItd3JwIGluc2V0IHslPW8uY29sb3IlfVwiPicgKyAvL1RPRE86IGFkZCBiYWNrIHRyYW5zcGFyZW50aXplXG4gICAgICAgICAgICAneyUgaWYgKCBvLmltZyApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmltZ1wiLCBvLmltZ8KgKTsgJX0nICsgJzxkaXYgY2xhc3M9XCJpbmZvYmFyLWNlbnRlclwiPicgKyAneyUgaWYgKCBvLnRpdGxlICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkudGl0bGVcIiwgby50aXRsZSApOyAlfScgKyAneyUgaWYgKCBvLmJvZHkgKSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5ib2R5XCIsIG8uYm9keSApOyAlfScgKyAnPC9kaXY+JyArICd7JSBpZiAoIG8uYnV0dG9ucy5sZW5ndGggPT09IDEgKSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5zaW5nbGVfYnV0dG9uXCIsIG8uYnV0dG9uc1swXSApOyAlfScgKyAnPC9kaXY+JyArICd7JSBpZiAoIG8uYnV0dG9ucy5sZW5ndGggPiAxICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYnV0dG9uc1wiLCBvLmJ1dHRvbnMgKTsgJX0nICsgJzwvZGl2PicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIGltZzogJzxkaXYgY2xhc3M9XCJub3R5LWltZyBpbmZvYmFyLWxlZnRcIj4nICsgJzxpbWcgc3JjPVwieyU9byV9XCIgY2xhc3M9XCJzbW9vdGhcIiAvPicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIHRpdGxlOiAnPHAgY2xhc3M9XCJpbmZvYmFyLXRpdGxlXCI+JyArICd7JSNvJX0nICsgJzwvcD4nLFxuICAgICAgICAgICAgYm9keTogJ3slI28lfScsXG4gICAgICAgICAgICBzaW5nbGVfYnV0dG9uOiAnPGRpdiBjbGFzcz1cImluZm9iYXItcmlnaHRcIj4nICsgJ3slIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmJ1dHRvblwiLCBvICk7ICV9JyArICc8L2Rpdj4nLFxuICAgICAgICAgICAgYnV0dG9uczogJzxkaXYgY2xhc3M9XCJub3R5LWJ1dHRvbnMgbXVsdGlwbGUtd3JwIGNlbnRlcmVkXCI+JyArICc8ZGl2IGNsYXNzPVwibXVsdGlwbGVcIj4nICsgJ3slIGZvciAoIHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKysgKSB7ICV9JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5idXR0b25cIiwgb1tpXSApOyAlfScgKyAneyUgfSAlfScgKyAnPC9kaXY+JyArICc8L2Rpdj4nLFxuICAgICAgICAgICAgYnV0dG9uOiAnPGRpdiBjbGFzcz1cImxhYmVsLXdycCBidXR0b24td3JwXCI+JyArICc8ZGl2IGNsYXNzPVwibGFiZWwgYWN0aW9uYWJsZSB7JT0oby5jb2xvciB8fCBcIndoaXRlXCIpJX0geyU9KG8uc2l6ZSB8fCBcInNtYWxsXCIpJX0geyU9KG8uY3NzIHx8IFwiXCIpJX1cIj4nICsgJzxkaXYgY2xhc3M9XCJsYWJlbC1jZW50ZXJcIj4nICsgJ3slIyhvLnRleHQgfHwgXCJcIiklfScgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgYW5jaG9yOiB7XG4gICAgICAgICAgICAgICAgeTogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgeDogJ2xlZnQnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgICAgIHJlbW92ZTogMjAwXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBib2R5OiBmYWxzZSxcbiAgICAgICAgICAgIGltZzogZmFsc2UsXG4gICAgICAgICAgICBidXR0b25zOiBbXSxcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF8ubm9vcFxuICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgICAgICBjc3M6ICcnLFxuXG4gICAgICAgICAgICB0dGw6IDM1MDAsXG5cbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5vdHkgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXZlck9wZW5lZCA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9pbml0X2NsaWNrOiBmdW5jdGlvbiBfaW5pdF9jbGljaygpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X2J1dHRvbnNfY2xpY2s6IGZ1bmN0aW9uIF9pbml0X2J1dHRvbnNfY2xpY2soKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkYnV0dG9ucyA9IHRoaXMuJG5vdHkuZmluZCgnLmJ1dHRvbi13cnAgLmxhYmVsJyksXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgICAgIF8uZWFjaCh0aGlzLm9wdGlvbnMuYnV0dG9ucywgZnVuY3Rpb24gKGJ1dHRvbiwgaW5kZXgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICRidXR0b25zLmVxKGluZGV4KTsgLy9GSVhNRTogaXQgd2lsbCBub3Qgd29yayBpZiB3ZSBhZGQgYSBidXR0b24gdG8gdGhlIGJvZHkgbWFudWFsbHlcblxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLm9uQ2xpY2spIGJ1dHRvbi5vbkNsaWNrLmNhbGwodGhpcywgZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdF90aW1lcjogZnVuY3Rpb24gX2luaXRfdGltZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGggPT09IDAgJiYgdGhpcy5vcHRpb25zLnR0bCAhPT0gJ2ZvcmV2ZXInKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gJC50aW1lcih0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy50dGwsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdGltZXJzLnB1c2godGhpcy50aW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfaG92ZXI6IGZ1bmN0aW9uIF9pbml0X2hvdmVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRub3R5LmhvdmVyKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF8uZWFjaCh0aW1lcnMsIGZ1bmN0aW9uICh0aW1lcikge1xuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfLmVhY2godGltZXJzLCBmdW5jdGlvbiAodGltZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5yZW1haW5pbmcoTWF0aC5tYXgoMTAwMCwgdGltZXIucmVtYWluaW5nKCkgfHwgMCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcblxuICAgICAgICAgICAgICAgICQoJy5ub3R5LXF1ZXVlcy4nICsgdGhpcy5vcHRpb25zLmFuY2hvci55ICsgJyAubm90eS1xdWV1ZS4nICsgdGhpcy5vcHRpb25zLmFuY2hvci54KS5maXJzdCgpLmFwcGVuZCh0aGlzLiRub3R5KTtcblxuICAgICAgICAgICAgICAgICQucmVmbG93KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRub3R5LmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5ldmVyT3BlbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdF9jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0X2J1dHRvbnNfY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdF9ob3ZlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV2ZXJPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0X3RpbWVyKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdvcGVuJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcikge1xuXG4gICAgICAgICAgICAgICAgXy5wdWxsKHRpbWVycywgdGhpcy50aW1lcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kbm90eS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJG5vdHkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZGVsYXkucmVtb3ZlKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY2xvc2UnKTtcblxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJGJvZHkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZXMgdG9wXCI+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBleHBhbmRlZFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWVzLXJvd1wiPicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgbGVmdFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgY2VudGVyXCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSByaWdodFwiPjwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcyBib3R0b21cIj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcy1yb3dcIj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGxlZnRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGNlbnRlclwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgcmlnaHRcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgZXhwYW5kZWRcIj48L2Rpdj4nICsgJzwvZGl2PicpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vbG9hZGluZy9sb2FkaW5nLmpzXG4gKiBAcmVxdWlyZXMgLi4vbm90eS9ub3R5LmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGNoZWNrIGlmIGl0IHdvcmtzLCBhbHNvIGZvciB1cGxvYWRcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEZPUk0gQUpBWCAqL1xuXG4gICAgJC5mbi5mb3JtQWpheCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy9GSVhNRTogRG9lcyBpdCB3b3JrP1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsXG4gICAgICAgICAgICAgICAgZGF0YTogbmV3IEZvcm1EYXRhKHRoaXMpLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAkZm9ybS5hdHRyKCdtZXRob2QnKSB8fCAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcblxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uIGJlZm9yZVNlbmQoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJGZvcm0ubG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHJlcykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1swXSA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JTkZPOiBJcyBIVE1MXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ1RoZXJlIHdhcyBhbiBlcnJvciwgcGxlYXNlIHRyeSBhZ2FpbiBvciByZXBvcnQgdGhlIHByb2JsZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZChyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eShyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ1RoZXJlIHdhcyBhbiBlcnJvciwgcGxlYXNlIHRyeSBhZ2FpbiBvciByZXBvcnQgdGhlIHByb2JsZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHJlcykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gJ3JlZnJlc2gnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ0RvbmUhIFJlZnJlc2hpbmcgdGhlIHBhZ2UuLi4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXigoXFxTKik/OlxcL1xcLyk/XFwvP1xcUyokLy50ZXN0KHJlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lORk86IElzIGFuIHVybCwgZWl0aGVyIGFic29sdXRlIG9yIHJlbGF0aXZlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzID09PSB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCByZXMgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSgnRG9uZSEgUmVmcmVzaGluZyB0aGUgcGFnZS4uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdEb25lISBSZWRpcmVjdGluZy4uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbihyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzWzBdID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lORk86IElzIEhUTUxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSgnRG9uZSEgQSBwYWdlIHJlZnJlc2ggbWF5IGJlIG5lZWRlZCB0byBzZWUgdGhlIGNoYW5nZXMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZChyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eShyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ0RvbmUhIEEgcGFnZSByZWZyZXNoIG1heSBiZSBuZWVkZWQgdG8gc2VlIHRoZSBjaGFuZ2VzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmxvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnZm9ybS5hamF4JykuZm9ybUFqYXgoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBtYXliZSBhZGQgdGhlIGFiaWxpdHkgdG8gb3BlbiBpdFxuLy9UT0RPOiBtYXliZSBqdXN0IGhpZGluZyBpdCBvbiBjbG9zZSBpcyBlbm91Z2gsIGRvIHdlIGdhaW4gYSBwZXJmb3JtYW5jZSBiZW5lZml0IHRoaXMgd2F5P1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogSU5GT0JBUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5pbmZvYmFyJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBjbG9zZXI6ICcuaW5mb2Jhci1jbG9zZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsYXk6IHtcbiAgICAgICAgICAgICAgICBjbG9zZTogMjUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRpbmZvYmFyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNsb3NlciwgdGhpcy5jbG9zZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRpbmZvYmFyLmFkZENsYXNzKCdyZW1vdmUnKS5zbGlkZVVwKHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSk7IC8vRklYTUU6IHRoZSBhbmltYXRpb24gaXMgdG9vIGV4cGVuc2l2ZVxuXG4gICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbmZvYmFyLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY2xvc2UnKTtcbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5pbmZvYmFyLXdycCcpLmluZm9iYXIoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIE1PREFMICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLm1vZGFsJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBjbG9zZXI6ICcubW9kYWwtY2xvc2VyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG1vZGFsID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNsb3NlciwgdGhpcy5jbG9zZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2VzY19rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9lc2Nfa2V5ZG93bihldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVTQ0FQRSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG1vZGFsLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfZXNjX2tleWRvd24pO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdvcGVuJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RhbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9lc2Nfa2V5ZG93bik7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2Nsb3NlJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5tb2RhbCcpLm1vZGFsKCk7XG5cbiAgICAgICAgJCgnW2RhdGEtbW9kYWwtdHJpZ2dlcl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL1RPRE86IG1heWJlIGRvIHNvbWV0aGluZyBsaWtlIHRoaXMgZm9yIHRoZSBvdGhlciB0cmlnZ2FibGUgd2lkZ2V0cy4uLiBzbyB0aGF0IHdlIGRvbid0IGNhcmUgaWYgYSB0cmlnZ2VyIGNoYW5nZXMgb3IgaXMgYWRkZWQgZHluYW1pY2FsbHkgLy9UT0RPOiB1c2UgZGVsZWdhdGlvblxuXG4gICAgICAgICAgICAkKCcjJyArICQodGhpcykuZGF0YSgnbW9kYWwtdHJpZ2dlcicpKS5tb2RhbCgnaW5zdGFuY2UnKS5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IEFkZCBmbGljayBjYXBhYmlsaXRpZXMgKHNob3cgYW5kIGhpZGUgb24gZmxpY2sgaW4gdGhlIHJpZ2h0IGRpcmVjdGlvbiBhbmQgc3RhcnRpbmcgd2l0aGluIHRoZSByaWdodCB6b25lKVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTkFWQkFSICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLm5hdmJhcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kbmF2YmFyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHdycCA9IHRoaXMuJG5hdmJhci5wYXJlbnQoKTtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJG5hdmJhci5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICB0aGlzLiRjbG9zZXJzID0gdGhpcy4kd3JwLmZpbmQoJy5uYXZiYXItY2xvc2VyJyk7XG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VycyA9ICQoJy5uYXZiYXItdHJpZ2dlcltkYXRhLW5hdmJhcj1cIicgKyB0aGlzLmlkICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IHRoaXMuJHdycC5oYXNDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgLyogQ0xPU0VSIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGNsb3NlcnMsICdjbGljaycsIHRoaXMuY2xvc2UpO1xuXG4gICAgICAgICAgICAvKiBUUklHR0VSIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHRyaWdnZXJzLCAnY2xpY2snLCB0aGlzLm9wZW4pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGZvcmNlKSB7XG5cbiAgICAgICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKGZvcmNlKSkge1xuXG4gICAgICAgICAgICAgICAgZm9yY2UgPSAhdGhpcy5vcGVuZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmb3JjZSAhPT0gdGhpcy5vcGVuZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZm9yY2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR3cnAudG9nZ2xlQ2xhc3MoJ29wZW5lZCcsIHRoaXMub3BlbmVkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIodGhpcy5vcGVuZWQgPyAnb3BlbicgOiAnY2xvc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLm5hdmJhcicpLm5hdmJhcigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vbm90eS9ub3R5LmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL0lORk86IElmIHRoZSB0YWIgaGFzbid0IHRoZSBmb2N1cyBhbmQgd2UgY2FuIHVzZSB0aGUgbmF0aXZlIG5vdGlmaWNhdGlvbnMgdGhhbiB3ZSdsbCBzZW5kIGEgbmF0aXZlIG5vdGlmaWNhdGlvbiwgb3RoZXJ3aXNlIHdlIHdpbGwgZmFsbGJhY2sgdG8gYSBub3R5XG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBOT1RJRklDQVRJT04gKi9cblxuICAgICQubm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGN1c3RvbV9vcHRpb25zKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSh7XG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBib2R5OiBmYWxzZSxcbiAgICAgICAgICAgIGltZzogZmFsc2VcbiAgICAgICAgfSwgY3VzdG9tX29wdGlvbnMpO1xuXG4gICAgICAgIC8vIE5PVElGSUNBVElPTlxuXG4gICAgICAgIGlmICghZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiB3aW5kb3cuTm90aWZpY2F0aW9uICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSAnZGVuaWVkJykge1xuXG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24gKHN0YXR1cykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2dyYW50ZWQnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24ob3B0aW9ucy50aXRsZSwgeyBib2R5OiBvcHRpb25zLmJvZHksIGljb246IG9wdGlvbnMuaW1nIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5ub3R5KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAkLm5vdHkob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29va2llL2Nvb2tpZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiB0aGUgcGlwZSBjaGFyYWN0ZXIgKHwpIGlzIGZvcmJpZGRlbiBpbnNpZGUgYSBuYW1lLCBjb29raWUncyB0dGwgaXMgMSB5ZWFyXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIG90aGVyIGNvb2tpZSBzZXR0YWJsZSBwYXJhbWV0ZXJzXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBPTkUgVElNRSBBQ1RJT04gKi9cblxuICAgICQub25lVGltZUFjdGlvbiA9IGZ1bmN0aW9uIChjdXN0b21fb3B0aW9ucywgYWN0aW9uKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgY29udGFpbmVyOiAnb3RhJywgLy9JTkZPOiB0aGUgY29va2llIG5hbWUgdGhhdCBob2xkcyB0aGUgYWN0aW9ucywgYSBuYW1lc3BhY2UgZm9yIHJlbGF0ZWQgYWN0aW9ucyBiYXNpY2FsbHlcbiAgICAgICAgICAgIGV4cGlyeTogSW5maW5pdHksIC8vSU5GTzogdGhlIGV4cGlyZSB0aW1lIG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgIG5hbWU6IGZhbHNlLCAvL0lORk86IHRoZSBhY3Rpb24gbmFtZVxuICAgICAgICAgICAgYWN0aW9uOiBmYWxzZSAvL0lORk86IHRoZSBhY3Rpb24gdG8gZXhlY3V0ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKGN1c3RvbV9vcHRpb25zKSkge1xuXG4gICAgICAgICAgICBvcHRpb25zLm5hbWUgPSBjdXN0b21fb3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihhY3Rpb24pKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfLmlzUGxhaW5PYmplY3QoY3VzdG9tX29wdGlvbnMpKSB7XG5cbiAgICAgICAgICAgIF8ubWVyZ2Uob3B0aW9ucywgY3VzdG9tX29wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT05FIFRJTUUgQUNUSU9OXG5cbiAgICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuXG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gbmV3IEFjdGlvbihvcHRpb25zLmNvbnRhaW5lciwgb3B0aW9ucy5uYW1lKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWN0aW9uICYmICFhY3Rpb24uZ2V0KCkpIHtcblxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb250YWluZXIob3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMuZXhwaXJ5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBDT05UQUlORVIgT0JKICovXG5cbiAgICB2YXIgQ29udGFpbmVyID0gZnVuY3Rpb24gQ29udGFpbmVyKG5hbWUsIGV4cGlyeSkge1xuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZXhwaXJ5ID0gZXhwaXJ5O1xuXG4gICAgICAgIHRoaXMuYWN0aW9uc1N0ciA9ICQuY29va2llLmdldCh0aGlzLm5hbWUpIHx8ICcnO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSB0aGlzLmFjdGlvbnNTdHIubGVuZ3RoID4gMCA/IHRoaXMuYWN0aW9uc1N0ci5zcGxpdCgnfCcpIDogW107XG4gICAgfTtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoYWN0aW9uKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBfLmNvbnRhaW5zKHRoaXMuYWN0aW9ucywgYWN0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChhY3Rpb24pIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChhY3Rpb24pKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMucHVzaChhY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zU3RyID0gdGhpcy5hY3Rpb25zLmpvaW4oJ3wnKTtcblxuICAgICAgICAgICAgJC5jb29raWUuc2V0KHRoaXMubmFtZSwgdGhpcy5hY3Rpb25zU3RyLCB0aGlzLmV4cGlyeSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGFjdGlvbikge1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBfLnB1bGwodGhpcy5hY3Rpb25zLCBhY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAkLmNvb2tpZS5yZW1vdmUodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qIEFDVElPTiBPQkogKi9cblxuICAgIHZhciBBY3Rpb24gPSBmdW5jdGlvbiBBY3Rpb24oY29udGFpbmVyLCBuYW1lLCBhY3Rpb24pIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9O1xuXG4gICAgQWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldCh0aGlzLm5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXQodGhpcy5uYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlc2V0KHRoaXMubmFtZSk7XG4gICAgICAgIH1cblxuICAgIH07XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogdGhpcyB3YXkgb2YgZXhlbnRpbmcgdGhlIHByb3BlcnR5IGVyYXNlcyBwcmV2aW91cyBzZXR0ZWQgc3R5bGVzIChzeW5jZSBhIGFycmF5IGlzIGV4dGVuZGVkIHdpdGggYSBjb3B5LCB3ZSBhcmUgbm90IGV4dGVuZGluZyB0aGUgY2hpbGRyZW4pXG4vL1RPRE86IG1ha2UgdGVtcGxhdGVzIERSWVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUFJJVkFURSAqL1xuXG4gICAgdmFyIGdlbmVyYXRlX29wdGlvbnMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9vcHRpb25zKG9wdGlvbnMsIG11bHRpcGxlKSB7XG5cbiAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKG11bHRpcGxlKSkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X29wdGlvbnMgPSB7IHBlcmNlbnRhZ2VzOiBBcnJheShhcmd1bWVudHMubGVuZ3RoKSB9O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIG5ld19vcHRpb25zLnBlcmNlbnRhZ2VzW2ldID0gXy5pc051bWJlcihhcmd1bWVudHNbaV0pID8geyB2YWx1ZTogYXJndW1lbnRzW2ldIH0gOiBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfb3B0aW9ucyA9IF8uaXNOdW1iZXIob3B0aW9ucykgPyB7IHBlcmNlbnRhZ2VzOiBbeyB2YWx1ZTogb3B0aW9ucyB9XSB9IDogb3B0aW9ucy5wZXJjZW50YWdlcyA/IG9wdGlvbnMgOiB7IHBlcmNlbnRhZ2VzOiBbb3B0aW9uc10gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdfb3B0aW9ucztcbiAgICB9O1xuXG4gICAgLyogSEVMUEVSICovXG5cbiAgICAkLnByb2dyZXNzQmFyID0gZnVuY3Rpb24gKG9wdGlvbnMsIG11bHRpcGxlKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IGdlbmVyYXRlX29wdGlvbnMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gbmV3ICQucHJlc3RvLnByb2dyZXNzQmFyKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKiBQUk9HUkVTUyBCQVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8ucHJvZ3Jlc3NCYXInLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICBiYXNlOiAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyIHslPShvLnN0cmlwZWQgPyBcInN0cmlwZWRcIiA6IFwiXCIpJX0geyU9by5jb2xvciV9IHslPW8uc2l6ZSV9IHslPW8uY3NzJX1cIj4nICsgJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci11bmhpZ2hsaWdodGVkXCI+JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIucGVyY2VudGFnZXNcIiArICggby5sYWJlbGVkID8gXCJfbGFiZWxlZFwiIDogXCJcIiApLCBvLnBlcmNlbnRhZ2VzICk7ICV9JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1zdHJpcGVzXCI+PC9kaXY+JyArICc8L2Rpdj4nLFxuICAgICAgICAgICAgcGVyY2VudGFnZXM6ICd7JSBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrICkgeyAlfScgKyAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnByb2dyZXNzQmFyLnBlcmNlbnRhZ2VcIiwgb1tpXSApOyAlfScgKyAneyUgfSAlfScsXG4gICAgICAgICAgICBwZXJjZW50YWdlc19sYWJlbGVkOiAneyUgZm9yICggdmFyIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKyApIHsgJX0nICsgJ3slIGluY2x1ZGUgKCBcInByZXN0by5wcm9ncmVzc0Jhci5wZXJjZW50YWdlX2xhYmVsZWRcIiwgb1tpXSApOyAlfScgKyAneyUgfSAlfScsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyLWhpZ2hsaWdodGVkIHslPShvLmNvbG9yIHx8IFwiXCIpJX0geyU9KG8uY3NzIHx8IFwiXCIpJX1cIj48L2Rpdj4nLFxuICAgICAgICAgICAgcGVyY2VudGFnZV9sYWJlbGVkOiAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyLWhpZ2hsaWdodGVkIHslPShvLmNvbG9yIHx8IFwiXCIpJX0geyU9KG8uY3NzIHx8IFwiXCIpJX1cIj4nICsgJ3slIGluY2x1ZGUgKCBcInByZXN0by5wcm9ncmVzc0Jhci5sYWJlbFwiLCB7fSApOyAlfScgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIGxhYmVsOiAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyLWxhYmVsXCI+PC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBwZXJjZW50YWdlczogW10sXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogJydcbiAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBjb2xvcjogJycsXG4gICAgICAgICAgICBzaXplOiAnJyxcbiAgICAgICAgICAgIGNzczogJycsXG5cbiAgICAgICAgICAgIHN0cmlwZWQ6IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxlZDogZmFsc2UsXG4gICAgICAgICAgICBkZWNpbWFsczogMCxcblxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZnVsbDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHByb2dyZXNzQmFyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodGVkcyA9IHRoaXMuJHByb2dyZXNzQmFyLmZpbmQoJy5wcm9ncmVzc0Jhci1oaWdobGlnaHRlZCcpO1xuICAgICAgICAgICAgdGhpcy4kc3RyaXBlcyA9IHRoaXMuJHByb2dyZXNzQmFyLmZpbmQoJy5wcm9ncmVzc0Jhci1zdHJpcGVzJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXphdGlvblR5cGUgIT09ICdlbGVtZW50Jykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF91cGRhdGU6IGZ1bmN0aW9uIF91cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgdmFyICRoaWdobGlnaHRlZCA9IHRoaXMuJGhpZ2hsaWdodGVkcy5lcShpKTtcblxuICAgICAgICAgICAgICAgICRoaWdobGlnaHRlZC53aWR0aCh0aGlzLm9wdGlvbnMucGVyY2VudGFnZXNbaV0udmFsdWUgKyAnJScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYWJlbGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRsYWJlbCA9ICRoaWdobGlnaHRlZC5maW5kKCcucHJvZ3Jlc3NCYXItbGFiZWwnKTtcblxuICAgICAgICAgICAgICAgICAgICAkbGFiZWwuaHRtbCgrdGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzW2ldLnZhbHVlLnRvRml4ZWQodGhpcy5vcHRpb25zLmRlY2ltYWxzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3VtID0gXy5jbGFtcCgwLCBfLnN1bSh0aGlzLmdldCgpLnNsaWNlKDAsIHRoaXMuJGhpZ2hsaWdodGVkcy5sZW5ndGgpKSwgMTAwKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJpcGVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzdHJpcGVzLndpZHRoKHN1bSArICclJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdW0gPT09IDEwMCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignZnVsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5tYXAodGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzLCBmdW5jdGlvbiAocGVyY2VudGFnZSkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnRhZ2UudmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChvcHRpb25zLCBtdWx0aXBsZSkge1xuXG4gICAgICAgICAgICBvcHRpb25zID0gZ2VuZXJhdGVfb3B0aW9ucy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBfLm1lcmdlKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7IC8vRklYTUU6IGRvZXMgdGhlIG1lcmdlIHdvcmsgaGVyZT8gb3Igd2UgbW9kaWZ5IHRoZSBvcmlnaW5hbCBvcHRpb25zP1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5wcm9ncmVzc0JhcicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHByb2dyZXNzQmFyID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICBzdHJpcGVkOiAkcHJvZ3Jlc3NCYXIuaGFzQ2xhc3MoJ3N0cmlwZWQnKSxcbiAgICAgICAgICAgICAgICBsYWJlbGVkOiAhISRwcm9ncmVzc0Jhci5maW5kKCcucHJvZ3Jlc3NCYXItbGFiZWwnKS5sZW5ndGhcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRwcm9ncmVzc0Jhci5maW5kKCcucHJvZ3Jlc3NCYXItaGlnaGxpZ2h0ZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIG9wdGlvbnMucGVyY2VudGFnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJzZUZsb2F0KHRoaXMuc3R5bGUud2lkdGgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHByb2dyZXNzQmFyLnByb2dyZXNzQmFyKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG4vKiBodHRwOi8vcHJpc21qcy5jb20vZG93bmxvYWQuaHRtbD90aGVtZXM9cHJpc20mbGFuZ3VhZ2VzPW1hcmt1cCtjc3MrY3NzLWV4dHJhcytjbGlrZStqYXZhc2NyaXB0ICovXG5cInVzZSBzdHJpY3RcIjtcblxuc2VsZiA9IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPSBcInVuZGVmaW5lZFwiICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSA/IHNlbGYgOiB7fTt2YXIgUHJpc20gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgZSA9IC9cXGJsYW5nKD86dWFnZSk/LSg/IVxcKikoXFx3KylcXGIvaSxcbiAgICAgIHQgPSBzZWxmLlByaXNtID0geyB1dGlsOiB7IGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBuID8gbmV3IG4oZS50eXBlLCB0LnV0aWwuZW5jb2RlKGUuY29udGVudCksIGUuYWxpYXMpIDogdC51dGlsLnR5cGUoZSkgPT09IFwiQXJyYXlcIiA/IGUubWFwKHQudXRpbC5lbmNvZGUpIDogZS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvXFx1MDBhMC9nLCBcIiBcIik7XG4gICAgICB9LCB0eXBlOiBmdW5jdGlvbiB0eXBlKGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXFxbb2JqZWN0IChcXHcrKVxcXS8pWzFdO1xuICAgICAgfSwgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKGUpIHtcbiAgICAgICAgdmFyIG4gPSB0LnV0aWwudHlwZShlKTtzd2l0Y2ggKG4pIHtjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgICB2YXIgciA9IHt9O2ZvciAodmFyIGkgaW4gZSkgZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiAocltpXSA9IHQudXRpbC5jbG9uZShlW2ldKSk7cmV0dXJuIHI7Y2FzZSBcIkFycmF5XCI6XG4gICAgICAgICAgICByZXR1cm4gZS5zbGljZSgpO31yZXR1cm4gZTtcbiAgICAgIH0gfSwgbGFuZ3VhZ2VzOiB7IGV4dGVuZDogZnVuY3Rpb24gZXh0ZW5kKGUsIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0LnV0aWwuY2xvbmUodC5sYW5ndWFnZXNbZV0pO2ZvciAodmFyIGkgaW4gbikgcltpXSA9IG5baV07cmV0dXJuIHI7XG4gICAgICB9LCBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIGluc2VydEJlZm9yZShlLCBuLCByLCBpKSB7XG4gICAgICAgIGkgPSBpIHx8IHQubGFuZ3VhZ2VzO3ZhciBzID0gaVtlXTtpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgciA9IGFyZ3VtZW50c1sxXTtmb3IgKHZhciBvIGluIHIpIHIuaGFzT3duUHJvcGVydHkobykgJiYgKHNbb10gPSByW29dKTtyZXR1cm4gcztcbiAgICAgICAgfXZhciB1ID0ge307Zm9yICh2YXIgYSBpbiBzKSBpZiAocy5oYXNPd25Qcm9wZXJ0eShhKSkge1xuICAgICAgICAgIGlmIChhID09IG4pIGZvciAodmFyIG8gaW4gcikgci5oYXNPd25Qcm9wZXJ0eShvKSAmJiAodVtvXSA9IHJbb10pO3VbYV0gPSBzW2FdO1xuICAgICAgICB9dC5sYW5ndWFnZXMuREZTKHQubGFuZ3VhZ2VzLCBmdW5jdGlvbiAodCwgbikge1xuICAgICAgICAgIG4gPT09IGlbZV0gJiYgdCAhPSBlICYmICh0aGlzW3RdID0gdSk7XG4gICAgICAgIH0pO3JldHVybiBpW2VdID0gdTtcbiAgICAgIH0sIERGUzogZnVuY3Rpb24gREZTKGUsIG4sIHIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBlKSBpZiAoZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIG4uY2FsbChlLCBpLCBlW2ldLCByIHx8IGkpO3QudXRpbC50eXBlKGVbaV0pID09PSBcIk9iamVjdFwiID8gdC5sYW5ndWFnZXMuREZTKGVbaV0sIG4pIDogdC51dGlsLnR5cGUoZVtpXSkgPT09IFwiQXJyYXlcIiAmJiB0Lmxhbmd1YWdlcy5ERlMoZVtpXSwgbiwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gfSwgaGlnaGxpZ2h0QWxsOiBmdW5jdGlvbiBoaWdobGlnaHRBbGwoZSwgbikge1xuICAgICAgdmFyIHIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSwgW2NsYXNzKj1cImxhbmd1YWdlLVwiXSBjb2RlLCBjb2RlW2NsYXNzKj1cImxhbmctXCJdLCBbY2xhc3MqPVwibGFuZy1cIl0gY29kZScpO2ZvciAodmFyIGkgPSAwLCBzOyBzID0gcltpKytdOykgdC5oaWdobGlnaHRFbGVtZW50KHMsIGUgPT09ICEwLCBuKTtcbiAgICB9LCBoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbiBoaWdobGlnaHRFbGVtZW50KHIsIGksIHMpIHtcbiAgICAgIHZhciBvLFxuICAgICAgICAgIHUsXG4gICAgICAgICAgYSA9IHI7d2hpbGUgKGEgJiYgIWUudGVzdChhLmNsYXNzTmFtZSkpIGEgPSBhLnBhcmVudE5vZGU7aWYgKGEpIHtcbiAgICAgICAgbyA9IChhLmNsYXNzTmFtZS5tYXRjaChlKSB8fCBbLCBcIlwiXSlbMV07dSA9IHQubGFuZ3VhZ2VzW29dO1xuICAgICAgfWlmICghdSkgcmV0dXJuO3IuY2xhc3NOYW1lID0gci5jbGFzc05hbWUucmVwbGFjZShlLCBcIlwiKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKSArIFwiIGxhbmd1YWdlLVwiICsgbzthID0gci5wYXJlbnROb2RlOy9wcmUvaS50ZXN0KGEubm9kZU5hbWUpICYmIChhLmNsYXNzTmFtZSA9IGEuY2xhc3NOYW1lLnJlcGxhY2UoZSwgXCJcIikucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikgKyBcIiBsYW5ndWFnZS1cIiArIG8pO3ZhciBmID0gci50ZXh0Q29udGVudDtpZiAoIWYpIHJldHVybjt2YXIgbCA9IHsgZWxlbWVudDogciwgbGFuZ3VhZ2U6IG8sIGdyYW1tYXI6IHUsIGNvZGU6IGYgfTt0Lmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRcIiwgbCk7aWYgKGkgJiYgc2VsZi5Xb3JrZXIpIHtcbiAgICAgICAgdmFyIGMgPSBuZXcgV29ya2VyKHQuZmlsZW5hbWUpO2Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsLmhpZ2hsaWdodGVkQ29kZSA9IG4uc3RyaW5naWZ5KEpTT04ucGFyc2UoZS5kYXRhKSwgbyk7dC5ob29rcy5ydW4oXCJiZWZvcmUtaW5zZXJ0XCIsIGwpO2wuZWxlbWVudC5pbm5lckhUTUwgPSBsLmhpZ2hsaWdodGVkQ29kZTtzICYmIHMuY2FsbChsLmVsZW1lbnQpO3QuaG9va3MucnVuKFwiYWZ0ZXItaGlnaGxpZ2h0XCIsIGwpO1xuICAgICAgICB9O2MucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoeyBsYW5ndWFnZTogbC5sYW5ndWFnZSwgY29kZTogbC5jb2RlIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGwuaGlnaGxpZ2h0ZWRDb2RlID0gdC5oaWdobGlnaHQobC5jb2RlLCBsLmdyYW1tYXIsIGwubGFuZ3VhZ2UpO3QuaG9va3MucnVuKFwiYmVmb3JlLWluc2VydFwiLCBsKTtsLmVsZW1lbnQuaW5uZXJIVE1MID0gbC5oaWdobGlnaHRlZENvZGU7cyAmJiBzLmNhbGwocik7dC5ob29rcy5ydW4oXCJhZnRlci1oaWdobGlnaHRcIiwgbCk7XG4gICAgICB9XG4gICAgfSwgaGlnaGxpZ2h0OiBmdW5jdGlvbiBoaWdobGlnaHQoZSwgciwgaSkge1xuICAgICAgdmFyIHMgPSB0LnRva2VuaXplKGUsIHIpO3JldHVybiBuLnN0cmluZ2lmeSh0LnV0aWwuZW5jb2RlKHMpLCBpKTtcbiAgICB9LCB0b2tlbml6ZTogZnVuY3Rpb24gdG9rZW5pemUoZSwgbiwgcikge1xuICAgICAgdmFyIGkgPSB0LlRva2VuLFxuICAgICAgICAgIHMgPSBbZV0sXG4gICAgICAgICAgbyA9IG4ucmVzdDtpZiAobykge1xuICAgICAgICBmb3IgKHZhciB1IGluIG8pIG5bdV0gPSBvW3VdO2RlbGV0ZSBuLnJlc3Q7XG4gICAgICB9ZTogZm9yICh2YXIgdSBpbiBuKSB7XG4gICAgICAgIGlmICghbi5oYXNPd25Qcm9wZXJ0eSh1KSB8fCAhblt1XSkgY29udGludWU7dmFyIGEgPSBuW3VdO2EgPSB0LnV0aWwudHlwZShhKSA9PT0gXCJBcnJheVwiID8gYSA6IFthXTtmb3IgKHZhciBmID0gMDsgZiA8IGEubGVuZ3RoOyArK2YpIHtcbiAgICAgICAgICB2YXIgbCA9IGFbZl0sXG4gICAgICAgICAgICAgIGMgPSBsLmluc2lkZSxcbiAgICAgICAgICAgICAgaCA9ICEhbC5sb29rYmVoaW5kLFxuICAgICAgICAgICAgICBwID0gMCxcbiAgICAgICAgICAgICAgZCA9IGwuYWxpYXM7bCA9IGwucGF0dGVybiB8fCBsO2ZvciAodmFyIHYgPSAwOyB2IDwgcy5sZW5ndGg7IHYrKykge1xuICAgICAgICAgICAgdmFyIG0gPSBzW3ZdO2lmIChzLmxlbmd0aCA+IGUubGVuZ3RoKSBicmVhayBlO2lmIChtIGluc3RhbmNlb2YgaSkgY29udGludWU7bC5sYXN0SW5kZXggPSAwO3ZhciBnID0gbC5leGVjKG0pO2lmIChnKSB7XG4gICAgICAgICAgICAgIGggJiYgKHAgPSBnWzFdLmxlbmd0aCk7dmFyIHkgPSBnLmluZGV4IC0gMSArIHAsXG4gICAgICAgICAgICAgICAgICBnID0gZ1swXS5zbGljZShwKSxcbiAgICAgICAgICAgICAgICAgIGIgPSBnLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgIHcgPSB5ICsgYixcbiAgICAgICAgICAgICAgICAgIEUgPSBtLnNsaWNlKDAsIHkgKyAxKSxcbiAgICAgICAgICAgICAgICAgIFMgPSBtLnNsaWNlKHcgKyAxKSxcbiAgICAgICAgICAgICAgICAgIHggPSBbdiwgMV07RSAmJiB4LnB1c2goRSk7dmFyIFQgPSBuZXcgaSh1LCBjID8gdC50b2tlbml6ZShnLCBjKSA6IGcsIGQpO3gucHVzaChUKTtTICYmIHgucHVzaChTKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsIHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfXJldHVybiBzO1xuICAgIH0sIGhvb2tzOiB7IGFsbDoge30sIGFkZDogZnVuY3Rpb24gYWRkKGUsIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0Lmhvb2tzLmFsbDtyW2VdID0gcltlXSB8fCBbXTtyW2VdLnB1c2gobik7XG4gICAgICB9LCBydW46IGZ1bmN0aW9uIHJ1bihlLCBuKSB7XG4gICAgICAgIHZhciByID0gdC5ob29rcy5hbGxbZV07aWYgKCFyIHx8ICFyLmxlbmd0aCkgcmV0dXJuO2ZvciAodmFyIGkgPSAwLCBzOyBzID0gcltpKytdOykgcyhuKTtcbiAgICAgIH0gfSB9LFxuICAgICAgbiA9IHQuVG9rZW4gPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIHRoaXMudHlwZSA9IGU7dGhpcy5jb250ZW50ID0gdDt0aGlzLmFsaWFzID0gbjtcbiAgfTtuLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChlLCByLCBpKSB7XG4gICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpIHJldHVybiBlO2lmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkgPT0gXCJbb2JqZWN0IEFycmF5XVwiKSByZXR1cm4gZS5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiBuLnN0cmluZ2lmeSh0LCByLCBlKTtcbiAgICB9KS5qb2luKFwiXCIpO3ZhciBzID0geyB0eXBlOiBlLnR5cGUsIGNvbnRlbnQ6IG4uc3RyaW5naWZ5KGUuY29udGVudCwgciwgaSksIHRhZzogXCJzcGFuXCIsIGNsYXNzZXM6IFtcInRva2VuXCIsIGUudHlwZV0sIGF0dHJpYnV0ZXM6IHt9LCBsYW5ndWFnZTogciwgcGFyZW50OiBpIH07cy50eXBlID09IFwiY29tbWVudFwiICYmIChzLmF0dHJpYnV0ZXMuc3BlbGxjaGVjayA9IFwidHJ1ZVwiKTtpZiAoZS5hbGlhcykge1xuICAgICAgdmFyIG8gPSB0LnV0aWwudHlwZShlLmFsaWFzKSA9PT0gXCJBcnJheVwiID8gZS5hbGlhcyA6IFtlLmFsaWFzXTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzLmNsYXNzZXMsIG8pO1xuICAgIH10Lmhvb2tzLnJ1bihcIndyYXBcIiwgcyk7dmFyIHUgPSBcIlwiO2ZvciAodmFyIGEgaW4gcy5hdHRyaWJ1dGVzKSB1ICs9IGEgKyAnPVwiJyArIChzLmF0dHJpYnV0ZXNbYV0gfHwgXCJcIikgKyAnXCInO3JldHVybiBcIjxcIiArIHMudGFnICsgJyBjbGFzcz1cIicgKyBzLmNsYXNzZXMuam9pbihcIiBcIikgKyAnXCIgJyArIHUgKyBcIj5cIiArIHMuY29udGVudCArIFwiPC9cIiArIHMudGFnICsgXCI+XCI7XG4gIH07aWYgKCFzZWxmLmRvY3VtZW50KSB7XG4gICAgaWYgKCFzZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHJldHVybiBzZWxmLlByaXNtO3NlbGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBuID0gSlNPTi5wYXJzZShlLmRhdGEpLFxuICAgICAgICAgIHIgPSBuLmxhbmd1YWdlLFxuICAgICAgICAgIGkgPSBuLmNvZGU7c2VsZi5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh0LnV0aWwuZW5jb2RlKHQudG9rZW5pemUoaSwgdC5sYW5ndWFnZXNbcl0pKSkpO3NlbGYuY2xvc2UoKTtcbiAgICB9LCAhMSk7cmV0dXJuIHNlbGYuUHJpc207XG4gIH12YXIgciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO3IgPSByW3IubGVuZ3RoIC0gMV07aWYgKHIpIHtcbiAgICB0LmZpbGVuYW1lID0gci5zcmM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAhci5oYXNBdHRyaWJ1dGUoXCJkYXRhLW1hbnVhbFwiKSAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCB0LmhpZ2hsaWdodEFsbCk7XG4gIH1yZXR1cm4gc2VsZi5QcmlzbTtcbn0pKCk7dHlwZW9mIG1vZHVsZSAhPSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzICYmIChtb2R1bGUuZXhwb3J0cyA9IFByaXNtKTs7XG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0geyBjb21tZW50OiAvPCEtLVtcXHdcXFddKj8tLT4vZywgcHJvbG9nOiAvPFxcPy4rP1xcPz4vLCBkb2N0eXBlOiAvPCFET0NUWVBFLis/Pi8sIGNkYXRhOiAvPCFcXFtDREFUQVxcW1tcXHdcXFddKj9dXT4vaSwgdGFnOiB7IHBhdHRlcm46IC88XFwvP1tcXHc6LV0rXFxzKig/OlxccytbXFx3Oi1dKyg/Oj0oPzooXCJ8JykoXFxcXD9bXFx3XFxXXSkqP1xcMXxbXlxccydcIj49XSspKT9cXHMqKSpcXC8/Pi9naSwgaW5zaWRlOiB7IHRhZzogeyBwYXR0ZXJuOiAvXjxcXC8/W1xcdzotXSsvaSwgaW5zaWRlOiB7IHB1bmN0dWF0aW9uOiAvXjxcXC8/LywgbmFtZXNwYWNlOiAvXltcXHctXSs/Oi8gfSB9LCBcImF0dHItdmFsdWVcIjogeyBwYXR0ZXJuOiAvPSg/OignfFwiKVtcXHdcXFddKj8oXFwxKXxbXlxccz5dKykvZ2ksIGluc2lkZTogeyBwdW5jdHVhdGlvbjogLz18PnxcIi9nIH0gfSwgcHVuY3R1YXRpb246IC9cXC8/Pi9nLCBcImF0dHItbmFtZVwiOiB7IHBhdHRlcm46IC9bXFx3Oi1dKy9nLCBpbnNpZGU6IHsgbmFtZXNwYWNlOiAvXltcXHctXSs/Oi8gfSB9IH0gfSwgZW50aXR5OiAvXFwmIz9bXFxkYS16XXsxLDh9Oy9naSB9LCBQcmlzbS5ob29rcy5hZGQoXCJ3cmFwXCIsIGZ1bmN0aW9uICh0KSB7XG4gIFwiZW50aXR5XCIgPT09IHQudHlwZSAmJiAodC5hdHRyaWJ1dGVzLnRpdGxlID0gdC5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywgXCImXCIpKTtcbn0pOztcblByaXNtLmxhbmd1YWdlcy5jc3MgPSB7IGNvbW1lbnQ6IC9cXC9cXCpbXFx3XFxXXSo/XFwqXFwvL2csIGF0cnVsZTogeyBwYXR0ZXJuOiAvQFtcXHctXSs/Lio/KDt8KD89XFxzKnspKS9naSwgaW5zaWRlOiB7IHB1bmN0dWF0aW9uOiAvWzs6XS9nIH0gfSwgdXJsOiAvdXJsXFwoKFtcIiddPykuKj9cXDFcXCkvZ2ksIHNlbGVjdG9yOiAvW15cXHtcXH1cXHNdW15cXHtcXH07XSooPz1cXHMqXFx7KS9nLCBwcm9wZXJ0eTogLyhcXGJ8XFxCKVtcXHctXSsoPz1cXHMqOikvZ2ksIHN0cmluZzogLyhcInwnKShcXFxcPy4pKj9cXDEvZywgaW1wb3J0YW50OiAvXFxCIWltcG9ydGFudFxcYi9naSwgcHVuY3R1YXRpb246IC9bXFx7XFx9OzpdL2csIFwiZnVuY3Rpb25cIjogL1stYS16MC05XSsoPz1cXCgpL2dpIH0sIFByaXNtLmxhbmd1YWdlcy5tYXJrdXAgJiYgKFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIiwgXCJ0YWdcIiwgeyBzdHlsZTogeyBwYXR0ZXJuOiAvPHN0eWxlW1xcd1xcV10qPz5bXFx3XFxXXSo/PFxcL3N0eWxlPi9naSwgaW5zaWRlOiB7IHRhZzogeyBwYXR0ZXJuOiAvPHN0eWxlW1xcd1xcV10qPz58PFxcL3N0eWxlPi9naSwgaW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGUgfSwgcmVzdDogUHJpc20ubGFuZ3VhZ2VzLmNzcyB9LCBhbGlhczogXCJsYW5ndWFnZS1jc3NcIiB9IH0pLCBQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiaW5zaWRlXCIsIFwiYXR0ci12YWx1ZVwiLCB7IFwic3R5bGUtYXR0clwiOiB7IHBhdHRlcm46IC9cXHMqc3R5bGU9KFwifCcpLis/XFwxL2dpLCBpbnNpZGU6IHsgXCJhdHRyLW5hbWVcIjogeyBwYXR0ZXJuOiAvXlxccypzdHlsZS9naSwgaW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGUgfSwgcHVuY3R1YXRpb246IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sIFwiYXR0ci12YWx1ZVwiOiB7IHBhdHRlcm46IC8uKy9naSwgaW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuY3NzIH0gfSwgYWxpYXM6IFwibGFuZ3VhZ2UtY3NzXCIgfSB9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZykpOztcblByaXNtLmxhbmd1YWdlcy5jc3Muc2VsZWN0b3IgPSB7IHBhdHRlcm46IC9bXlxce1xcfVxcc11bXlxce1xcfV0qKD89XFxzKlxceykvZywgaW5zaWRlOiB7IFwicHNldWRvLWVsZW1lbnRcIjogLzooPzphZnRlcnxiZWZvcmV8Zmlyc3QtbGV0dGVyfGZpcnN0LWxpbmV8c2VsZWN0aW9uKXw6OlstXFx3XSsvZywgXCJwc2V1ZG8tY2xhc3NcIjogLzpbLVxcd10rKD86XFwoLipcXCkpPy9nLCBcImNsYXNzXCI6IC9cXC5bLTpcXC5cXHddKy9nLCBpZDogLyNbLTpcXC5cXHddKy9nIH0gfSwgUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImNzc1wiLCBcImlnbm9yZVwiLCB7IGhleGNvZGU6IC8jW1xcZGEtZl17Myw2fS9naSwgZW50aXR5OiAvXFxcXFtcXGRhLWZdezEsOH0vZ2ksIG51bWJlcjogL1tcXGQlXFwuXSsvZyB9KTs7XG5QcmlzbS5sYW5ndWFnZXMuY2xpa2UgPSB7IGNvbW1lbnQ6IFt7IHBhdHRlcm46IC8oXnxbXlxcXFxdKVxcL1xcKltcXHdcXFddKj9cXCpcXC8vZywgbG9va2JlaGluZDogITAgfSwgeyBwYXR0ZXJuOiAvKF58W15cXFxcOl0pXFwvXFwvLio/KFxccj9cXG58JCkvZywgbG9va2JlaGluZDogITAgfV0sIHN0cmluZzogLyhcInwnKShcXFxcPy4pKj9cXDEvZywgXCJjbGFzcy1uYW1lXCI6IHsgcGF0dGVybjogLygoPzooPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfHRyYWl0fGluc3RhbmNlb2Z8bmV3KVxccyspfCg/OmNhdGNoXFxzK1xcKCkpW2EtejAtOV9cXC5cXFxcXSsvZ2ksIGxvb2tiZWhpbmQ6ICEwLCBpbnNpZGU6IHsgcHVuY3R1YXRpb246IC8oXFwufFxcXFwpLyB9IH0sIGtleXdvcmQ6IC9cXGIoaWZ8ZWxzZXx3aGlsZXxkb3xmb3J8cmV0dXJufGlufGluc3RhbmNlb2Z8ZnVuY3Rpb258bmV3fHRyeXx0aHJvd3xjYXRjaHxmaW5hbGx5fG51bGx8YnJlYWt8Y29udGludWUpXFxiL2csIFwiYm9vbGVhblwiOiAvXFxiKHRydWV8ZmFsc2UpXFxiL2csIFwiZnVuY3Rpb25cIjogeyBwYXR0ZXJuOiAvW2EtejAtOV9dK1xcKC9naSwgaW5zaWRlOiB7IHB1bmN0dWF0aW9uOiAvXFwoLyB9IH0sIG51bWJlcjogL1xcYi0/KDB4W1xcZEEtRmEtZl0rfFxcZCpcXC4/XFxkKyhbRWVdLT9cXGQrKT8pXFxiL2csIG9wZXJhdG9yOiAvWy0rXXsxLDJ9fCF8PD0/fD49P3w9ezEsM318JnsxLDJ9fFxcfD9cXHx8XFw/fFxcKnxcXC98XFx+fFxcXnxcXCUvZywgaWdub3JlOiAvJihsdHxndHxhbXApOy9naSwgcHVuY3R1YXRpb246IC9be31bXFxdOygpLC46XS9nIH07O1xuUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQgPSBQcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKFwiY2xpa2VcIiwgeyBrZXl3b3JkOiAvXFxiKGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZhbHNlfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ1ZXx0cnl8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXFxiL2csIG51bWJlcjogL1xcYi0/KDB4W1xcZEEtRmEtZl0rfFxcZCpcXC4/XFxkKyhbRWVdLT9cXGQrKT98TmFOfC0/SW5maW5pdHkpXFxiL2cgfSksIFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJqYXZhc2NyaXB0XCIsIFwia2V5d29yZFwiLCB7IHJlZ2V4OiB7IHBhdHRlcm46IC8oXnxbXi9dKVxcLyg/IVxcLykoXFxbLis/XXxcXFxcLnxbXi9cXHJcXG5dKStcXC9bZ2ltXXswLDN9KD89XFxzKigkfFtcXHJcXG4sLjt9KV0pKS9nLCBsb29rYmVoaW5kOiAhMCB9IH0pLCBQcmlzbS5sYW5ndWFnZXMubWFya3VwICYmIFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIiwgXCJ0YWdcIiwgeyBzY3JpcHQ6IHsgcGF0dGVybjogLzxzY3JpcHRbXFx3XFxXXSo/PltcXHdcXFddKj88XFwvc2NyaXB0Pi9naSwgaW5zaWRlOiB7IHRhZzogeyBwYXR0ZXJuOiAvPHNjcmlwdFtcXHdcXFddKj8+fDxcXC9zY3JpcHQ+L2dpLCBpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZSB9LCByZXN0OiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCB9LCBhbGlhczogXCJsYW5ndWFnZS1qYXZhc2NyaXB0XCIgfSB9KTs7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFJBRElPICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnJhZGlvJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kcmFkaW8gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRyYWRpby5maW5kKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLiRpbnB1dC5hdHRyKCduYW1lJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuJHJhZGlvLnBhcmVudHMoJ2Zvcm0nKS5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kY29udGFpbmVyLmxlbmd0aCA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJGRvY3VtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRvdGhlcl9yYWRpb3MgPSB0aGlzLiRjb250YWluZXIuZmluZCgnaW5wdXRbbmFtZT1cIicgKyB0aGlzLm5hbWUgKyAnXCJdJykucGFyZW50KCcucmFkaW8nKS5ub3QodGhpcy4kcmFkaW8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgICAgICAgIC8vRklYTUU6IGlzIGl0IG5lY2Vzc2FyeSB0byBpbmNsdWRlIGl0PyBNYXliZSB3ZSBzaG91bGQgZml4IG1pc3Rha2VzIHdpdGggdGhlIG1hcmt1cC4uLlxuXG4gICAgICAgICAgICB2YXIgaGFzQ2xhc3MgPSB0aGlzLiRyYWRpby5oYXNDbGFzcygnY2hlY2tlZCcpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNDbGFzcykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJhZGlvLmFkZENsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcmFkaW8ucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fb24odHJ1ZSwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uIF9oYW5kbGVyX2NoYW5nZSgpIHtcblxuICAgICAgICAgICAgdmFyIGlzQ2hlY2tlZCA9IHRoaXMuZ2V0KCk7XG5cbiAgICAgICAgICAgIGlmIChpc0NoZWNrZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJG90aGVyX3JhZGlvcy5yZW1vdmVDbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRyYWRpby50b2dnbGVDbGFzcygnY2hlY2tlZCcsIGlzQ2hlY2tlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoaXNDaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrOiBmdW5jdGlvbiBjaGVjaygpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldCgpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5wcm9wKCdjaGVja2VkJywgdHJ1ZSkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjaGVja2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5yYWRpbycpLnJhZGlvKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBSSVBQTEUgKi9cblxuICAgIHZhciBSaXBwbGUgPSB7XG5cbiAgICAgICAgZGVsYXk6IHtcbiAgICAgICAgICAgIHNob3c6IDM1MCxcbiAgICAgICAgICAgIGhpZGU6IDQwMFxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3coZXZlbnQsICRlbGVtZW50KSB7XG5cbiAgICAgICAgICAgIHZhciAkcmlwcGxlID0gJCgnPGRpdiBjbGFzcz1cInJpcHBsZS1jaXJjbGVcIj48L2Rpdj4nKS5hcHBlbmRUbygkZWxlbWVudCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gJGVsZW1lbnQub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgZXZlbnRYWSA9ICQuZXZlbnRYWShldmVudCksXG4gICAgICAgICAgICAgICAgbm93ID0gXy5ub3coKTtcblxuICAgICAgICAgICAgJHJpcHBsZS5jc3Moe1xuICAgICAgICAgICAgICAgIHRvcDogZXZlbnRYWS5ZIC0gb2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBldmVudFhZLlggLSBvZmZzZXQubGVmdFxuICAgICAgICAgICAgfSkuYWRkQ2xhc3MoJ3JpcHBsZS1jaXJjbGUtc2hvdycpO1xuXG4gICAgICAgICAgICAkZWxlbWVudC5vbignbW91c2V1cCBtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgUmlwcGxlLmhpZGUoJHJpcHBsZSwgbm93KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoJHJpcHBsZSwgYmVmb3JlKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWxheSA9IE1hdGgubWF4KDAsIFJpcHBsZS5kZWxheS5zaG93ICsgYmVmb3JlIC0gXy5ub3coKSk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJHJpcHBsZS5hZGRDbGFzcygncmlwcGxlLWNpcmNsZS1oaWRlJyk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAkcmlwcGxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0sIFJpcHBsZS5kZWxheS5oaWRlKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJGJvZHkub24oJ21vdXNlZG93bicsICcucmlwcGxlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5idXR0b24gPT09ICQudWkubW91c2VCdXR0b24uUklHSFQpIHJldHVybjtcblxuICAgICAgICAgICAgUmlwcGxlLnNob3coZXZlbnQsICQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBBZGQgc3VwcG9ydCBmb3Igc2VsZWN0aW5nIG11bHRpcGxlIG9wdGlvbnMgKHdpdGggY2hlY2tib3hlcyBtYXliZSlcbi8vRklYTUU6IERvZXNuJ3Qgd29yayB3aGVuIHRoZSBwYWdlIGlzIHNjcm9sbGVkIChjaGVjayBpbiB0aGUgY29tcG9uZW50cy9mb3JtKVxuLy9UT0RPOiBhZGQgc2VsZWN0LWNsb3NlclxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU0VMRUNUICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnNlbGVjdCcsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIGJhc2U6ICc8ZGl2IGlkPVwiZHJvcGRvd24teyU9by5pZCV9XCIgY2xhc3M9XCJkcm9wZG93biBzZWxlY3QtZHJvcGRvd24gYXR0YWNoZWRcIj4nICsgJzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nICsgJzxkaXYgY2xhc3M9XCJjb250YWluZXItY29udGVudFwiPicgKyAnPGRpdiBjbGFzcz1cIm11bHRpcGxlLXdycCB2ZXJ0aWNhbCBzdHJldGNoZWQgam9pbmVkXCI+JyArICc8ZGl2IGNsYXNzPVwibXVsdGlwbGVcIj4nICsgJ3slIGZvciAoIHZhciBpID0gMCwgbCA9IG8ub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7ICV9JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8uc2VsZWN0LlwiICsgKCBvLm9wdGlvbnNbaV0udmFsdWUgPyBcIm9wdGlvblwiIDogXCJvcHRncm91cFwiICksIG8ub3B0aW9uc1tpXSApOyAlfScgKyAneyUgfSAlfScgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nLFxuICAgICAgICAgICAgb3B0Z3JvdXA6ICc8ZGl2IGNsYXNzPVwiZGl2aWRlci13cnAgYmxvY2tcIj4nICsgJzxkaXYgY2xhc3M9XCJkaXZpZGVyXCI+JyArICd7JT1vLnByb3AlfScgKyAnPC9kaXY+JyArICc8L2Rpdj4nLFxuICAgICAgICAgICAgb3B0aW9uOiAnPGRpdiBjbGFzcz1cImxhYmVsLXdycCBidXR0b24td3JwXCIgZGF0YS12YWx1ZT1cInslPW8ucHJvcCV9XCI+JyArICc8ZGl2IGNsYXNzPVwibGFiZWwgYWN0aW9uYWJsZSBzaGFycFwiPicgKyAnPGRpdiBjbGFzcz1cImxhYmVsLWNlbnRlclwiPicgKyAneyU9by52YWx1ZSV9JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHNlbGVjdCA9IHRoaXMuJHRyaWdnZXIuZmluZCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLiRvcHRpb25zID0gdGhpcy4kc2VsZWN0LmZpbmQoJ29wdGlvbicpO1xuICAgICAgICAgICAgdGhpcy4kc2VsZWN0X2xhYmVsID0gdGhpcy4kdHJpZ2dlci5maW5kKCcuc2VsZWN0LWxhYmVsJyk7XG4gICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlciA9IHRoaXMuJHRyaWdnZXIuZmluZCgnLnZhbHVlaG9sZGVyJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiR0cmlnZ2VyLmRhdGEoJ3NlbGVjdCcpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kdmFsdWVob2xkZXIubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlciA9IHRoaXMuJHNlbGVjdF9sYWJlbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rfb3B0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd25fY29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFsdWVob2xkZXIoKTtcblxuICAgICAgICAgICAgaWYgKCEkLmJyb3dzZXIuaXNNb2JpbGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHNlbGVjdC5hZGRDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0X3NlbGVjdF9vcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF9kcm9wZG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNlbGVjdCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghJC5icm93c2VyLmlzTW9iaWxlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRidXR0b25zLCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX2J1dHRvbl9jbGljayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQlVUVE9OIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9idXR0b25fY2xpY2soZXZlbnQsIGJ1dHRvbikge1xuXG4gICAgICAgICAgICB0aGlzLiRzZWxlY3QudmFsKCQoYnV0dG9uKS5kYXRhKCd2YWx1ZScpKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2luaXRfc2VsZWN0X29wdGlvbnM6IGZ1bmN0aW9uIF9pbml0X3NlbGVjdF9vcHRpb25zKCkge1xuICAgICAgICAgICAgLy9GSVhNRTogQWRkIHN1cHBvcnQgZm9yIGFyYml0cmFyeSBudW1iZXIgb2Ygb3B0Z3JvdXBzIGxldmVsc1xuXG4gICAgICAgICAgICB2YXIgcHJldmlvdXNfb3B0Z3JvdXAsIGN1cnJlbnRfb3B0Z3JvdXA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy4kb3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIHZhciAkb3B0aW9uID0gdGhpcy4kb3B0aW9ucy5lcShpKSxcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICRvcHRpb24ucGFyZW50KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHBhcmVudC5pcygnb3B0Z3JvdXAnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfb3B0Z3JvdXAgPSAkcGFyZW50LmF0dHIoJ2xhYmVsJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRfb3B0Z3JvdXAgIT09IHByZXZpb3VzX29wdGdyb3VwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzX29wdGdyb3VwID0gY3VycmVudF9vcHRncm91cDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rfb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wOiBjdXJyZW50X29wdGdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAkb3B0aW9uLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcDogJG9wdGlvbi5hdHRyKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfZHJvcGRvd246IGZ1bmN0aW9uIF9pbml0X2Ryb3Bkb3duKCkge1xuXG4gICAgICAgICAgICB2YXIgaHRtbCA9IHRoaXMuX3RtcGwoJ2Jhc2UnLCB7IGlkOiB0aGlzLmlkLCBvcHRpb25zOiB0aGlzLnNlbGVjdF9vcHRpb25zIH0pO1xuXG4gICAgICAgICAgICAkYm9keS5hcHBlbmQoaHRtbCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duID0gJCgnI2Ryb3Bkb3duLScgKyB0aGlzLmlkKTtcbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duX2NvbnRhaW5lciA9IHRoaXMuJGRyb3Bkb3duLmZpbmQoJy5jb250YWluZXInKTtcbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMgPSB0aGlzLiRkcm9wZG93bi5maW5kKCcuYnV0dG9uLXdycCcpO1xuXG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCdkcm9wZG93bi10cmlnZ2VyJykuYXR0cignZGF0YS1kcm9wZG93bicsICdkcm9wZG93bi0nICsgdGhpcy5pZCk7XG5cbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duLmRyb3Bkb3duKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9zZXRfZHJvcGRvd25fd2lkdGguYmluZChpbnN0YW5jZSkoKTsgLy9GSVhNRTogaXMgdGhlIGJpbmQgbmVjZXNzYXJ5P1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX3RyaWdnZXIoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGluc3RhbmNlLm9wdGlvbnMuY2FsbGJhY2tzLmNsb3NlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9kcm9wZG93bigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfdmFsdWVob2xkZXI6IGZ1bmN0aW9uIF91cGRhdGVfdmFsdWVob2xkZXIoKSB7XG5cbiAgICAgICAgICAgIHZhciAkc2VsZWN0ZWRfb3B0aW9uID0gdGhpcy4kb3B0aW9ucy5maWx0ZXIoJ1t2YWx1ZT1cIicgKyB0aGlzLiRzZWxlY3QudmFsKCkgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJHZhbHVlaG9sZGVyLmh0bWwoJHNlbGVjdGVkX29wdGlvbi5odG1sKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfZHJvcGRvd246IGZ1bmN0aW9uIF91cGRhdGVfZHJvcGRvd24oKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLmZpbHRlcignW2RhdGEtdmFsdWU9XCInICsgdGhpcy4kc2VsZWN0LnZhbCgpICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0X2Ryb3Bkb3duX3dpZHRoOiBmdW5jdGlvbiBfc2V0X2Ryb3Bkb3duX3dpZHRoKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bl9jb250YWluZXIuY3NzKCdtaW4td2lkdGgnLCB0aGlzLiR0cmlnZ2VyLndpZHRoKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMuZmlsdGVyKCdbZGF0YS12YWx1ZT1cIicgKyB2YWx1ZSArICdcIl0nKS5jbGljaygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICAgICAgICBpZiAoISQuYnJvd3Nlci5pc01vYmlsZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2Ryb3Bkb3duKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YWx1ZWhvbGRlcigpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc2VsZWN0LXRyaWdnZXInKS5zZWxlY3QoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgZHJvcGRvd24gZm9yIGFjdGlvbnMgQU5EL09SIHJpZ2h0IGNsaWNrIGZvciBhY3Rpb25cbi8vRklYTUU6IG1ha2UgaXQgd29ya2FibGUgd2l0aCBzb3J0aW5nICh1cGRhdGUgYWZ0ZXIgc29ydGluZyBzaW5jZSB3ZSBtYXkpXG4vL1RPRE86IG1ha2UgaXQgd29yayB3aXRoIGNoZWNrYm94ZXNcbi8vRklYTUU6IHNlbGVjdCBtdWx0aXBsZSB3aXRoIHNoaWZ0LCB0aGVuIGp1c3QgY2xpY2sgaW5zaWRlIHRoZSBzZWxlY3Rpb24sIHRoZSBjbGlja2VkIGVsZW1lbnQgZG9lc24ndCBnZXQgc2VsZWN0ZWRcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFBSSVZBVEUgKi9cblxuICAgIHZhciBjbGVhcl9zZWxlY3Rpb24gPSBmdW5jdGlvbiBjbGVhcl9zZWxlY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuXG4gICAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG5cbiAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBTRUxFQ1RBQkxFICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnNlbGVjdGFibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAndGJvZHkgdHI6bm90KC5lbXB0eSknLFxuICAgICAgICAgICAgc2VsZWN0ZWRfY2xhc3M6ICdzZWxlY3RlZCcsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRyb3dzID0gdGhpcy5fZ2V0X3Jvd3MoKTtcblxuICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRlbmRfcm93ID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIC8qIEtFWVMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2tleXNfaW4pO1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfa2V5c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBNT1VTRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2Vkb3duJywgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCB0aGlzLl9oYW5kbGVyX21vdXNlZG93bik7XG5cbiAgICAgICAgICAgIC8qIE9USEVSUyAqL1xuXG4gICAgICAgICAgICAvL0ZJWE1FOiBhZGQgc3VwcG9ydCB0YWJsZUhlbHBlciBhbmQgc29ydGFibGVcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NoYW5nZSBzb3J0JywgdGhpcy5faGFuZGxlcl9jaGFuZ2UpO1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2Vkb3duIG1vdXNldXAnLCB0aGlzLl9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ1RSTCArIEEgLyBDVFJMICsgU0hJRlQgKyBBIC8gQ1RSTCArIEkgKi9cblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2luOiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX2luKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfb3V0OiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX291dCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXNfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKCQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5tZXRhS2V5IHx8ICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgICAgIC8vSU5GTzogQ09NTUFORCBvciBDVFJMLCBpcyB3ZSBhcmUgb24gTWFjIG9yIG5vdFxuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDY1KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSU5GTzogQVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3dzLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcywgIWV2ZW50LnNoaWZ0S2V5KTsgLy9JTkZPOiBTSElGVCBvciBub3QgLy9GSVhNRTogb25seSB3b3JrcyBpZiB0aGUgbGFzdCBjaGFyYWN0ZXIgcHVzaGVkIGlzIHRoZSBgQWAsIGJ1dCBpcyBpdCBhbiB1bndhbnRlZCBiZWhhdmlvdXI/XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignc2VsZWN0Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSA3Mykge1xuICAgICAgICAgICAgICAgICAgICAvL0lORk86IElcblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm93cy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAvIENUUkwgKyBDTElDSyAvIFNISUZUICsgQ0xJQ0sgLyBDVFJMICsgQ0xJQ0sgLT4gRFJBRyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX21vdXNlZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfbW91c2Vkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5idXR0b24gIT09IDApIHJldHVybjsgLy9JTkZPOiBPbmx5IHRoZSBsZWZ0IGNsaWNrIGlzIGVuYWJsZWRcblxuICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlcl9tb3VzZW1vdmUpO1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2V1cCcsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgdGhpcy5faGFuZGxlcl9tb3VzZXVwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9tb3VzZW1vdmU6IGZ1bmN0aW9uIF9oYW5kbGVyX21vdXNlbW92ZShldmVudCkge1xuICAgICAgICAgICAgLy8gRFJBR1xuXG4gICAgICAgICAgICBpZiAoJC5icm93c2VyLmlzTWFjICYmICFldmVudC5tZXRhS2V5IHx8ICEkLmJyb3dzZXIuaXNNYWMgJiYgIWV2ZW50LmN0cmxLZXkpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZXJfbW91c2Vtb3ZlKTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9tb3VzZXVwKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMoKTtcblxuICAgICAgICAgICAgdGhpcy4kcHJldl9yb3cgPSB0aGlzLiRzdGFydF9yb3c7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuXG4gICAgICAgICAgICAkaHRtbC5hZGRDbGFzcygnZHJhZ2dpbmcnKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlZW50ZXInLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsIHRoaXMuX2hhbmRsZXJfZHJhZ19tb3VzZWVudGVyKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfZHJhZ19tb3VzZXVwKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignc2VsZWN0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19tb3VzZWVudGVyOiBmdW5jdGlvbiBfaGFuZGxlcl9kcmFnX21vdXNlZW50ZXIoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIERSQUcgSE9WRVJcblxuICAgICAgICAgICAgdGhpcy4kZW5kX3JvdyA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgIHZhciBzdGFydF9pbmRleCA9IHRoaXMuJHJvd3MuaW5kZXgodGhpcy4kc3RhcnRfcm93KSxcbiAgICAgICAgICAgICAgICBlbmRfaW5kZXggPSB0aGlzLiRyb3dzLmluZGV4KHRoaXMuJGVuZF9yb3cpLFxuICAgICAgICAgICAgICAgIG1pbl9pbmRleCA9IE1hdGgubWluKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXgpLFxuICAgICAgICAgICAgICAgIG1heF9pbmRleCA9IE1hdGgubWF4KHN0YXJ0X2luZGV4LCBlbmRfaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAobWluX2luZGV4ID09PSBzdGFydF9pbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIGRvd25cblxuICAgICAgICAgICAgICAgIG1pbl9pbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIG1heF9pbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgJG5ld19kcmFnZ2VkID0gdGhpcy4kcm93cy5zbGljZShtaW5faW5kZXgsIG1heF9pbmRleCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRwcmV2X2RyYWdnZWQpIHtcblxuICAgICAgICAgICAgICAgICRuZXdfZHJhZ2dlZC5ub3QodGhpcy4kcHJldl9kcmFnZ2VkKS50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkLm5vdCgkbmV3X2RyYWdnZWQpLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJG5ld19kcmFnZ2VkLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJHByZXZfZHJhZ2dlZCA9ICRuZXdfZHJhZ2dlZDtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignc2VsZWN0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19tb3VzZXVwOiBmdW5jdGlvbiBfaGFuZGxlcl9kcmFnX21vdXNldXAoKSB7XG4gICAgICAgICAgICAvLyBEUkFHIEVORFxuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2VlbnRlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9kcmFnX21vdXNldXApO1xuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X2RyYWdnZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MoJ2RyYWdnaW5nJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfbW91c2V1cDogZnVuY3Rpb24gX2hhbmRsZXJfbW91c2V1cChldmVudCkge1xuICAgICAgICAgICAgLy8gQ0xJQ0tcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZXJfbW91c2Vtb3ZlKTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9tb3VzZXVwKTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRfaW5kZXggPSB0aGlzLiRyb3dzLmluZGV4KHRoaXMuJHByZXZfcm93KSxcbiAgICAgICAgICAgICAgICAgICAgZW5kX2luZGV4ID0gdGhpcy4kcHJldl9yb3cgPyB0aGlzLiRyb3dzLmluZGV4KHRoaXMuJHN0YXJ0X3JvdykgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtaW5faW5kZXggPSBNYXRoLm1pbihzdGFydF9pbmRleCwgZW5kX2luZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgbWF4X2luZGV4ID0gTWF0aC5tYXgoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWluX2luZGV4ID09PSBzdGFydF9pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb3duXG5cbiAgICAgICAgICAgICAgICAgICAgbWluX2luZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1heF9pbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciAkbmV3X3NoaWZ0ZWQgPSB0aGlzLiRyb3dzLnNsaWNlKG1pbl9pbmRleCwgbWF4X2luZGV4KTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRwcmV2X3NoaWZ0ZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAkbmV3X3NoaWZ0ZWQubm90KHRoaXMuJHByZXZfc2hpZnRlZCkudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3NoaWZ0ZWQubm90KCRuZXdfc2hpZnRlZCkudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICRuZXdfc2hpZnRlZC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfc2hpZnRlZCA9ICRuZXdfc2hpZnRlZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJC5icm93c2VyLmlzTWFjICYmIGV2ZW50Lm1ldGFLZXkgfHwgISQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5jdHJsS2V5IHx8ICQuYnJvd3Nlci5pc01vYmlsZSkge1xuICAgICAgICAgICAgICAgIC8vVE9ETzogT24gbW9iaWxlIHdlIGJlaGF2ZSBsaWtlIGlmIHRoZSBgY3RybGAga2V5IGlzIGFsd2F5cyBwcmVzc2VkLCBzbyB0aGF0IHdlIGNhbiBzdXBwb3J0IHNlbGVjdGluZyBtdWx0aXBsZSByb3dzIGV2ZW4gdGhlcmUgLy9GSVhNRTogSXMgdGhpcyB0aGUgd2FudGVkIGJlaGF2aW91cz9cblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gdGhpcy4kc3RhcnRfcm93O1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHJvd3Mubm90KHRoaXMuJHN0YXJ0X3JvdykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gdGhpcy4kc3RhcnRfcm93O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdzZWxlY3QnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPVEhFUiBFVkVOVFMgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uIF9oYW5kbGVyX2NoYW5nZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kcm93cyA9IHRoaXMuX2dldF9yb3dzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfY2xlYXJfc2VsZWN0aW9uOiBmdW5jdGlvbiBfaGFuZGxlcl9jbGVhcl9zZWxlY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICQucmVmbG93KCk7XG5cbiAgICAgICAgICAgIGNsZWFyX3NlbGVjdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfcmVzZXRfcHJldnM6IGZ1bmN0aW9uIF9yZXNldF9wcmV2cygpIHtcblxuICAgICAgICAgICAgdGhpcy4kcHJldl9yb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJHByZXZfc2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldF9yb3dzOiBmdW5jdGlvbiBfZ2V0X3Jvd3MoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgndGFibGUuc2VsZWN0YWJsZScpLnNlbGVjdGFibGUoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL2RyYWdnYWJsZS9kcmFnZ2FibGUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTTElERVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uc2xpZGVyJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgc3RlcDogMSxcbiAgICAgICAgICAgIGRlY2ltYWxzOiAwLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgaW5jcmVhc2VkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZGVjcmVhc2VkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kc2xpZGVyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJG1pbiA9IHRoaXMuJHNsaWRlci5maW5kKCcuc2xpZGVyLW1pbicpO1xuICAgICAgICAgICAgdGhpcy4kbWF4ID0gdGhpcy4kc2xpZGVyLmZpbmQoJy5zbGlkZXItbWF4Jyk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJHNsaWRlci5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgdGhpcy4kYmFyX3dycCA9IHRoaXMuJHNsaWRlci5maW5kKCcuc2xpZGVyLWJhci13cnAnKTtcbiAgICAgICAgICAgIHRoaXMuJHVuaGlnaGxpZ2h0ZWQgPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNsaWRlci11bmhpZ2hsaWdodGVkJyk7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZCA9IHRoaXMuJHNsaWRlci5maW5kKCcuc2xpZGVyLWhpZ2hsaWdodGVkJyk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycCA9IHRoaXMuJHNsaWRlci5maW5kKCcuc2xpZGVyLWhhbmRsZXItd3JwJyk7XG4gICAgICAgICAgICB0aGlzLiRsYWJlbCA9IHRoaXMuJGhhbmRsZXJfd3JwLmZpbmQoJy5zbGlkZXItbGFiZWwnKTtcblxuICAgICAgICAgICAgdGhpcy5zdGVwc19uciA9ICh0aGlzLm9wdGlvbnMubWF4IC0gdGhpcy5vcHRpb25zLm1pbikgLyB0aGlzLm9wdGlvbnMuc3RlcDtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIC8qIElOUFVUIENIQU5HRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0cnVlLCB0aGlzLiRpbnB1dCwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlKTtcblxuICAgICAgICAgICAgLyogV0lORE9XIFJFU0laRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkd2luZG93LCAncmVzaXplJywgdGhpcy5faGFuZGxlcl9yZXNpemUpO1xuXG4gICAgICAgICAgICAvKiBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kc2xpZGVyLCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2luKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNsaWRlciwgJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2Fycm93c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBNSU4gLyBNQVggQlVUVE9OUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRtaW4sICdjbGljaycsIHRoaXMuZGVjcmVhc2UpO1xuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kbWF4LCAnY2xpY2snLCB0aGlzLmluY3JlYXNlKTtcblxuICAgICAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycC5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdGhpcy5fZHJhZ2dhYmxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgYXhpczogJ3gnLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50OiB0aGlzLiRiYXJfd3JwLFxuICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW5fY2VudGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBheGlzOiAneCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLm1vZGlmaWVyX3guYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZXN0YXJ0OiB0aGlzLl9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgbW92ZTogdGhpcy5faGFuZGxlcl9kcmFnX21vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB0aGlzLl9oYW5kbGVyX2RyYWdfZW5kLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogQ0xJQ0sgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kdW5oaWdobGlnaHRlZCwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGljayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9yb3VuZF92YWx1ZTogZnVuY3Rpb24gX3JvdW5kX3ZhbHVlKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKHZhbHVlKS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFscykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfcG9zaXRpb25zOiBmdW5jdGlvbiBfdXBkYXRlX3Bvc2l0aW9ucygpIHtcblxuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAodGhpcy5vcHRpb25zLnZhbHVlIC0gdGhpcy5vcHRpb25zLm1pbikgLyB0aGlzLm9wdGlvbnMuc3RlcCAqIDEwMCAvIHRoaXMuc3RlcHNfbnI7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfd3JwLmNzcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogcGVyY2VudGFnZSArICclJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdub25lJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodGVkLmNzcyh7XG4gICAgICAgICAgICAgICAgcmlnaHQ6IDEwMCAtIHBlcmNlbnRhZ2UgKyAnJScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfbGFiZWw6IGZ1bmN0aW9uIF91cGRhdGVfbGFiZWwodmFsdWUpIHtcblxuICAgICAgICAgICAgdGhpcy4kbGFiZWwuaHRtbChfLmlzVW5kZWZpbmVkKHZhbHVlKSA/IHRoaXMub3B0aW9ucy52YWx1ZSA6IHZhbHVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3ZhcmlhYmxlczogZnVuY3Rpb24gX3VwZGF0ZV92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHRlZF93aWR0aCA9IHRoaXMuJHVuaGlnaGxpZ2h0ZWQud2lkdGgoKTtcbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHRlZF9vZmZzZXQgPSB0aGlzLiR1bmhpZ2hsaWdodGVkLm9mZnNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGVwX3dpZHRoID0gdGhpcy51bmhpZ2hsaWdodGVkX3dpZHRoIC8gdGhpcy5zdGVwc19ucjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uIF9oYW5kbGVyX2NoYW5nZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5zZXQodGhpcy4kaW5wdXQudmFsKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFJFU0laRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3Jlc2l6ZTogZnVuY3Rpb24gX2hhbmRsZXJfcmVzaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFyaWFibGVzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogTEVGVCAvIFJJR0hUIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2luKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX291dDogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX291dCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5MRUZUIHx8IGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5ET1dOKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5SSUdIVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuaW5jcmVhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgX2RyYWdnYWJsZTogZnVuY3Rpb24gX2RyYWdnYWJsZSgpIHtcblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kaWZpZXJfeDogZnVuY3Rpb24gbW9kaWZpZXJfeChkaXN0YW5jZSkge1xuICAgICAgICAgICAgLy9UT0RPOiBtYXliZSB3ZSBzaG91bGQgZXhwb3J0IHRoaXMgZnVuY3Rpb24gYXMgYSBsb2Rhc2ggbWl4aW5cblxuICAgICAgICAgICAgdmFyIGxlZnQgPSBkaXN0YW5jZSAlIHRoaXMuc3RlcF93aWR0aDtcblxuICAgICAgICAgICAgaWYgKGxlZnQgPj0gdGhpcy5zdGVwX3dpZHRoIC8gMikge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlIC0gbGVmdCArIHRoaXMuc3RlcF93aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzdGFuY2UgLSBsZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQoKSB7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVYID0gcGFyc2VGbG9hdCh0aGlzLiRoYW5kbGVyX3dycC5jc3MoJ2xlZnQnKSwgMTApO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycC5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsMCwwKSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZC5jc3Moe1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsMCwwKSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW92ZTogZnVuY3Rpb24gX2hhbmRsZXJfZHJhZ19tb3ZlKGRhdGEpIHtcblxuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIGRhdGEubW9kaWZpZWRYWS5YICsgJ3B4LDAsMCknKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xhYmVsKHRoaXMuX3JvdW5kX3ZhbHVlKHRoaXMub3B0aW9ucy5taW4gKyBkYXRhLm1vZGlmaWVkWFkuWCAvIHRoaXMuc3RlcF93aWR0aCAqIHRoaXMub3B0aW9ucy5zdGVwKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19lbmQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2RyYWdfZW5kKGRhdGEpIHtcblxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybV9zdHIgPSB0aGlzLiRoYW5kbGVyX3dycC5jc3MoJ3RyYW5zZm9ybScpLFxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRyYW5zZm9ybV9zdHIgIT09ICdub25lJyA/IHRyYW5zZm9ybV9zdHIubWF0Y2goL1swLTkuLCAtXSsvKVswXS5zcGxpdCgnLCAnKSA6IFswLCAwLCAwLCAwLCAwLCAwXTtcblxuICAgICAgICAgICAgdmFyIHNldHRlZCA9IHRoaXMuc2V0KHRoaXMub3B0aW9ucy5taW4gKyBwYXJzZUZsb2F0KG1hdHJpeFs0XSwgMTApIC8gdGhpcy5zdGVwX3dpZHRoICogdGhpcy5vcHRpb25zLnN0ZXApO1xuXG4gICAgICAgICAgICBpZiAoIXNldHRlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3Bvc2l0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVyX2NsaWNrKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuJGhhbmRsZXJfd3JwLmdldCgwKSkgcmV0dXJuOyAvL0lORk86IHNob3VsZG4ndCB3b3JrIGlmIHdlIGNsaWNrIG9uIHRoZSBoYW5kbGVyIC8vSU5GTzogTWF5YmUgd2UgYXJlIGRyYWdnaW5nLCBzaG91bGRuJ3QgYmUgaGFuZGxlZCBhcyBhIGNsaWNrIG9uIHRoZSB1bmhpZ2hsaXRlZCBiYXJcblxuICAgICAgICAgICAgdmFyIGNsaWNrX3BvcyA9ICQuZXZlbnRYWShldmVudCksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLm1vZGlmaWVyX3goY2xpY2tfcG9zLlggLSB0aGlzLnVuaGlnaGxpZ2h0ZWRfb2Zmc2V0LmxlZnQpO1xuXG4gICAgICAgICAgICB0aGlzLnNldCh0aGlzLm9wdGlvbnMubWluICsgZGlzdGFuY2UgLyB0aGlzLnN0ZXBfd2lkdGggKiB0aGlzLm9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblxuICAgICAgICAgICAgdmFsdWUgPSBfLmNsYW1wKHRoaXMub3B0aW9ucy5taW4sIHRoaXMuX3JvdW5kX3ZhbHVlKHZhbHVlKSwgdGhpcy5vcHRpb25zLm1heCk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5vcHRpb25zLnZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWx1ZSA+IHRoaXMub3B0aW9ucy52YWx1ZSA/ICdpbmNyZWFzZWQnIDogJ2RlY3JlYXNlZCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9wb3NpdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfbGFiZWwoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBpbmNyZWFzZTogZnVuY3Rpb24gaW5jcmVhc2UoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldCh0aGlzLm9wdGlvbnMudmFsdWUgKyB0aGlzLm9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVjcmVhc2U6IGZ1bmN0aW9uIGRlY3JlYXNlKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQodGhpcy5vcHRpb25zLnZhbHVlIC0gdGhpcy5vcHRpb25zLnN0ZXApO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc2xpZGVyJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkc2xpZGVyID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIG1pbjogTnVtYmVyKCRzbGlkZXIuZmluZCgnLnNsaWRlci1taW4nKS5kYXRhKCdtaW4nKSB8fCAwKSxcbiAgICAgICAgICAgICAgICBtYXg6IE51bWJlcigkc2xpZGVyLmZpbmQoJy5zbGlkZXItbWF4JykuZGF0YSgnbWF4JykgfHwgMTAwKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogTnVtYmVyKCRzbGlkZXIuZmluZCgnaW5wdXQnKS52YWwoKSB8fCAwKSxcbiAgICAgICAgICAgICAgICBzdGVwOiBOdW1iZXIoJHNsaWRlci5kYXRhKCdzdGVwJykgfHwgMSksXG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IE51bWJlcigkc2xpZGVyLmRhdGEoJ2RlY2ltYWxzJykgfHwgMClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzbGlkZXIuc2xpZGVyKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgdGFibGVIZWxwZXIsIGp1c3QgcHV0IHRoZSBuZXcgYWRkZGVkIHJvdyBpbiB0aGUgcmlnaHQgcG9zaXRpb24sIGdvb2QgcGVyZm9ybWFuY2UgZ2FpbiBoZXJlIVxuLy9UT0RPOiBjYWNoZSB0aGUgY29sdW1uIGRhdGFzLCBpZiBwb3NzaWJsZVxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3Igc29ydGluZyBvdGhlciB0aGluZ3Mgb3RoZXIgdGhhbiB0YWJsZXNcbi8vVE9ETzogaWYgcG9zc2libGUgc29ydCB1c2luZyBmbGV4Ym94J3MgYG9yZGVyYCBwcm9wZXJ0eVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU09SVEFCTEUgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uc29ydGFibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNvcnRlcnM6IHtcbiAgICAgICAgICAgICAgICBpbnQ6IGZ1bmN0aW9uIGludChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChhLCAxMCkgLSBwYXJzZUludChiLCAxMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmbG9hdDogZnVuY3Rpb24gZmxvYXQoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhKSAtIHBhcnNlRmxvYXQoYik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBhLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBiLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHNvcnQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRoZWFkZXJzID0gdGhpcy4kdGFibGUuZmluZCgndGhlYWQgdGgnKTtcbiAgICAgICAgICAgIHRoaXMuJHNvcnRhYmxlcyA9IHRoaXMuJGhlYWRlcnMuZmlsdGVyKCdbZGF0YS1zb3J0XScpO1xuICAgICAgICAgICAgdGhpcy4kdGJvZHkgPSB0aGlzLiR0YWJsZS5maW5kKCd0Ym9keScpO1xuXG4gICAgICAgICAgICB0aGlzLnRhYmxlID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50Ym9keSA9IHRoaXMuJHRib2R5LmdldCgwKTtcblxuICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzID0ge307IC8vSU5GTzogQ2FjaGluZyBvYmplY3QgZm9yIGRhdGFzIGFuZCByZWZlcmVuY2VzIHRvIHJvd3NcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gZmFsc2U7IC8vSU5GTzogYCRoZWFkZXJzYCBpbmRleCwgbm90IGAkc29ydGFibGVzYCBpbmRleFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2RpcmVjdGlvbiA9IGZhbHNlOztcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHZhciAkaW5pdGlhbCA9IHRoaXMuJGhlYWRlcnMuZmlsdGVyKCcuYXNjLCAuZGVzYycpLmZpcnN0KCk7XG5cbiAgICAgICAgICAgIGlmICgkaW5pdGlhbC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydCh0aGlzLiRoZWFkZXJzLmluZGV4KCRpbml0aWFsKSwgJGluaXRpYWwuaGFzQ2xhc3MoJ2FzYycpID8gJ2FzYycgOiAnZGVzYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSk7IC8vVE9ETzogdXBkYXRlIHRvIHN1cHBvcnQgdGFibGVIZWxwZXJcblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kc29ydGFibGVzLCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX2NsaWNrKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uIF9oYW5kbGVyX2NoYW5nZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzID0ge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNvcnQodGhpcy5jdXJyZW50X2luZGV4LCB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9jbGljayhldmVudCkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2luZGV4ID0gdGhpcy4kaGVhZGVycy5pbmRleChldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICAgIG5ld19kaXJlY3Rpb24gPSB0aGlzLmN1cnJlbnRfaW5kZXggPT09IG5ld19pbmRleCA/IHRoaXMuY3VycmVudF9kaXJlY3Rpb24gPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYycgOiAnYXNjJztcblxuICAgICAgICAgICAgdGhpcy5zb3J0KG5ld19pbmRleCwgbmV3X2RpcmVjdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU09SVCAqL1xuXG4gICAgICAgIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoaW5kZXgsIGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAvLyBWQUxJREFURVxuXG4gICAgICAgICAgICB2YXIgJHNvcnRhYmxlID0gdGhpcy4kaGVhZGVycy5lcShpbmRleCk7XG5cbiAgICAgICAgICAgIGlmICghJHNvcnRhYmxlLmxlbmd0aCkgcmV0dXJuOyAvLyBiYWQgaW5kZXhcblxuICAgICAgICAgICAgdmFyIHNvcnRlcl9uYW1lID0gJHNvcnRhYmxlLmRhdGEoJ3NvcnQnKTtcblxuICAgICAgICAgICAgaWYgKCFzb3J0ZXJfbmFtZSkgcmV0dXJuOyAvLyB1bnNvcnRhYmxlIGNvbHVtblxuXG4gICAgICAgICAgICB2YXIgc29ydGVyID0gdGhpcy5vcHRpb25zLnNvcnRlcnNbc29ydGVyX25hbWVdO1xuXG4gICAgICAgICAgICBpZiAoIXNvcnRlcikgcmV0dXJuOyAvLyB1bnN1cHBvcnRlZCBzb3J0ZXJcblxuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uICYmIGRpcmVjdGlvbi50b0xvd2VyQ2FzZSgpID09PSAnZGVzYycgPyAnZGVzYycgOiAnYXNjJztcblxuICAgICAgICAgICAgLy8gU1RZTEVcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCAhPT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHNvcnRhYmxlcy5lcSh0aGlzLmN1cnJlbnRfaW5kZXgpLnJlbW92ZUNsYXNzKHRoaXMuY3VycmVudF9kaXJlY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc29ydGFibGUuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcblxuICAgICAgICAgICAgLy8gQ0hFQ0tJTkcgQ0FDSEVEIERBVEFTXG5cbiAgICAgICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHRoaXMuc29ydF9kYXRhc1tpbmRleF0pKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBWQVJJQUJMRVNcblxuICAgICAgICAgICAgICAgIHZhciAkdHJzID0gdGhpcy4kdGJvZHkuZmluZCgndHI6bm90KC5lbXB0eSknKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydF9kYXRhc1tpbmRleF0gPSBBcnJheSgkdHJzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAvLyBQT1BVTEFURVxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSAkdHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkdHJzLmVxKGkpLmZpbmQoJ3RkJykuZXEoaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdGQuZGF0YSgnc29ydC12YWx1ZScpIHx8ICR0ZC50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzW2luZGV4XVtpXSA9IFskdHJzLmdldChpKSwgdmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU09SVFxuXG4gICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzb3J0ZXIoYVsxXSwgYlsxXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rlc2MnKSB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLnJldmVyc2UoKTtcblxuICAgICAgICAgICAgLy8gQVBQRU5EXG5cbiAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50Ym9keSk7IC8vIGRldGFjaFxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuc29ydF9kYXRhc1tpbmRleF0ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRib2R5LmFwcGVuZENoaWxkKHRoaXMuc29ydF9kYXRhc1tpbmRleF1baV1bMF0pOyAvLyByZW9yZGVyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGhpcy50Ym9keSk7IC8vIGF0dGFjaFxuXG4gICAgICAgICAgICAvLyBVUERBVEVcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICAvLyBUUklHR0VSXG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3NvcnQnLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuY3VycmVudF9pbmRleCxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuY3VycmVudF9kaXJlY3Rpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCd0YWJsZS5zb3J0YWJsZScpLnNvcnRhYmxlKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTVEVQUEVSICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnN0ZXBwZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgZGVjaW1hbHM6IDAsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBpbmNyZWFzZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGRlY3JlYXNlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kc3RlcHBlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJHN0ZXBwZXIuZmluZCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHRoaXMuJGRlY3JlYXNlciA9IHRoaXMuJHN0ZXBwZXIuZmluZCgnLnN0ZXBwZXItZGVjcmVhc2VyJyk7XG4gICAgICAgICAgICB0aGlzLiRpbmNyZWFzZXIgPSB0aGlzLiRzdGVwcGVyLmZpbmQoJy5zdGVwcGVyLWluY3JlYXNlcicpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIC8qIElOUFVUIC8gQ0hBTkdFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsIHRoaXMuJGlucHV0LCAnaW5wdXQgY2hhbmdlJywgdGhpcy5faGFuZGxlcl9pbnB1dF9jaGFuZ2UpO1xuXG4gICAgICAgICAgICAvKiBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2Fycm93c19pbik7XG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX291dCk7XG5cbiAgICAgICAgICAgIC8qIElOQ1JFQVNFIC8gREVDUkVBU0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kZGVjcmVhc2VyLCAnY2xpY2snLCB0aGlzLmRlY3JlYXNlKTtcblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaW5jcmVhc2VyLCAnY2xpY2snLCB0aGlzLmluY3JlYXNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX3JvdW5kX3ZhbHVlOiBmdW5jdGlvbiBfcm91bmRfdmFsdWUodmFsdWUpIHtcblxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihOdW1iZXIodmFsdWUpLnRvRml4ZWQodGhpcy5vcHRpb25zLmRlY2ltYWxzKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9pbnB1dF9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0X3ZhbHVlKHRoaXMuJGlucHV0LnZhbCgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBMRUZUIC8gUklHSFQgQVJST1dTICovXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2luOiBmdW5jdGlvbiBfaGFuZGxlcl9hcnJvd3NfaW4oZXZlbnQpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19vdXQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19vdXQoZXZlbnQpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5MRUZUIHx8IGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5ET1dOKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5SSUdIVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuaW5jcmVhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBzZXRfdmFsdWU6IGZ1bmN0aW9uIHNldF92YWx1ZSh2YWx1ZSkge1xuXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3JvdW5kX3ZhbHVlKHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLm9wdGlvbnMudmFsdWUgfHwgdGhpcy4kaW5wdXQudmFsKCkubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZCA9IF8uY2xhbXAodGhpcy5vcHRpb25zLm1pbiwgdmFsdWUsIHRoaXMub3B0aW9ucy5tYXgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnZhbHVlID0gY2xhbXBlZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnZhbChjbGFtcGVkKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGRlY3JlYXNlci50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBjbGFtcGVkID09PSB0aGlzLm9wdGlvbnMubWluKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbmNyZWFzZXIudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgY2xhbXBlZCA9PT0gdGhpcy5vcHRpb25zLm1heCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKGNsYW1wZWQgPiB0aGlzLm9wdGlvbnMudmFsdWUgPyAnaW5jcmVhc2UnIDogJ2RlY3JlYXNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5jcmVhc2U6IGZ1bmN0aW9uIGluY3JlYXNlKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlKHRoaXMub3B0aW9ucy5zdGVwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZWNyZWFzZTogZnVuY3Rpb24gZGVjcmVhc2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGUoLXRoaXMub3B0aW9ucy5zdGVwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBuYXZpZ2F0ZTogZnVuY3Rpb24gbmF2aWdhdGUobW9kaWZpZXIpIHtcblxuICAgICAgICAgICAgdmFyIG5ld192YWx1ZSA9IHRoaXMub3B0aW9ucy52YWx1ZSArIG1vZGlmaWVyO1xuXG4gICAgICAgICAgICB0aGlzLnNldF92YWx1ZShuZXdfdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc3RlcHBlcicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHN0ZXBwZXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICRpbnB1dCA9ICRzdGVwcGVyLmZpbmQoJ2lucHV0JyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBtaW46IE51bWJlcigkc3RlcHBlci5kYXRhKCdtaW4nKSB8fCAwKSxcbiAgICAgICAgICAgICAgICBtYXg6IE51bWJlcigkc3RlcHBlci5kYXRhKCdtYXgnKSB8fCAxMDApLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIoJGlucHV0LnZhbCgpIHx8IDApLFxuICAgICAgICAgICAgICAgIHN0ZXA6IE51bWJlcigkc3RlcHBlci5kYXRhKCdzdGVwJykgfHwgMSksXG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IE51bWJlcigkc3RlcHBlci5kYXRhKCdkZWNpbWFscycpIHx8IDApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc3RlcHBlci5zdGVwcGVyKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL2RyYWdnYWJsZS9kcmFnZ2FibGUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTV0lUQ0ggKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uc3dpdGNoJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgICAgICBvbjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgb2ZmOiAnZ3JheSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgdW5jaGVja2VkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kc3dpdGNoID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kc3dpdGNoLmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICB0aGlzLiRiYXJfd3JwID0gdGhpcy4kc3dpdGNoLmZpbmQoJy5zd2l0Y2gtYmFyLXdycCcpO1xuICAgICAgICAgICAgdGhpcy4kYmFyID0gdGhpcy4kc3dpdGNoLmZpbmQoJy5zd2l0Y2gtYmFyJyk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyID0gdGhpcy4kc3dpdGNoLmZpbmQoJy5zd2l0Y2gtaGFuZGxlcicpO1xuICAgICAgICAgICAgdGhpcy4kaWNvbiA9IHRoaXMuJGhhbmRsZXIuZmluZCgnLmljb24nKTtcblxuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrKHRoaXMuY2hlY2tlZCwgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsIHRoaXMuJGlucHV0LCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UpO1xuXG4gICAgICAgICAgICAvKiBLRVlTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9rZXlzX2luKTtcbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9rZXlzX291dCk7XG5cbiAgICAgICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGJhciwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGljayk7XG5cbiAgICAgICAgICAgIC8qIERSQUcgKi9cblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlci5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgICAgIGF4aXM6ICd4JyxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudDogdGhpcy4kYmFyX3dycFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuZDogdGhpcy5faGFuZGxlcl9kcmFnX2VuZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfY2hlY2tlZCA9IHRoaXMuJGlucHV0LnByb3AoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCAhPT0gbmV3X2NoZWNrZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IG5ld19jaGVja2VkO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrKHRoaXMuY2hlY2tlZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogS0VZUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfaW46IGZ1bmN0aW9uIF9oYW5kbGVyX2tleXNfaW4oKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXNfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19vdXQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2tleXNfb3V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2tleXNfa2V5ZG93bihldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkxFRlQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudW5jaGVjaygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUklHSFQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlNQQUNFKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVyX2NsaWNrKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19lbmQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2RyYWdfZW5kKGRhdGEpIHtcblxuICAgICAgICAgICAgaWYgKGRhdGEuZHJhZ2dlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuJGhhbmRsZXIub2Zmc2V0KCkubGVmdCAtIHRoaXMuJGJhcl93cnAub2Zmc2V0KCkubGVmdCArIHRoaXMuJGhhbmRsZXIud2lkdGgoKSAvIDIgPj0gdGhpcy4kYmFyX3dycC53aWR0aCgpIC8gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IGNoZWNrZWQgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sodGhpcy5jaGVja2VkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0X2NoZWNrOiBmdW5jdGlvbiBfc2V0X2NoZWNrKGNoZWNrZWQsIGZvcmNlKSB7XG5cbiAgICAgICAgICAgIGlmIChjaGVja2VkICE9PSB0aGlzLiRpbnB1dC5wcm9wKCdjaGVja2VkJykgfHwgZm9yY2UpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHN3aXRjaC50b2dnbGVDbGFzcygnY2hlY2tlZCcsIGNoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaGFuZGxlci5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgKGNoZWNrZWQgPyAnMS43MzMzM2VtJyA6ICcwJykgKyAnLDAsMCknKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJhci50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuY29sb3JzLm9uLCBjaGVja2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVyLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5jb2xvcnMub24sIGNoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kYmFyLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5jb2xvcnMub2ZmLCAhY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGFuZGxlci50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuY29sb3JzLm9mZiwgIWNoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcsIGNoZWNrZWQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihjaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGNoZWNrOiBmdW5jdGlvbiBjaGVjaygpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrKHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVuY2hlY2s6IGZ1bmN0aW9uIHVuY2hlY2soKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayhmYWxzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9ICF0aGlzLmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sodGhpcy5jaGVja2VkKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnN3aXRjaCcpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHN3aXRjaCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb246ICRzd2l0Y2guZGF0YSgnY29sb3Itb24nKSB8fCAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgb2ZmOiAkc3dpdGNoLmRhdGEoJ2NvbG9yLW9mZicpIHx8ICdncmF5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzd2l0Y2hbJ3N3aXRjaCddKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRBQkxFIEhFTFBFUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by50YWJsZUhlbHBlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgYWRkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xlYXI6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiR0aGVhZCA9IHRoaXMuJHRhYmxlLmZpbmQoJ3RoZWFkJyksIHRoaXMuJHRmb290ID0gdGhpcy4kdGFibGUuZmluZCgndGZvb3QnKSwgdGhpcy4kdGJvZHkgPSB0aGlzLiR0YWJsZS5maW5kKCd0Ym9keScpLCB0aGlzLiRoZWFkZXJzID0gdGhpcy4kdGhlYWQuZmluZCgndGgnKSwgdGhpcy4kZW1wdHlfcm93ID0gdGhpcy4kdGJvZHkuZmluZCgndHIuZW1wdHknKSwgdGhpcy5jb2x1bW5zX25yID0gdGhpcy4kaGVhZGVycy5sZW5ndGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfY2hlY2tfZW1wdHk6IGZ1bmN0aW9uIF9jaGVja19lbXB0eSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZW1wdHlfcm93LnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCB0aGlzLiR0Ym9keS5maW5kKCd0cjpub3QoLmVtcHR5KScpLmxlbmd0aCA+IDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfcm93X2lkOiBmdW5jdGlvbiBfZ2V0X3Jvd19pZChpZCkge1xuXG4gICAgICAgICAgICByZXR1cm4gJ3JpZF8nICsgdGhpcy51dWlkICsgJ18nICsgaWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoaWQpIHtcbiAgICAgICAgICAgIC8vSU5GTzogaWQsIGRhdGFzLi4uXG5cbiAgICAgICAgICAgIHZhciBkYXRhcyA9IF8udGFpbChhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YXMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGZpbGxhYmxlcyA9IHRoaXMuJHRib2R5LmZpbmQoJ3RkLmZpbGxhYmxlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGZpbGxhYmxlcy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNfZmlsbGFibGUgPSBfLnNsaWNlKGRhdGFzLCAwLCAkZmlsbGFibGVzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YXMgPSBfLnNsaWNlKGRhdGFzLCBkYXRhc19maWxsYWJsZS5sZW5ndGggLSAxLCBkYXRhcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGF0YXNfZmlsbGFibGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWxsYWJsZXMuZXEoaSkuaHRtbChkYXRhc19maWxsYWJsZVtpXSkucmVtb3ZlQ2xhc3MoJ2ZpbGxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaWQgJiYgJCgnLicgKyB0aGlzLl9nZXRfcm93X2lkKGlkKSkubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdBIHRhYmxlIGNhbm5vdCBjb250YWluIDIgcm93cyB3aXRoIHRoZSBzYW1lIElEJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2h1bmtzID0gXy5jaHVuayhkYXRhcywgdGhpcy5jb2x1bW5zX25yKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGNpID0gMCwgY2wgPSBjaHVua3MubGVuZ3RoOyBjaSA8IGNsOyBjaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNodW5rID0gY2h1bmtzW2NpXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93X2h0bWwgPSAnPHRyICcgKyAoaWQgPyAnY2xhc3M9XCInICsgdGhpcy5fZ2V0X3Jvd19pZChpZCkgKyAnXCInIDogJycpICsgJz4nO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2h1bmsubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd19odG1sICs9ICc8dGQ+JyArIChjaHVua1tpXSB8fCAnJykgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNodW5rLmxlbmd0aCwgbCA9IHRoaXMuY29sdW1uc19ucjsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dfaHRtbCArPSAnPHRkIGNsYXNzPVwiZmlsbGFibGVcIj48L3RkPic7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByb3dfaHRtbCArPSAnPC90cj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRib2R5LmFwcGVuZChyb3dfaHRtbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignYWRkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGlkKSB7XG4gICAgICAgICAgICAvL0lORk86IGlkLCBkYXRhcy4uLlxuXG4gICAgICAgICAgICB2YXIgZGF0YXMgPSBfLnRhaWwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAkcm93ID0gJCgnLicgKyB0aGlzLl9nZXRfcm93X2lkKGlkKSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhcy5sZW5ndGggJiYgJHJvdy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkdGRzID0gJHJvdy5maW5kKCd0ZCcpO1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoKGRhdGFzLCBmdW5jdGlvbiAoZGF0YSwgaW5kZXgpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5pc1N0cmluZyhkYXRhKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGRzLmVxKGluZGV4KS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJsZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3VwZGF0ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShpZCkge1xuXG4gICAgICAgICAgICB2YXIgJHJvdyA9ICQoJy4nICsgdGhpcy5fZ2V0X3Jvd19pZChpZCkpO1xuXG4gICAgICAgICAgICBpZiAoJHJvdy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICRyb3cucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFibGUudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdyZW1vdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuXG4gICAgICAgICAgICB2YXIgJHJvd3MgPSB0aGlzLiR0Ym9keS5maW5kKCd0cjpub3QoLmVtcHR5KScpO1xuXG4gICAgICAgICAgICBpZiAoJHJvd3MubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAkcm93cy5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrX2VtcHR5KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJsZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NsZWFyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCd0YWJsZScpLnRhYmxlSGVscGVyKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogTWF5YmUgc3dpdGNoIGZyb20gdGhlIGluZGljYXRvciB0byAuYnV0dG9uLmhpZ2hsaWdodFxuLy9GSVhNRTogcG9zaXRpb25hdGVfaW5kaWNhdG9yIGlzIHRvbyBoYWNreVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVEFCUyAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by50YWJzJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBidXR0b25zX3dycDogJy50YWJzLWJ1dHRvbnMnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6ICcuYnV0dG9uLXdycCA+IC5sYWJlbCcsXG4gICAgICAgICAgICAgICAgYnV0dG9uX2FjdGl2ZV9jbGFzczogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yOiAnLnRhYnMtYnV0dG9ucy1pbmRpY2F0b3InLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNfd3JwOiAnLnRhYnMtY29udGFpbmVycycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyczogJz4gLmNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyX2FjdGl2ZV9jbGFzczogJ2FjdGl2ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRpY2F0b3JfZGVsYXk6IDQwLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdGFicyA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuJHRhYnMuaGFzQ2xhc3MoJ3ZlcnRpY2FsJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYnNfYnV0dG9ucyA9IHRoaXMuJHRhYnMuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnNfd3JwKTtcbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMgPSB0aGlzLiR0YWJzX2J1dHRvbnMuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnMpO1xuICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9yID0gdGhpcy4kdGFicy5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuaW5kaWNhdG9yKTtcblxuICAgICAgICAgICAgdGhpcy4kdGFic19jb250YWluZXJzID0gdGhpcy4kdGFicy5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVyc193cnApO1xuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVycyA9IHRoaXMuJHRhYnNfY29udGFpbmVycy5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVycyk7XG5cbiAgICAgICAgICAgIHZhciAkY3VycmVudF9idXR0b24gPSB0aGlzLiRidXR0b25zLmZpbHRlcignLicgKyB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MpLmZpcnN0KCk7XG5cbiAgICAgICAgICAgICRjdXJyZW50X2J1dHRvbiA9ICRjdXJyZW50X2J1dHRvbi5sZW5ndGggPiAwID8gJGN1cnJlbnRfYnV0dG9uIDogdGhpcy4kYnV0dG9ucy5maXJzdCgpO1xuXG4gICAgICAgICAgICB0aGlzLnByZXZfaW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gdGhpcy4kYnV0dG9ucy5pbmRleCgkY3VycmVudF9idXR0b24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5jdXJyZW50X2luZGV4LCB0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiR0YWJzX2J1dHRvbnMsICdjbGljaycsIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuYnV0dG9ucywgdGhpcy5faGFuZGVyX2J1dHRvbl9jbGljayk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCR3aW5kb3csICdyZXNpemUnLCB0aGlzLl9wb3NpdGlvbmF0ZV9pbmRpY2F0b3IpOyAvL1RPRE86IHRocm90dGxlIG9yIGRldm91bmNlIGl0XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9oYW5kZXJfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGVyX2J1dHRvbl9jbGljayhldmVudCwgbm9kZSkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2luZGV4ID0gdGhpcy4kYnV0dG9ucy5pbmRleCgkKG5vZGUpKTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3QobmV3X2luZGV4KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcG9zaXRpb25hdGVfaW5kaWNhdG9yOiBmdW5jdGlvbiBfcG9zaXRpb25hdGVfaW5kaWNhdG9yKCkge1xuXG4gICAgICAgICAgICB2YXIgJGFjdGl2ZSA9IHRoaXMuJGJ1dHRvbnMuZmlsdGVyKCcuJyArIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuYnV0dG9uX2FjdGl2ZV9jbGFzcyksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAkYWN0aXZlLnBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcblxuICAgICAgICAgICAgICAgIHZhciB0b3RhbF9oZWlnaHQgPSB0aGlzLiR0YWJzX2J1dHRvbnMuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCA9IHBvc2l0aW9uLnRvcCArICh0aGlzLiRidXR0b25zLmluZGV4KCRhY3RpdmUpID09PSAwID8gMSA6IDApOyAvL0ZJWE1FOiBpdCdzIGhhY2t5XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9yLmNzcygndG9wJywgdG9wICogMTAwIC8gdG90YWxfaGVpZ2h0ICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmN1cnJlbnRfaW5kZXggPiB0aGlzLnByZXZfaW5kZXggPyB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5IDogMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvdHRvbSA9IHRvdGFsX2hlaWdodCAtIHBvc2l0aW9uLnRvcCAtICRhY3RpdmUuaGVpZ2h0KCkgKyAodGhpcy4kYnV0dG9ucy5pbmRleCgkYWN0aXZlKSA9PT0gdGhpcy4kYnV0dG9ucy5sZW5ndGggLSAxID8gMSA6IDApOyAvL0ZJWE1FOiBpdCdzIGhhY2t5XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9yLmNzcygnYm90dG9tJywgYm90dG9tICogMTAwIC8gdG90YWxfaGVpZ2h0ICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmN1cnJlbnRfaW5kZXggPiB0aGlzLnByZXZfaW5kZXggPyAwIDogdGhpcy5vcHRpb25zLmluZGljYXRvcl9kZWxheSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsX3dpZHRoID0gdGhpcy4kdGFic19idXR0b25zLndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBwb3NpdGlvbi5sZWZ0ICsgKHRoaXMuJGJ1dHRvbnMuaW5kZXgoJGFjdGl2ZSkgPT09IDAgPyAxIDogMCk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzKCdsZWZ0JywgbGVmdCAqIDEwMCAvIHRvdGFsX3dpZHRoICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmN1cnJlbnRfaW5kZXggPiB0aGlzLnByZXZfaW5kZXggPyB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5IDogMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gdG90YWxfd2lkdGggLSBwb3NpdGlvbi5sZWZ0IC0gJGFjdGl2ZS53aWR0aCgpICsgKHRoaXMuJGJ1dHRvbnMuaW5kZXgoJGFjdGl2ZSkgPT09IHRoaXMuJGJ1dHRvbnMubGVuZ3RoIC0gMSA/IDEgOiAwKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MoJ3JpZ2h0JywgcmlnaHQgKiAxMDAgLyB0b3RhbF93aWR0aCArICclJyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gMCA6IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JfZGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGluZGV4LCBmb3JjZSkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ICE9PSBpbmRleCB8fCBmb3JjZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5lcSh0aGlzLmN1cnJlbnRfaW5kZXgpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuYnV0dG9uX2FjdGl2ZV9jbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5lcShpbmRleCkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMuZXEodGhpcy5jdXJyZW50X2luZGV4KS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcl9hY3RpdmVfY2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMuZXEoaW5kZXgpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVyX2FjdGl2ZV9jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ICE9PSBpbmRleCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldl9pbmRleCA9IHRoaXMuY3VycmVudF9pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25hdGVfaW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy50YWJzJykudGFicygpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCB0aGUgdGFnIHBvaW50ZXJcbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgdGFncyBieSBwYXNzaW5nOiBzaW5nbGUgdGFnIHN0cmluZywgc2luZ2xlIHRhZ3Mgc3RyaW5nIHNlcGFyYXRlZCBieSBzZXBhcmF0b3IsIGFycmF5IG9mIHRhZ3MsIG11bHRpcGxlIHBhcmFtZXRlcnNcbi8vRklYTUU6IGRvIHdlIGhhbmRsZSB0aGUgaW5zZXJ0aW9uIG9mIGNoYXJhY3RlcnMgbGlrZSBgJmAgb3IgYCdgIHByb3BlcnRseT9cbi8vRklYTUU6IHNob3VsZCBiZSBmb3JiaWQgY2hhcmFjdGVycyBvciBqdXN0IGVzY2FwZSB0aGVtP1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVEFHQk9YICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnRhZ2JveCcsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIHRhZzogJzxkaXYgY2xhc3M9XCJtdWx0aXBsZS13cnAgam9pbmVkIHRhZ2JveC10YWdcIiBkYXRhLXRhZy12YWx1ZT1cInslPW8uc3RyJX1cIj4nICsgJzxkaXYgY2xhc3M9XCJtdWx0aXBsZVwiPicgKyAnPGRpdiBjbGFzcz1cImxhYmVsLXdycFwiPicgKyAnPGRpdiBjbGFzcz1cImxhYmVsIGNvbXBhY3QgeyU9KG8uY29sb3IgPyBvLmNvbG9yIDogXCJcIiklfSB7JT0oby5zaXplID8gby5zaXplIDogXCJcIiklfSB7JT0oby5jc3MgPyBvLmNzcyA6IFwiXCIpJX1cIj4nICsgJzxkaXYgY2xhc3M9XCJsYWJlbC1jZW50ZXJcIj4nICsgJ3slPW8uc3RyJX0nICsgJzxkaXYgY2xhc3M9XCJpY29uIGljb24tbmF2aWdhdGlvbi1jbG9zZSByaWdodCB0YWdib3gtdGFnLXJlbW92ZXJcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgICAgICAgaW5pdDogJycsXG4gICAgICAgICAgICAgICAgc3RyOiAnJyxcbiAgICAgICAgICAgICAgICBhcnI6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFnOiB7XG4gICAgICAgICAgICAgICAgbWluX2xlbmd0aDogMyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJycsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgY3NzOiAnb3V0bGluZWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcmFjdGVyczoge1xuICAgICAgICAgICAgICAgIGZvcmJpZGRlbjogWyc8JywgJz4nLCAnOycsICdgJ10sIC8vRklYTUU6IGFkZCB0YWIsIGVudGVyLCBhbmQgYWxsIHRoZSBvdGhlciBzcGVjaWFsc1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogJywnLCAvL0lORk86IEl0IHdpbGwgYWxzbyBiZWNvbWUga2luZCBvZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIsIHVzZWQgZm9yIGluc2VydGlvblxuICAgICAgICAgICAgICAgIGluc2VydGVyczogWyQudWkua2V5Q29kZS5FTlRFUiwgJC51aS5rZXlDb2RlLlRBQl0gfSxcbiAgICAgICAgICAgIC8vVE9ETzogd3JpdGUgdGhlbSBhcyBzdHJpbmcsIHNvIHRoZXkgYXJlIGVhc2llciB0byBlZGl0IGFuZCB0aGF0J3MgdGhlIGZvcm1hdCB0aGF0IHRoZSB1c2VyIGV4cGVjdHNcbiAgICAgICAgICAgIHNvcnQ6IGZhbHNlLCAvL0lORk86IFRoZSB0YWdzIGFyZSBkaXNwbGF5ZWQgaW4gc29ydGVkIG9yZGVyXG4gICAgICAgICAgICBlc2NhcGU6IHRydWUsIC8vSU5GTzogRXNjYXBlIHBvdGVudGlhbCBYU1MgY2hhcmFjdGVyc1xuICAgICAgICAgICAgZGVidXJyOiBmYWxzZSwgLy9JTkZPOiBSZXBsYWNlIG5vbiBsYXRpbiBiYXNpYyBsZXR0ZXJzXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBhZGQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICByZW1vdmU6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWdib3ggPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB2YXIgJGlucHV0cyA9IHRoaXMuJHRhZ2JveC5maW5kKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9ICRpbnB1dHMuZXEoMCk7XG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsID0gJGlucHV0cy5lcSgxKTtcbiAgICAgICAgICAgIHRoaXMucGFydGlhbCA9IHRoaXMuJHBhcnRpYWwuZ2V0KDApO1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsX3dycCA9IHRoaXMuJHBhcnRpYWwucGFyZW50KCcuaW5wdXQtd3JwJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmFkZCh0aGlzLm9wdGlvbnMudGFncy5pbml0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBQQVJUSUFMICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHBhcnRpYWwsICdrZXlwcmVzcyBrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlwcmVzc19rZXlkb3duKTsgLy9JTkZPOiBga2V5cHJlc3NgIGlzIGZvciBwcmludGFibGUgY2hhcmFjdGVycywgYGtleWRvd25gIGZvciB0aGUgb3RoZXJzXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHBhcnRpYWwsICdwYXN0ZScsIHRoaXMuX2hhbmRsZXJfcGFzdGUpO1xuXG4gICAgICAgICAgICAvKiBPTiBFTVBUWSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCB0aGlzLl9oYW5kbGVyX2NsaWNrX29uX2VtcHR5KTtcblxuICAgICAgICAgICAgLyogVEFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdjbGljaycsICcudGFnYm94LXRhZy1yZW1vdmVyJywgdGhpcy5faGFuZGxlcl9jbGlja19vbl90YWdfcmVtb3Zlcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9nZXRfdGFnX2h0bWw6IGZ1bmN0aW9uIF9nZXRfdGFnX2h0bWwodGFnX3N0cikge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG1wbCgndGFnJywgXy5tZXJnZSh7IHN0cjogdGFnX3N0ciB9LCB0aGlzLm9wdGlvbnMudGFnKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV90YWdzX3N0cjogZnVuY3Rpb24gX3VwZGF0ZV90YWdzX3N0cigpIHtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ3Muc3RyID0gdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmpvaW4odGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfc2FuaXRpemVfdGFnX3N0cjogZnVuY3Rpb24gX3Nhbml0aXplX3RhZ19zdHIodGFnX3N0cikge1xuXG4gICAgICAgICAgICB0YWdfc3RyID0gXy50cmltKHRhZ19zdHIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVzY2FwZSkge1xuXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IF8uZXNjYXBlKHRhZ19zdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRlYnVycikge1xuXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IF8uZGVidXJyKHRhZ19zdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFnX3N0cjtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2lucHV0OiBmdW5jdGlvbiBfdXBkYXRlX2lucHV0KCkge1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dC52YWwodGhpcy5vcHRpb25zLnRhZ3Muc3RyKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY2xlYXJfcGFydGlhbDogZnVuY3Rpb24gX2NsZWFyX3BhcnRpYWwoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHBhcnRpYWwudmFsKCcnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBUQUcgKi9cblxuICAgICAgICBfcGFydGlhbF9hZGRfdGFnOiBmdW5jdGlvbiBfcGFydGlhbF9hZGRfdGFnKHRhZ19zdHIpIHtcblxuICAgICAgICAgICAgdmFyIHRhZ19zdHJfdHJpbW1lZCA9IF8udHJpbSh0YWdfc3RyKSxcbiAgICAgICAgICAgICAgICB0YWdfc3RyID0gdGhpcy5fc2FuaXRpemVfdGFnX3N0cih0YWdfc3RyKTtcblxuICAgICAgICAgICAgaWYgKHRhZ19zdHJfdHJpbW1lZC5sZW5ndGggPCB0aGlzLm9wdGlvbnMudGFnLm1pbl9sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0YWdfc3RyX3RyaW1tZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvL0lORk86IFNvIGl0IHdvbid0IGJlIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgZW50ZXIgYW5kIHRoZSAkcGFydGlhbCBpcyBlbXB0eVxuXG4gICAgICAgICAgICAgICAgICAgICQubm90eSgnYCcgKyB0YWdfc3RyICsgJ2AgaXMgc2hvcnRlciB0aGFuICcgKyB0aGlzLm9wdGlvbnMudGFnLm1pbl9sZW5ndGggKyAnIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY29udGFpbnModGhpcy5vcHRpb25zLnRhZ3MuYXJyLCB0YWdfc3RyKSkge1xuXG4gICAgICAgICAgICAgICAgJC5ub3R5KCdgJyArIHRhZ19zdHIgKyAnYCBpcyBhIGR1cGxpY2F0ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLmFyci5wdXNoKHRhZ19zdHIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ3MuYXJyLnNvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnX2h0bWwgPSB0aGlzLl9nZXRfdGFnX2h0bWwodGFnX3N0cik7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRhZ3MuYXJyLmxlbmd0aCA9PT0gMSB8fCAhdGhpcy5vcHRpb25zLnNvcnQpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwYXJ0aWFsX3dycC5iZWZvcmUodGFnX2h0bWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmluZGV4T2YodGFnX3N0cik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhZ2JveC5maW5kKCcudGFnYm94LXRhZycpLmZpcnN0KCkuYmVmb3JlKHRhZ19odG1sKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFnYm94LmZpbmQoJy50YWdib3gtdGFnJykuZXEoaW5kZXggLSAxKS5hZnRlcih0YWdfaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9wYXJ0aWFsX3JlbW92ZV90YWc6IGZ1bmN0aW9uIF9wYXJ0aWFsX3JlbW92ZV90YWcoJHRhZywgdGFnX3N0cikge1xuXG4gICAgICAgICAgICAkdGFnLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBfLnB1bGwodGhpcy5vcHRpb25zLnRhZ3MuYXJyLCB0YWdfc3RyKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBLRVlQUkVTUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2tleXByZXNzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2tleXByZXNzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIHRhZ19zdHIgPSB0aGlzLiRwYXJ0aWFsLnZhbCgpO1xuXG4gICAgICAgICAgICBpZiAoXy5jb250YWlucyh0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5pbnNlcnRlcnMsIGV2ZW50LmtleUNvZGUpIHx8IGV2ZW50LmtleUNvZGUgPT09IHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLnNlcGFyYXRvci5jaGFyQ29kZUF0KDApKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWRkZWQgPSB0aGlzLmFkZCh0YWdfc3RyKTtcblxuICAgICAgICAgICAgICAgIGlmIChhZGRlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyX3BhcnRpYWwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuQkFDS1NQQUNFKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGFnX3N0ci5sZW5ndGggPT09IDAgJiYgdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRhZyA9IHRoaXMuJHRhZ2JveC5maW5kKCcudGFnYm94LXRhZycpLmxhc3QoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXQgPSAhKCQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5tZXRhS2V5IHx8ICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSk7IC8vSU5GTzogV2l0aCBgY3RybGAgbm90IG9uIGEgTWFjIG9yIGBjbWRgIG9uIE1hYzogcmVtb3ZlIGl0IGNvbXBsZXRlbGx5LCBvdGhlcndpc2U6IGNvcHkgaXQgdG8gdGhlIGlucHV0XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoJHRhZywgZWRpdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY29udGFpbnModGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuZm9yYmlkZGVuLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmtleUNvZGUpKSkge1xuXG4gICAgICAgICAgICAgICAgJC5ub3R5KCdUaGUgY2hhcmFjdGVyIHlvdSBlbnRlcmVkIGlzIGZvcmJpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQQVNURSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3Bhc3RlOiBmdW5jdGlvbiBfaGFuZGxlcl9wYXN0ZShldmVudCkge1xuXG4gICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy9GSVhNRTogaXMgaXQgbmVjZXNzYXJ5P1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodGhpcy4kcGFydGlhbC52YWwoKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcl9wYXJ0aWFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyBPTiBDTE9TRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrX29uX3RhZ19yZW1vdmVyOiBmdW5jdGlvbiBfaGFuZGxlcl9jbGlja19vbl90YWdfcmVtb3ZlcihldmVudCwgdGFnX3JlbW92ZXIpIHtcblxuICAgICAgICAgICAgdmFyICR0YWcgPSAkKHRhZ19yZW1vdmVyKS5wYXJlbnRzKCcudGFnYm94LXRhZycpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgkdGFnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyBPTiBFTVBUWSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrX29uX2VtcHR5OiBmdW5jdGlvbiBfaGFuZGxlcl9jbGlja19vbl9lbXB0eShldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5wYXJ0aWFsICYmICEkKGV2ZW50LnRhcmdldCkuaXMoJ2lucHV0LCAudGFnYm94LXRhZy1sYWJlbCcpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwYXJ0aWFsLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGFncy5zdHI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQodGFnc19zdHIpIHtcblxuICAgICAgICAgICAgdmFyIHRhZ3MgPSB0YWdzX3N0ci5zcGxpdCh0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5zZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgIGFkZHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgYWRkcy5wdXNoKHRoaXMuX3BhcnRpYWxfYWRkX3RhZyh0YWdzW2ldKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBhZGRlZCA9IF8uY29tcGFjdChhZGRzKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBpZiAoYWRkZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV90YWdzX3N0cigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkZWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodGFnc19zdHIsIGVkaXQpIHtcblxuICAgICAgICAgICAgaWYgKHRhZ3Nfc3RyIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnc19vYmogPSBbdGFnc19zdHJdLFxuICAgICAgICAgICAgICAgICAgICB0YWdzID0gW3RhZ3Nfc3RyLmRhdGEoJ3RhZy12YWx1ZScpXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnc19vYmogPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgdGFncyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdGFnc19zdHIgPSB0YWdzX3N0ci5zcGxpdCh0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5zZXBhcmF0b3IpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzX3N0ci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFnX3N0ciA9IHRoaXMuX3Nhbml0aXplX3RhZ19zdHIodGFnc19zdHJbaV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHRhZyA9IHRoaXMuJHRhZ2JveC5maW5kKCcudGFnYm94LXRhZ1tkYXRhLXRhZy12YWx1ZT1cIicgKyB0YWdfc3RyICsgJ1wiXScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGFnLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzX29iai5wdXNoKCR0YWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKHRhZ19zdHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFnc19vYmoubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRhZ3Nfb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxfcmVtb3ZlX3RhZyh0YWdzX29ialtpXSwgdGFnc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RhZ3Nfc3RyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobCA9PT0gMSAmJiBlZGl0ID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbC52YWwodGFnc1swXSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50YWdzLmFyci5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLnN0ciA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLmFyciA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFnYm94LmZpbmQoJy50YWdib3gtdGFnJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcl9wYXJ0aWFsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5pdCgpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcudGFnYm94JykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkdGFnYm94ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkaW5wdXQgPSAkdGFnYm94LmZpbmQoJ2lucHV0JykuZXEoMCksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGluaXQ6ICRpbnB1dC52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgc3RyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXJyOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICR0YWdib3gudGFnYm94KG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRJTUUgQUdPICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnRpbWVBZ28nLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZmFsc2UsXG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycCA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aW1lc3RhbXAgPSB0aGlzLiR0aW1lQWdvX3dycC5kYXRhKHRoaXMub3B0aW9ucy50aXRsZSA/ICd0aW1lc3RhbXAtdGl0bGUnIDogJ3RpbWVzdGFtcCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xvb3AoMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF91cGRhdGVfbG9vcDogZnVuY3Rpb24gX3VwZGF0ZV9sb29wKHdhaXQpIHtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xvb3AodGhpcy51cGRhdGUoKS5uZXh0KTtcbiAgICAgICAgICAgIH0sIHdhaXQgKiAxMDAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVBZ28gPSBfLnRpbWVBZ28odGhpcy5vcHRpb25zLnRpbWVzdGFtcCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGl0bGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVBZ29fd3JwLmF0dHIoJ3RpdGxlJywgdGltZUFnby5zdHIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVBZ29fd3JwLmh0bWwodGltZUFnby5zdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCd1cGRhdGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRpbWVBZ287XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ1tkYXRhLXRpbWVzdGFtcF0nKS50aW1lQWdvKCk7XG4gICAgICAgICQoJ1tkYXRhLXRpbWVzdGFtcC10aXRsZV0nKS50aW1lQWdvKHsgdGl0bGU6IHRydWUgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogVElNRVIgLSBodHRwOi8vamNoYXZhbm5lcy5jb20vanF1ZXJ5LXRpbWVyICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUSU1FUiAqL1xuXG4gICAgJC50aW1lciA9IGZ1bmN0aW9uIChmdW5jLCB0aW1lLCBhdXRvc3RhcnQpIHtcblxuICAgICAgICByZXR1cm4gbmV3IFRpbWVyKGZ1bmMsIHRpbWUsIGF1dG9zdGFydCk7XG4gICAgfTtcblxuICAgIC8qIFRJTUVSIE9CSiAqL1xuXG4gICAgdmFyIFRpbWVyID0gZnVuY3Rpb24gVGltZXIoZnVuYywgdGltZSwgYXV0b3N0YXJ0KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGZ1bmMsIHRpbWUsIGF1dG9zdGFydCk7XG4gICAgfTtcblxuICAgIFRpbWVyLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmdW5jLCB0aW1lLCBhdXRvc3RhcnQpIHtcblxuICAgICAgICAgICAgdGhpcy5pbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gZnVuYztcblxuICAgICAgICAgICAgaWYgKCFpc05hTih0aW1lKSkgdGhpcy5pbnRlcnZhbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgICAgICBpZiAoYXV0b3N0YXJ0ICYmICF0aGlzLmlzQWN0aXZlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uY2U6IGZ1bmN0aW9uIG9uY2UodGltZSkge1xuXG4gICAgICAgICAgICB2YXIgdGltZXIgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoaXNOYU4odGltZSkpIHRpbWUgPSAwO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRpbWVyLmFjdGlvbigpO1xuICAgICAgICAgICAgfSwgdGltZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkocmVzZXQpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzZXQpIHRoaXMuc2V0VGltZXIoKTtlbHNlIHRoaXMuc2V0VGltZXIodGhpcy5yZW1haW5pbmdfdGltZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgLT0gbmV3IERhdGUoKSAtIHRoaXMubGFzdDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcblxuICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSA9IHRoaXMuaW50ZXJ2YWxUaW1lO1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKHJlc2V0KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSB0aGlzLnBhdXNlKCk7ZWxzZSBpZiAocmVzZXQpIHRoaXMucGxheSh0cnVlKTtlbHNlIHRoaXMucGxheSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheSh0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJUaW1lcjogZnVuY3Rpb24gY2xlYXJUaW1lcigpIHtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dE9iamVjdCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0VGltZXI6IGZ1bmN0aW9uIHNldFRpbWVyKHRpbWUpIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGlzTmFOKHRpbWUpKSB0aW1lID0gdGhpcy5pbnRlcnZhbFRpbWU7XG5cbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5sYXN0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRPYmplY3QgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRpbWVyLmdvKCk7XG4gICAgICAgICAgICB9LCB0aW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnbzogZnVuY3Rpb24gZ28oKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZW1haW5pbmc6IGZ1bmN0aW9uIHJlbWFpbmluZyh2YWx1ZSkge1xuXG4gICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybiB0aGlzLnJlbWFpbmluZ190aW1lO1xuXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ190aW1lID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vYnRlYWNoL2J0RWFjaC5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFVUSUxJVElFUyAqL1xuXG4gICAgdmFyIGdldF9jb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldF9jb29yZGluYXRlcygkZWxlKSB7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9ICRlbGUub2Zmc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFgxOiBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgIFgyOiBvZmZzZXQubGVmdCArICRlbGUud2lkdGgoKSxcbiAgICAgICAgICAgIFkxOiBvZmZzZXQudG9wLFxuICAgICAgICAgICAgWTI6IG9mZnNldC50b3AgKyAkZWxlLmhlaWdodCgpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBnZXRfb3ZlcmxhcHBpbmdfYXJlYSA9IGZ1bmN0aW9uIGdldF9vdmVybGFwcGluZ19hcmVhKGMxLCBjMikge1xuXG4gICAgICAgIHZhciB4X292ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjMS5YMiwgYzIuWDIpIC0gTWF0aC5tYXgoYzEuWDEsIGMyLlgxKSksXG4gICAgICAgICAgICB5X292ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjMS5ZMiwgYzIuWTIpIC0gTWF0aC5tYXgoYzEuWTEsIGMyLlkxKSk7XG5cbiAgICAgICAgcmV0dXJuIHhfb3ZlcmxhcCAqIHlfb3ZlcmxhcDtcbiAgICB9O1xuXG4gICAgLyogVE9VQ0hJTkcgKi9cblxuICAgICQuZm4udG91Y2hpbmcgPSBmdW5jdGlvbiAoY3VzdG9tX29wdGlvbnMpIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfLm1lcmdlKHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IGZhbHNlLCAvL0lORk86IFVzZWZ1bCBmb3Igc3BlZWRpbmcgdXAgdGhlIHNlYXJjaGluZyBwcm9jZXNzIGlmIHdlIG1heSBhbHJlYWR5IGd1ZXNzIHRoZSBpbml0aWFsIHBvc2l0aW9uLi4uXG4gICAgICAgICAgICBwb2ludDogZmFsc2UsIC8vSU5GTzogVXNlZCBmb3IgdGhlIHB1bmN0dWFsIHNlYXJjaFxuICAgICAgICAgICAgYmluYXJ5U2VhcmNoOiB0cnVlLCAvL0lORk86IHRvZ2dsZSB0aGUgYmluYXJ5IHNlYXJjaCB3aGVuIHBlcmZvcm1pbmcgYSBwdW5jdHVhbCBzZWFyY2hcbiAgICAgICAgICAgIC8vICB7XG4gICAgICAgICAgICAvLyAgICAgIFg6IDAsXG4gICAgICAgICAgICAvLyAgICAgIFk6IDBcbiAgICAgICAgICAgIC8vICB9LFxuICAgICAgICAgICAgJGNvbXBhcmVyOiBmYWxzZSwgLy9JTkZPOiBVc2VkIGZvciB0aGUgb3ZlcmxhcHBpbmcgc2VhcmNoXG4gICAgICAgICAgICAkbm90OiBmYWxzZSxcbiAgICAgICAgICAgIHNlbGVjdDogJ2FsbCdcbiAgICAgICAgfSwgY3VzdG9tX29wdGlvbnMpO1xuXG4gICAgICAgIC8qIFNFQVJDSEFCTEUgKi9cblxuICAgICAgICB2YXIgJHNlYXJjaGFibGUgPSBvcHRpb25zLiRub3QgPyB0aGlzLm5vdChvcHRpb25zLiRub3QpIDogdGhpcztcblxuICAgICAgICAvKiBDT01QQVJFUiAqL1xuXG4gICAgICAgIGlmIChvcHRpb25zLiRjb21wYXJlcikge1xuXG4gICAgICAgICAgICB2YXIgYzEgPSBnZXRfY29vcmRpbmF0ZXMob3B0aW9ucy4kY29tcGFyZXIpLFxuICAgICAgICAgICAgICAgIG5vZGVzID0gW10sXG4gICAgICAgICAgICAgICAgYXJlYXMgPSBbXTtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAkc2VhcmNoYWJsZS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBjMiA9IGdldF9jb29yZGluYXRlcygkKHRoaXMpKSxcbiAgICAgICAgICAgICAgICAgICAgYXJlYSA9IGdldF9vdmVybGFwcGluZ19hcmVhKGMxLCBjMik7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJlYSA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBhcmVhcy5wdXNoKGFyZWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuc2VsZWN0KSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChub2Rlcyk7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdtb3N0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobm9kZXNbYXJlYXMuaW5kZXhPZihfLm1heChhcmVhcykpXSk7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGVtcHR5O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiBQVU5DVFVBTCAqL1xuXG4gICAgICAgIGlmIChvcHRpb25zLnBvaW50KSB7XG5cbiAgICAgICAgICAgIHZhciAkdG91Y2hlZDtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYmluYXJ5U2VhcmNoKSB7XG5cbiAgICAgICAgICAgICAgICAkc2VhcmNoYWJsZS5idEVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbm9kZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gZ2V0X2Nvb3JkaW5hdGVzKCRub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wb2ludC5ZID49IGMuWTEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9pbnQuWSA8PSBjLlkyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wb2ludC5YID49IGMuWDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wb2ludC5YIDw9IGMuWDIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRvdWNoZWQgPSAkbm9kZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5zdGFydEluZGV4KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkdG91Y2hlZCB8fCAkZW1wdHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJHNlYXJjaGFibGUuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRub2RlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBnZXRfY29vcmRpbmF0ZXMoJG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnBvaW50LlkgPj0gYy5ZMSAmJiBvcHRpb25zLnBvaW50LlkgPD0gYy5ZMiAmJiBvcHRpb25zLnBvaW50LlggPj0gYy5YMSAmJiBvcHRpb25zLnBvaW50LlggPD0gYy5YMikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdG91Y2hlZCA9ICRub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkdG91Y2hlZCB8fCAkZW1wdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTsiLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTE9EQVNIIEVYVFJBICovXG5cbiAgICBfLm1peGluICh7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBVbml4IGVwb2NoXG4gICAgICAgICAqICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coXy5ub3dTZWNzKCkgLSBzdGFtcCk7XG4gICAgICAgICAqIH0sIF8ubm93U2VjcygpKTtcbiAgICAgICAgICogLy8gPT4gbG9ncyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGZ1bmN0aW9uIHRvIGJlIGludm9rZWRcbiAgICAgICAgICovXG5cbiAgICAgICAgbm93U2VjczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5mbG9vciAoIF8ubm93ICgpIC8gMTAwMCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBzdHJpbmcgZm9ybWF0IG9mIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIF8udGltZUFnbyAoIF8ubm93U2VjcyAoKSApXG4gICAgICAgICAqIC8vID0+IEp1c3Qgbm93XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRpbWVBZ286IGZ1bmN0aW9uICggdGltZXN0YW1wICkgeyAvL0lORk86IFRpbWVzdGFtcCBpcyByZXF1aXJlZCBpbiBzZWNvbmRzXG5cbiAgICAgICAgICAgIHZhciBlbGFwc2VkID0gXy5ub3dTZWNzICgpIC0gdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIGp1c3Rfbm93ID0gNTtcblxuICAgICAgICAgICAgdmFyIG5hbWVzID0gWyd5ZWFyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCddLFxuICAgICAgICAgICAgICAgIHRpbWVzID0gWzMxNTM2MDAwLCAyNTkyMDAwLCA2MDQ4MDAsIDg2NDAwLCAzNjAwLCA2MCwgMV07XG5cbiAgICAgICAgICAgIGlmICggZWxhcHNlZCA8IGp1c3Rfbm93ICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyOiAnSnVzdCBub3cnLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBqdXN0X25vdyAtIGVsYXBzZWRcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbmFtZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNzID0gdGltZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBfLmZsb29yICggZWxhcHNlZCAvIHNlY3MgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIG51bWJlciA+PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cjogbnVtYmVyICsgJyAnICsgbmFtZSArICggbnVtYmVyID4gMSA/ICdzJyA6ICcnICkgKyAnIGFnbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogc2VjcyAtICggZWxhcHNlZCAtICggbnVtYmVyICogc2VjcyApIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIGEgYm9vbGVhbiBpZiB0aGUgc3RyaW5nIGlzIGZ1enp5IG1hdGNoZWQgd2l0aCB0aGUgc2VhcmNoIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogXy5mdXp6eU1hdGNoICggJ3NvbWV0aGluZycsICdzbVRuZycgKTtcbiAgICAgICAgICogLy8gPT4gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmZ1enp5TWF0Y2ggKCAnc29tZXRoaW5nJywgJ3NtVG5nJywgZmFsc2UgKTtcbiAgICAgICAgICogLy8gPT4gZmFsc2VcbiAgICAgICAgICpcbiAgICAgICAgICogXy5mdXp6eU1hdGNoICggJ3NvbWV0aGluZycsICdzZW10aGluZycgKTtcbiAgICAgICAgICogLy8gPT4gZmFsc2VcbiAgICAgICAgICovXG5cbiAgICAgICAgZnV6enlNYXRjaDogZnVuY3Rpb24gKCBzdHIsIHNlYXJjaCwgaXNDYXNlU2Vuc2l0aXZlICkge1xuXG4gICAgICAgICAgICBpZiAoIGlzQ2FzZVNlbnNpdGl2ZSAhPT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UgKCk7XG4gICAgICAgICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvTG93ZXJDYXNlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50X2luZGV4ID0gLTEsXG4gICAgICAgICAgICAgICAgc3RyX2wgPSBzdHIubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgc2VhcmNoX2kgPSAwLCBzZWFyY2hfbCA9IHNlYXJjaC5sZW5ndGg7IHNlYXJjaF9pIDwgc2VhcmNoX2w7IHNlYXJjaF9pKysgKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgc3RyX2kgPSBjdXJyZW50X2luZGV4ICsgMTsgc3RyX2kgPCBzdHJfbDsgc3RyX2krKyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHN0cltzdHJfaV0gPT09IHNlYXJjaFtzZWFyY2hfaV0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfaW5kZXggPSBzdHJfaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cl9pID0gc3RyX2wgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggc3RyX2kgPT09IHN0cl9sICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgbnVtYmVyIGNsYW1wZWQgYmV0d2VlbiBhIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWUuXG4gICAgICAgICAqIElmIHRoZSBtYXhpbXVtIGlzbid0IHByb3ZpZGVkLCBvbmx5IGNsYW1wcyBmcm9tIHRoZSBib3R0b20uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5pbXVtIFRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsYW1wLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4aW11bSBUaGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gQSB2YWx1ZSBiZXR3ZWVuIG1pbmltdW0gYW5kIG1heGltdW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uY2xhbXAoMiwgNCwgNik7IC8vID0+IDRcbiAgICAgICAgICogXy5jbGFtcCgzLCAyLCA1KTsgLy8gPT4gM1xuICAgICAgICAgKiBfLmNsYW1wKDIsIDcsIDUpOyAvLyA9PiA1XG4gICAgICAgICAqL1xuXG4gICAgICAgIGNsYW1wOiBmdW5jdGlvbiAoIG1pbmltdW0sIHZhbHVlLCBtYXhpbXVtICkge1xuXG4gICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggbWluaW11bSApICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA8IG1pbmltdW0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtaW5pbXVtO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggIV8uaXNVbmRlZmluZWQgKCBtYXhpbXVtICkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID4gbWF4aW11bSApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1heGltdW07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBlcmZvcm1zIGEgYmluYXJ5IGVhY2ggb2YgdGhlIGFycmF5XG4gICAgICAgICAqL1xuXG4gICAgICAgIGJ0RWFjaDogZnVuY3Rpb24gKCBhcnIsIGNhbGxiYWNrLCBzdGFydEluZGV4ICkge1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSAwLFxuICAgICAgICAgICAgICAgIGVuZCA9IGFyci5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIGNlbnRlciA9IF8uaXNOdW1iZXIgKCBzdGFydEluZGV4ICkgPyBzdGFydEluZGV4IDogXy5jZWlsICggKCBzdGFydCArIGVuZCApIC8gMiApLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjtcblxuICAgICAgICAgICAgd2hpbGUgKCBzdGFydCA8PSBlbmQgKSB7XG5cbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBjYWxsYmFjay5jYWxsICggYXJyW2NlbnRlcl0sIGNlbnRlciwgYXJyW2NlbnRlcl0gKTtcblxuICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBjZW50ZXIgLSAxO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggZGlyZWN0aW9uID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGNlbnRlciArIDE7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXI7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBfLmNlaWwgKCAoIHN0YXJ0ICsgZW5kICkgLyAyICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZVxuICAgICAgICAgKi9cblxuICAgICAgICB0cnVlOiBfLmNvbnN0YW50ICggdHJ1ZSApLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZhbHNlOiBfLmNvbnN0YW50ICggZmFsc2UgKVxuXG4gICAgfSk7XG5cbn0oIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL0lORk86IHg6IG5vdGhpbmcsIGl0J3MgaGVyZSBqdXN0IGZvciBjb21wYXRpYmlsaXR5LFxuLy8gICAgICB0OiBjdXJyZW50IHRpbWUsXG4vLyAgICAgIGI6IHN0YXJ0IHZhbHVlLFxuLy8gICAgICBjOiBlbmQgdmFsdWUsXG4vLyAgICAgIGQ6IGR1cmF0aW9uXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBFQVNJTkcgKi9cblxuICAgICQuZWFzaW5nID0ge1xuICAgICAgICBkZWY6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIHN3aW5nOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gJC5lYXNpbmdbJC5lYXNpbmcuZGVmXSggeCwgdCwgYiwgYywgZCApO1xuICAgICAgICB9LFxuICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiAoIGMgLSBiICkgLyBkICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCB0IC89IGQgKSAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogKCB0IC89IGQgKSAqICggdCAtIDIgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIGlmICggKCB0IC89IGQgLyAyICkgPCAxICkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICggKCAtLXQgKSAqICggdCAtIDIgKSAtIDEgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICggdCAvPSBkICkgKiB0ICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoICggdCA9IHQgLyBkIC0gMSApICogdCAqIHQgKyAxICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgaWYgKCAoIHQgLz0gZCAvIDIgKSA8IDEgKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCAoIHQgLT0gMiApICogdCAqIHQgKyAyICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoIHQgLz0gZCApICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgKiAoICggdCA9IHQgLyBkIC0gMSApICogdCAqIHQgKiB0IC0gMSApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIGlmICggKCB0IC89IGQgLyAyICkgPCAxICkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCAoIHQgLT0gMiApICogdCAqIHQgKiB0IC0gMiApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCB0IC89IGQgKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCAoIHQgPSB0IC8gZCAtIDEgKSAqIHQgKiB0ICogdCAqIHQgKyAxICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgaWYgKCAoIHQgLz0gZCAvIDIgKSA8IDEgKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoICggdCAtPSAyICkgKiB0ICogdCAqIHQgKiB0ICsgMiApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluU2luZTogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3MgKCB0IC8gZCAqICggTWF0aC5QSSAvIDIgKSApICsgYyArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luICggdCAvIGQgKiAoIE1hdGguUEkgLyAyICkgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoIE1hdGguY29zICggTWF0aC5QSSAqIHQgLyBkICkgLSAxICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gKCB0ID09IDAgKSA/IGIgOiBjICogTWF0aC5wb3cgKCAyLCAxMCAqICggdCAvIGQgLSAxICkgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gKCB0ID09IGQgKSA/IGIgKyBjIDogYyAqICggLU1hdGgucG93ICggMiwgLTEwICogdCAvIGQgKSArIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0RXhwbzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgaWYgKCB0ID09IDApIHJldHVybiBiO1xuICAgICAgICAgICAgaWYgKCB0ID09IGQpIHJldHVybiBiICsgYztcbiAgICAgICAgICAgIGlmICggKCB0IC89IGQgLyAyICkgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdyAoIDIsIDEwICogKCB0IC0gMSApICkgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCAtTWF0aC5wb3cgKCAyLCAtMTAgKiAtLXQgKSArIDIgKSArIGI7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2Vhc2luZy9lYXNpbmcuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogSlFVRVJZIEVYVFJBICovXG5cbiAgICAkLnJlZmxvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvL0lORk86IFJlcXVlc3RpbmcgdGhlIGBvZmZzZXRIZWlnaHRgIHByb3BlcnR5IHRyaWdnZXJzIGEgcmVmbG93LiBOZWNlc3NhcnksIHNvIHRoYXQgdGhlIGRlZmVycmVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgaW4gYW5vdGhlciBjeWNsZVxuXG4gICAgfTtcblxuICAgICQuZXZlbnRYWSA9IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgaWYgKCBldmVudC5pc1BvaW50ZXJFdmVudCApIHsgLy9JTkZPOiBIYXMgYmVlbiBjcmVhdGVkIHVzaW5nIHRoZSBgUG9pbnRlcmAgYWJzdHJhY3Rpb25cblxuICAgICAgICAgICAgZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoICQuYnJvd3Nlci5oYXNUb3VjaCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgKSB7XG5cbiAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBYOiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgIFk6IGV2ZW50LnBhZ2VZXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgLyogQ09NTU9OIE9CSkVDVFMgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHdpbmRvdy4kd2luZG93ID0gJCh3aW5kb3cpO1xuICAgICAgICB3aW5kb3cuJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG4gICAgICAgIHdpbmRvdy4kaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgd2luZG93LiRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgd2luZG93LiRlbXB0eSA9ICQoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBUTVBMIC0gaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1UZW1wbGF0ZXMgKi9cblxuLypcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICAgICAgRG9jdW1lbnRhdGlvbiAgICAgICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBJbnRlcnBvbGF0aW9uXG4gKlxuICogLSBCYXNpY1xuICogPGgzPnslPW8udGl0bGUlfTwvaDM+XG4gKlxuICogLSBVbmVzY2FwZWRcbiAqIDxoMz57JSNvLnVzZXJfaWQlfTwvaDM+XG4gKlxuICogLSBSZXN1bHQgb2YgZnVuY3Rpb24gY2FsbFxuICogPGEgaHJlZj1cInslPWVuY29kZVVSSShvLnVybCklfVwiPldlYnNpdGU8L2E+XG4gKlxuICogLSBOZXN0ZWQgcHJvcGVydGllc1xuICogPHN0cm9uZz57JT1vLmF1dGhvci5uYW1lJX08L3N0cm9uZz5cbiAqXG4gKiBFdmFsdWF0aW9uXG4gKlxuICogLSBQcmludFxuICogPHNwYW4+WWVhcjogeyUgdmFyIGQ9bmV3IERhdGUoKTsgcHJpbnQoZC5nZXRGdWxsWWVhcigpKTsgJX08L3NwYW4+XG4gKlxuICogLSBQcmludCB1bmVzY2FwZWRcbiAqIDxzcGFuPnslIHByaW50KFwiRmFzdCAmYW1wOyBwb3dlcmZ1bFwiLCB0cnVlKTsgJX08L3NwYW4+XG4gKlxuICogLSBJbmNsdWRlIGFub3RoZXIgdGVtcGxhdGVcbiAqIDxkaXY+XG4gKiAgICAgeyUgaW5jbHVkZSgndG1wbC1saW5rJywge25hbWU6IFwiV2Vic2l0ZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLm9yZ1wifSk7ICV9XG4gKiA8L2Rpdj5cbiAqXG4gKiAtIElmIGVsc2UgY29uZGl0aW9uXG4gKiB7JSBpZiAoby5hdXRob3IudXJsKSB7ICV9XG4gKiAgICAgPGEgaHJlZj1cInslPWVuY29kZVVSSShvLmF1dGhvci51cmwpJX1cIj57JT1vLmF1dGhvci5uYW1lJX08L2E+XG4gKiB7JSB9IGVsc2UgeyAlfVxuICogICAgIDxlbT5ObyBhdXRob3IgdXJsLjwvZW0+XG4gKiB7JSB9ICV9XG4gKlxuICogLSBGb3IgbG9vcFxuICogPHVsPlxuICogICAgIHslIGZvciAodmFyIGk9MDsgaTxvLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7ICV9XG4gKiAgICAgICAgIDxsaT57JT1vLmZlYXR1cmVzW2ldJX08L2xpPlxuICogICAgIHslIH0gJX1cbiAqIDwvdWw+XG4gKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUTVBMICovXG5cbiAgICB2YXIgdG1wbCA9IGZ1bmN0aW9uICggc3RyLCBkYXRhICkge1xuXG4gICAgICAgIHZhciBmID0gIS9bXlxcd1xcLVxcLjpdLy50ZXN0ICggc3RyIClcbiAgICAgICAgICAgICAgICAgICAgPyB0bXBsLmNhY2hlW3N0cl0gPSB0bXBsLmNhY2hlW3N0cl0gfHwgdG1wbCAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICggc3RyICkuaW5uZXJIVE1MIClcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgRnVuY3Rpb24gKCB0bXBsLmFyZyArICcsdG1wbCcsIFwidmFyIF9lPV8uZXNjYXBlXCIgKyB0bXBsLmhlbHBlciArIFwiLF9zPSdcIiArIHN0ci5yZXBsYWNlICggdG1wbC5yZWdleHAsIHRtcGwuZnVuYyApICsgXCInO3JldHVybiBfcztcIiApO1xuXG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICAgICAgICAgICAgICAgPyBmICggZGF0YSwgdG1wbCApXG4gICAgICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAoIGRhdGEgKSB7IHJldHVybiBmICggZGF0YSwgdG1wbCApOyB9O1xuXG4gICAgfTtcblxuICAgIHRtcGwuY2FjaGUgPSB7fTtcblxuICAgIHRtcGwucmVnZXhwID0gLyhbXFxzJ1xcXFxdKSg/ISg/Oltee118XFx7KD8hJSkpKiVcXH0pfCg/OlxceyUoPXwjKShbXFxzXFxTXSs/KSVcXH0pfChcXHslKXwoJVxcfSkvZztcblxuICAgIHRtcGwuZnVuYyA9IGZ1bmN0aW9uICggcywgcDEsIHAyLCBwMywgcDQsIHA1ICkge1xuXG4gICAgICAgIGlmICggcDEgKSB7IC8vIHdoaXRlc3BhY2UsIHF1b3RlIGFuZCBiYWNrc3BhY2UgaW4gSFRNTCBjb250ZXh0XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ1xcbic6ICdcXFxcbicsXG4gICAgICAgICAgICAgICAgJ1xccic6ICdcXFxccicsXG4gICAgICAgICAgICAgICAgJ1xcdCc6ICdcXFxcdCcsXG4gICAgICAgICAgICAgICAgJyAnIDogJyAnXG4gICAgICAgICAgICB9W3AxXSB8fCAnXFxcXCcgKyBwMTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBwMiApIHsgLy8gaW50ZXJwb2xhdGlvbjogeyU9cHJvcCV9LCBvciB1bmVzY2FwZWQ6IHslI3Byb3AlfVxuXG4gICAgICAgICAgICBpZiAoIHAyID09PSAnPScgKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gXCInK19lKFwiICsgcDMgKyBcIikrJ1wiO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcIicrKFwiICsgcDMgKyBcIj09bnVsbD8nJzpcIiArIHAzICsgXCIpKydcIjtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBwNCApIHsgLy8gZXZhbHVhdGlvbiBzdGFydCB0YWc6IHslXG5cbiAgICAgICAgICAgIHJldHVybiBcIic7XCI7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggcDUgKSB7IC8vIGV2YWx1YXRpb24gZW5kIHRhZzogJX1cblxuICAgICAgICAgICAgcmV0dXJuIFwiX3MrPSdcIjtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdG1wbC5hcmcgPSAnbyc7XG5cbiAgICB0bXBsLmhlbHBlciA9IFwiLHByaW50PWZ1bmN0aW9uKHMsZSl7X3MrPWU/KHM9PW51bGw/Jyc6cyk6X2Uocyk7fSxpbmNsdWRlPWZ1bmN0aW9uKHMsZCl7X3MrPXRtcGwocyxkKTt9XCI7XG5cbiAgICAvKiBIRUxQRVIgKi9cblxuICAgICQudG1wbCA9IHRtcGw7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogZGV0ZWN0IGJyb3dzZXJzLCB2ZXJzaW9ucywgT1NlcywgYnV0Li4uIGlzIGl0IHVzZWZ1bD9cbi8vVE9ETzogZGV0ZWN0OiB3aW5kb3dzIHBob25lLCBzbWFydHBob25lLCB3aW5kb3dzLCBsaW51eCwgc2FmYXJpLCBvcGVyYSwgZmlyZWZveCwgbG93ZW5kXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlICgpO1xuXG4gICAgLyogQlJPV1NFUiAqL1xuXG4gICAgJC5icm93c2VyID0ge1xuICAgICAgICBpc01vYmlsZTogL2lwaG9uZXxpcGFkfGFuZHJvaWR8aXBvZHxvcGVyYSBtaW5pfG9wZXJhIG1vYmlsZXxibGFja2JlcnJ5fGllbW9iaWxlfHdlYm9zfHdpbmRvd3MgcGhvbmV8cGxheWJvb2t8dGFibGV0fGtpbmRsZS9pLnRlc3QgKCB1c2VyQWdlbnQgKSxcbiAgICAgICAgaXNUYWJsZXQ6IC9pcGFkfHBsYXlib29rfHRhYmxldHxraW5kbGUvaS50ZXN0ICggdXNlckFnZW50ICksXG4gICAgICAgIGlzQW5kcm9pZDogL2FuZHJvaWQvaS50ZXN0ICggdXNlckFnZW50ICksXG4gICAgICAgIGlzSU9TOiAvKGlwaG9uZXxpcGFkfGlwb2QpL2kudGVzdCAoIHVzZXJBZ2VudCApLFxuICAgICAgICBpc01hYzogL21hYy9pLnRlc3QgKCB1c2VyQWdlbnQgKSxcbiAgICAgICAgaXNJRTogL21zaWUgW1xcdy5dKy8udGVzdCAoIHVzZXJBZ2VudCApLFxuICAgICAgICBpc0Nocm9tZTogL2Nocm9tZS9pLnRlc3QgKCB1c2VyQWdlbnQgKVxuICAgIH07XG5cbiAgICAkLmJyb3dzZXIuaGFzVG91Y2ggPSAoICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyAmJiAhKCQuYnJvd3Nlci5pc0Nocm9tZSAmJiAhJC5icm93c2VyLmlzQW5kcm9pZCkgKTsgLy9GSVhNRTogV2h5IGRvIHdlIG5lZWQgdGhlIHNlY29uZCBjaGVjaz8gRG8gb3RoZXIgbGlicmFyaWVzIGRvIHRoZSBzYW1lP1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIGpRdWVyeS1leHRyYS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9GSVhNRTogUmlnaHQgbm93IGhvdyBjYW4gd2UgYmluZCBhbiBldmVudCBoYW5kbGVyIG9uIGp1c3QgdGFwPyAod2hlbiBkb3VibGV0YXAgZG9lc24ndCBoYXBwZW4gbGF0ZXIpXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQT0lOVEVSICovXG5cbiAgICAkLlBvaW50ZXIgPSB7XG4gICAgICAgIHByZXNzRHVyYXRpb246IDMwMCxcbiAgICAgICAgZG91YmxlVGFwSW50ZXJ2YWw6IDMwMCxcbiAgICAgICAgZmxpY2tEdXJhdGlvbjogMTUwLFxuICAgICAgICBtb3Rpb25UaHJlc2hvbGQ6IDVcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50c19uYW1lcyA9IFsndGFwJywgJ2RibHRhcCcsICdwcmVzcycsICdkcmFnc3RhcnQnLCAnZHJhZ21vdmUnLCAnZHJhZ2VuZCcsICdmbGljayddLFxuICAgICAgICBldmVudHNfbmFtZXNwYWNlID0gJ3BvaW50ZXInO1xuXG4gICAgXy5lYWNoICggZXZlbnRzX25hbWVzLCBmdW5jdGlvbiAoIGV2ZW50X25hbWUgKSB7XG5cbiAgICAgICAgdmFyIGZ1bGxfZXZlbnQgPSBldmVudHNfbmFtZXNwYWNlICsgZXZlbnRfbmFtZTtcblxuICAgICAgICAkLlBvaW50ZXJbZXZlbnRfbmFtZV0gPSBmdWxsX2V2ZW50O1xuXG4gICAgICAgICQuZm5bZXZlbnRfbmFtZV0gPSBmdW5jdGlvbiAoIGZuICkge1xuXG4gICAgICAgICAgICByZXR1cm4gZm4gPyB0aGlzLm9uICggZnVsbF9ldmVudCwgZm4gKSA6IHRoaXMudHJpZ2dlciAoIGZ1bGxfZXZlbnQgKTtcblxuICAgICAgICB9O1xuXG4gICAgfSk7XG5cbiAgICAvKiBUUklHR0VSUyAqL1xuXG4gICAgdmFyIHN0YXJ0RXZlbnRzID0gJC5icm93c2VyLmhhc1RvdWNoID8gJ3RvdWNoc3RhcnQnIDogJ21vdXNlZG93bicsXG4gICAgICAgIG1vdmVFdmVudHMgPSAkLmJyb3dzZXIuaGFzVG91Y2ggPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLFxuICAgICAgICBlbmRFdmVudHMgPSAkLmJyb3dzZXIuaGFzVG91Y2ggPyAndG91Y2hlbmQgdG91Y2hjYW5jZWwnIDogJ21vdXNldXAgbW91c2VsZWF2ZScsXG4gICAgICAgICRodG1sID0gJChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLFxuICAgICAgICBzdGFydFhZLFxuICAgICAgICBtb3ZlWFksXG4gICAgICAgIGRlbHRhWFksXG4gICAgICAgIGVuZFhZLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgICR0YXJnZXQsXG4gICAgICAgIHN0YXJ0X3RpbWVzdGFtcCxcbiAgICAgICAgZW5kX3RpbWVzdGFtcCxcbiAgICAgICAgcHJldl90YXBfdGltZXN0YW1wID0gMCxcbiAgICAgICAgbW90aW9uLFxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICBwcmVzc190aW1lb3V0O1xuXG4gICAgdmFyIGNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24gKCBuYW1lLCBvcmlnaW5hbEV2ZW50ICkge1xuXG4gICAgICAgIHZhciBldmVudCA9ICQuRXZlbnQgKCBuYW1lICk7XG5cbiAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIGV2ZW50LmlzUG9pbnRlckV2ZW50ID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG5cbiAgICB9O1xuXG4gICAgdmFyIHN0YXJ0SGFuZGxlciA9IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgc3RhcnRYWSA9ICQuZXZlbnRYWSAoIGV2ZW50ICk7XG5cbiAgICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAkdGFyZ2V0ID0gJCh0YXJnZXQpO1xuXG4gICAgICAgIHN0YXJ0X3RpbWVzdGFtcCA9IGV2ZW50LnRpbWVTdGFtcCB8fCBfLm5vdyAoKTtcblxuICAgICAgICBtb3Rpb24gPSBmYWxzZTtcblxuICAgICAgICBwcmVzc190aW1lb3V0ID0gc2V0VGltZW91dCAoIF8ud3JhcCAoIGV2ZW50LCBwcmVzc0hhbmRsZXIgKSwgJC5Qb2ludGVyLnByZXNzRHVyYXRpb24gKTtcblxuICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5kcmFnc3RhcnQsIGV2ZW50ICksIHtcbiAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGh0bWwub24gKCBtb3ZlRXZlbnRzLCBtb3ZlSGFuZGxlciApO1xuICAgICAgICAkaHRtbC5vbiAoIGVuZEV2ZW50cywgZW5kSGFuZGxlciApO1xuXG4gICAgfTtcblxuICAgIHZhciBwcmVzc0hhbmRsZXIgPSBmdW5jdGlvbiAoIGV2ZW50ICkgeyAvL0ZJWE1FOiBpdCBkb2Vzbid0IGdldCBjYWxsZWQgaWYgd2UgZG8gZXZlbnQucHJldmVudERlZmF1bHQgKCkgd2l0aCBkcmFnc3RhcnRcblxuICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5wcmVzcywgZXZlbnQgKSApO1xuXG4gICAgfTtcblxuICAgIHZhciBtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0ICggcHJlc3NfdGltZW91dCApO1xuXG4gICAgICAgIG1vdmVYWSA9ICQuZXZlbnRYWSAoIGV2ZW50ICk7XG5cbiAgICAgICAgZGVsdGFYWSA9IHtcbiAgICAgICAgICAgIFg6IG1vdmVYWS5YIC0gc3RhcnRYWS5YLFxuICAgICAgICAgICAgWTogbW92ZVhZLlkgLSBzdGFydFhZLllcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIE1hdGguYWJzICggZGVsdGFYWS5YICkgPiAkLlBvaW50ZXIubW90aW9uVGhyZXNob2xkIHx8IE1hdGguYWJzICggZGVsdGFYWS5ZICkgPiAkLlBvaW50ZXIubW90aW9uVGhyZXNob2xkICkge1xuXG4gICAgICAgICAgICBtb3Rpb24gPSB0cnVlO1xuXG4gICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5kcmFnbW92ZSwgZXZlbnQgKSwge1xuICAgICAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICAgICAgbW92ZVhZOiBtb3ZlWFksXG4gICAgICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHZhciBlbmRIYW5kbGVyID0gZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICBjbGVhclRpbWVvdXQgKCBwcmVzc190aW1lb3V0ICk7XG5cbiAgICAgICAgZW5kWFkgPSAkLmV2ZW50WFkgKCBldmVudCApO1xuICAgICAgICBkZWx0YVhZID0ge1xuICAgICAgICAgICAgWDogZW5kWFkuWCAtIHN0YXJ0WFkuWCxcbiAgICAgICAgICAgIFk6IGVuZFhZLlkgLSBzdGFydFhZLllcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIHRhcmdldCA9PT0gZXZlbnQudGFyZ2V0ICkge1xuXG4gICAgICAgICAgICBlbmRfdGltZXN0YW1wID0gZXZlbnQudGltZVN0YW1wIHx8IF8ubm93ICgpO1xuXG4gICAgICAgICAgICBpZiAoICEkLmJyb3dzZXIuaGFzVG91Y2ggfHwgIW1vdGlvbiApIHtcblxuICAgICAgICAgICAgICAgICR0YXJnZXQudHJpZ2dlciAoIGNyZWF0ZUV2ZW50ICggJC5Qb2ludGVyLnRhcCwgZXZlbnQgKSApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBlbmRfdGltZXN0YW1wIC0gcHJldl90YXBfdGltZXN0YW1wIDw9ICQuUG9pbnRlci5kb3VibGVUYXBJbnRlcnZhbCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5kYmx0YXAsIGV2ZW50ICkgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZXZfdGFwX3RpbWVzdGFtcCA9IGVuZF90aW1lc3RhbXA7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBtb3Rpb24gJiYgKCBlbmRfdGltZXN0YW1wIC0gc3RhcnRfdGltZXN0YW1wIDw9ICQuUG9pbnRlci5mbGlja0R1cmF0aW9uICkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIE1hdGguYWJzICggZGVsdGFYWS5YICkgPiBNYXRoLmFicyAoIGRlbHRhWFkuWSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoIGRlbHRhWFkuWCA+IDAgKSA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoIGRlbHRhWFkuWSA+IDAgKSA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR0YXJnZXQudHJpZ2dlciAoIGNyZWF0ZUV2ZW50ICggJC5Qb2ludGVyLmZsaWNrLCBldmVudCApLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICAgICAgICAgIGVuZFhZOiBlbmRYWSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgICRodG1sLm9mZiAoIG1vdmVFdmVudHMsIG1vdmVIYW5kbGVyICk7XG4gICAgICAgICRodG1sLm9mZiAoIGVuZEV2ZW50cywgZW5kSGFuZGxlciApO1xuXG4gICAgICAgICR0YXJnZXQudHJpZ2dlciAoIGNyZWF0ZUV2ZW50ICggJC5Qb2ludGVyLmRyYWdlbmQsIGV2ZW50ICksIHtcbiAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICBlbmRYWTogZW5kWFksXG4gICAgICAgICAgICBkZWx0YVhZOiBkZWx0YVhZXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRodG1sLm9uICggc3RhcnRFdmVudHMsIHN0YXJ0SGFuZGxlciApO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIF90cmlnZ2VyIC0+IHByZXZlbnREZWZhdWx0XG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBCQVNFIFdJREdFVCAqL1xuXG4gICAgJC5XaWRnZXQgPSBmdW5jdGlvbiAoIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcblxuICAgICQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4gICAgJC5XaWRnZXQucHJvdG90eXBlID0ge1xuXG4gICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgIHdpZGdldE9yaWdpbmFsTmFtZTogJ3dpZGdldCcsXG4gICAgICAgIHdpZGdldE5hbWU6ICd3aWRnZXQnLFxuICAgICAgICB3aWRnZXRGdWxsTmFtZTogJ3dpZGdldCcsXG5cbiAgICAgICAgZGVmYXVsdEVsZW1lbnQ6IGZhbHNlLFxuICAgICAgICB0ZW1wbGF0ZXM6IHt9LCAvL0lORk86IFRoZSBgYmFzZWAgdGVtcGxhdGUgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb25zdHJ1Y3RvclxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHt9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogV0lER0VUIEZVTkNUSU9OUyAqL1xuXG4gICAgICAgIF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uICggb3B0aW9ucywgZWxlbWVudCApIHtcblxuICAgICAgICAgICAgLy8gVkFSSUFCTEVTXG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25UeXBlID0gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZWxlbWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5kZWZhdWx0RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2h0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRlbXBsYXRlcy5iYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RlbXBsYXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdub25lJztcblxuICAgICAgICAgICAgLyogRVhURU5EIE9QVElPTlMgKi9cblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gXy5tZXJnZSAoIHt9LCB0aGlzLm9wdGlvbnMsIHRoaXMuX2dldENyZWF0ZU9wdGlvbnMgKCksIG9wdGlvbnMgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmluaXRpYWxpemF0aW9uVHlwZSA9PT0gJ2VsZW1lbnQnICkge1xuXG4gICAgICAgICAgICAgICAgXy5tZXJnZSAoIHRoaXMub3B0aW9ucywgJChlbGVtZW50KS5kYXRhICggdGhpcy53aWRnZXROYW1lICkgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJTklUIEVMRU1FTlRcblxuICAgICAgICAgICAgZWxlbWVudCA9ICQoIGVsZW1lbnQgfHwgdGhpcy5kZWZhdWx0RWxlbWVudCB8fCAoIHRoaXMudGVtcGxhdGVzLmJhc2UgPyB0aGlzLl90bXBsICggJ2Jhc2UnLCB0aGlzLm9wdGlvbnMgKSA6IGZhbHNlICkgfHwgdGhpcyApLmdldCAoIDAgKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLmd1aWQgPSBfLnVuaXF1ZUlkICgpO1xuXG4gICAgICAgICAgICAvLyBESVNBQkxFRFxuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSAoIG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNhYmxlZCApID8gb3B0aW9ucy5kaXNhYmxlZCA6IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MgKCB0aGlzLndpZGdldE5hbWUgKyAnLWRpc2FibGVkJyApO1xuXG4gICAgICAgICAgICAvLyBTQVZJTkcgSU5TVEFOQ0VcblxuICAgICAgICAgICAgJC5kYXRhICggdGhpcy5lbGVtZW50LCB0aGlzLndpZGdldEZ1bGxOYW1lLCB0aGlzICk7XG5cbiAgICAgICAgICAgIC8vIE9OICRFTEVNRU5UIFJFTU9WRSAtPiBXSURHRVQgREVTVFJPWVxuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsIHRoaXMuJGVsZW1lbnQsICdyZW1vdmUnLCBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBDQUxMQkFDS1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlICgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2NyZWF0ZScsIHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSAoKSApO1xuXG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZXMgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXQgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRDcmVhdGVPcHRpb25zOiBfLm5vb3AsXG4gICAgICAgIF9nZXRDcmVhdGVFdmVudERhdGE6IF8ubm9vcCxcbiAgICAgICAgX2NyZWF0ZTogXy5ub29wLFxuICAgICAgICBfdmFyaWFibGVzOiBfLm5vb3AsXG4gICAgICAgIF9pbml0OiBfLm5vb3AsXG4gICAgICAgIF9ldmVudHM6IF8ubm9vcCxcblxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3kgKCk7XG5cbiAgICAgICAgICAgICQucmVtb3ZlRGF0YSAoIHRoaXMuZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2Rlc3Ryb3k6IF8ubm9vcCxcblxuICAgICAgICB3aWRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TIEZVTkNUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbjogZnVuY3Rpb24gKCBrZXksIHZhbHVlICkge1xuXG4gICAgICAgICAgICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAgKCB0aGlzLm9wdGlvbnMgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGtleSxcbiAgICAgICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgICAgICBjdXJPcHRpb24sXG4gICAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgICAgaWYgKCB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgcGFydHMgPSBrZXkuc3BsaXQgKCAnLicgKTtcbiAgICAgICAgICAgICAgICBrZXkgPSBwYXJ0cy5zaGlmdCAoKTtcblxuICAgICAgICAgICAgICAgIGlmICggcGFydHMubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ck9wdGlvbiA9IG9wdGlvbnNba2V5XSA9IF8uZXh0ZW5kICgge30sIHRoaXMub3B0aW9uc1trZXldICk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9wdGlvbltwYXJ0c1tpXV0gPSBjdXJPcHRpb25bcGFydHNbaV1dIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyT3B0aW9uID0gY3VyT3B0aW9uW3BhcnRzW2ldXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcGFydHMucG9wICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1ck9wdGlvbltrZXldID09PSB1bmRlZmluZWQgPyBudWxsIDogY3VyT3B0aW9uW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGN1ck9wdGlvbltrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldE9wdGlvbnMgKCBvcHRpb25zICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldE9wdGlvbnM6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblxuICAgICAgICAgICAgZm9yICggdmFyIGtleSBpbiBvcHRpb25zICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0T3B0aW9uICgga2V5LCBvcHRpb25zW2tleV0gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRPcHRpb246IGZ1bmN0aW9uICgga2V5LCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCBrZXkgPT09ICdkaXNhYmxlZCcgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzICggdGhpcy53aWRnZXROYW1lICsgJy1kaXNhYmxlZCcsICEhdmFsdWUgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEVOQUJMSU5HIC8gRElTQUJMSU5HICovXG5cbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRPcHRpb25zICh7IGRpc2FibGVkOiBmYWxzZSB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NldE9wdGlvbnMgKHsgZGlzYWJsZWQ6IHRydWUgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBFVkVOVFMgKi9cblxuICAgICAgICBfb246IGZ1bmN0aW9uICggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCAkZWxlbWVudCwgZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlciApIHtcblxuICAgICAgICAgICAgLy9UT0RPOiBBZGQgc3VwcG9ydCBmb3IgY3VzdG9tIGRhdGFcblxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCB0eXBlb2Ygc3VwcHJlc3NEaXNhYmxlZENoZWNrICE9PSAnYm9vbGVhbicgKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSBzdXBwcmVzc0Rpc2FibGVkQ2hlY2s7XG4gICAgICAgICAgICAgICAgc3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCAhKCAkZWxlbWVudCBpbnN0YW5jZW9mICQgKSApIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGV2ZW50cztcbiAgICAgICAgICAgICAgICBldmVudHMgPSAkZWxlbWVudDtcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBzZWxlY3RvciAmJiAhaGFuZGxlciApIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXIgPSBfLmlzU3RyaW5nICggaGFuZGxlciApID8gdGhpc1toYW5kbGVyXSA6IGhhbmRsZXI7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXJQcm94eSAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoICFzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgJiYgKCBpbnN0YW5jZS5vcHRpb25zLmRpc2FibGVkIHx8IGluc3RhbmNlLiRlbGVtZW50Lmhhc0NsYXNzICggaW5zdGFuY2Uud2lkZ2V0TmFtZSArICctZGlzYWJsZWQnICkgKSApIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gXy5zbGljZSAoIGFyZ3VtZW50cyApO1xuXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoICggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuYXBwbHkgKCBpbnN0YW5jZSwgYXJncyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXJQcm94eS5ndWlkID0gaGFuZGxlci5ndWlkID0gKCBoYW5kbGVyLmd1aWQgfHwgaGFuZGxlclByb3h5Lmd1aWQgfHwgJC5ndWlkKysgKTtcblxuICAgICAgICAgICAgaWYgKCBzZWxlY3RvciApIHtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50Lm9uICggZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlclByb3h5ICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbiAoIGV2ZW50cywgaGFuZGxlclByb3h5ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9vZmY6IGZ1bmN0aW9uICggJGVsZW1lbnQsIGV2ZW50cywgaGFuZGxlciApIHtcblxuICAgICAgICAgICAgaWYgKCAhaGFuZGxlciApIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXIgPSBfLmlzU3RyaW5nICggaGFuZGxlciApID8gdGhpc1toYW5kbGVyXSA6IGhhbmRsZXI7XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9mZiAoIGV2ZW50cywgaGFuZGxlciApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3RyaWdnZXI6IGZ1bmN0aW9uICggZXZlbnRzLCBkYXRhICkge1xuXG4gICAgICAgICAgICBkYXRhID0gZGF0YSB8fCB7fTtcblxuICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNwbGl0ICggJyAnICk7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBlaSA9IDAsIGVsID0gZXZlbnRzLmxlbmd0aDsgZWkgPCBlbDsgZWkrKyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciAoIHRoaXMud2lkZ2V0TmFtZSArICc6JyArIGV2ZW50c1tlaV0sIGRhdGEgKTtcblxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5jYWxsYmFja3NbZXZlbnRzW2VpXV0gPT09ICdmdW5jdGlvbicgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrc1tldmVudHNbZWldXS5jYWxsICggdGhpcy5lbGVtZW50LCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIERFTEFZSU5HICovXG5cbiAgICAgICAgX2RlbGF5OiBmdW5jdGlvbiAoIGhhbmRsZXIsIGRlbGF5ICkge1xuXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkgKCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XG5cbiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFRFTVBMQVRFICovXG5cbiAgICAgICAgX3RtcGw6IGZ1bmN0aW9uICggbmFtZSwgb3B0aW9ucyApIHtcblxuICAgICAgICAgICAgcmV0dXJuICQudG1wbCAoIHRoaXMud2lkZ2V0T3JpZ2luYWxOYW1lICsgJy4nICsgbmFtZSwgb3B0aW9ucyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogTUFOSVBVTEFUSU9OICovXG5cbiAgICAgICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoIHNlbGVjdG9yICkge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50Lmluc2VydEJlZm9yZSAoIHNlbGVjdG9yICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uICggc2VsZWN0b3IgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuaW5zZXJ0QWZ0ZXIgKCBzZWxlY3RvciApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIHByZXBlbmRUbzogZnVuY3Rpb24gKCBzZWxlY3RvciApIHtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5wcmVwZW5kVG8gKCBzZWxlY3RvciApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIGFwcGVuZFRvOiBmdW5jdGlvbiAoIHNlbGVjdG9yICkge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFwcGVuZFRvICggc2VsZWN0b3IgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyBiYXNlX3dpZGdldC5qc1xuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBXSURHRVQgRkFDVE9SWSAqL1xuXG4gICAgJC53aWRnZXQgPSBmdW5jdGlvbiAoIG9yaWdpbmFsTmFtZSwgYmFzZSwgcHJvdG90eXBlICkge1xuXG4gICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgIHZhciBmdWxsTmFtZSxcbiAgICAgICAgICAgIGV4aXN0aW5nQ29uc3RydWN0b3IsXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGJhc2VQcm90b3R5cGUsXG4gICAgICAgICAgICBwcm94aWVkUHJvdG90eXBlID0ge30sXG4gICAgICAgICAgICBuYW1lUGFydHMgPSBvcmlnaW5hbE5hbWUuc3BsaXQgKCAnLicgKSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IG5hbWVQYXJ0cy5sZW5ndGggPiAxID8gbmFtZVBhcnRzWzBdIDogZmFsc2UsXG4gICAgICAgICAgICBuYW1lID0gbmFtZVBhcnRzLmxlbmd0aCA+IDEgPyBuYW1lUGFydHNbMV0gOiBuYW1lUGFydHNbMF07XG5cbiAgICAgICAgZnVsbE5hbWUgPSBuYW1lc3BhY2UgPyBuYW1lc3BhY2UgKyAnLScgKyBuYW1lIDogbmFtZTtcblxuICAgICAgICAvKiBOTyBCQVNFICovXG5cbiAgICAgICAgaWYgKCAhcHJvdG90eXBlICkge1xuXG4gICAgICAgICAgICBwcm90b3R5cGUgPSBiYXNlO1xuICAgICAgICAgICAgYmFzZSA9ICQuV2lkZ2V0O1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBOQU1FU1BBQ0UgKi9cblxuICAgICAgICBpZiAoIG5hbWVzcGFjZSApIHtcblxuICAgICAgICAgICAgJFtuYW1lc3BhY2VdID0gJFtuYW1lc3BhY2VdIHx8IHt9O1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBDT05TVFJVQ1RPUiAqL1xuXG4gICAgICAgIGV4aXN0aW5nQ29uc3RydWN0b3IgPSBuYW1lc3BhY2UgPyAkW25hbWVzcGFjZV1bbmFtZV0gOiAkW25hbWVdO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLl9jcmVhdGVXaWRnZXQgKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGNvbnN0cnVjdG9yICggb3B0aW9ucywgZWxlbWVudCApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVdpZGdldCAoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIG5hbWVzcGFjZSApIHtcblxuICAgICAgICAgICAgJFtuYW1lc3BhY2VdW25hbWVdID0gY29uc3RydWN0b3I7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgJFtuYW1lXSA9IGNvbnN0cnVjdG9yO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWFRFTkRJTkcgQ09OU1RSVUNUT1IgSU4gT1JERVIgVE8gQ0FSUlkgT1ZFUiBTVEFUSUMgUFJPUEVSVElFUyAqL1xuXG4gICAgICAgIF8uZXh0ZW5kICggY29uc3RydWN0b3IsIGV4aXN0aW5nQ29uc3RydWN0b3IsIHtcbiAgICAgICAgICAgIF9wcm90bzogXy5leHRlbmQgKCB7fSwgcHJvdG90eXBlICksXG4gICAgICAgICAgICBfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qIEJBU0UgUFJPVE9UWVBFICovXG5cbiAgICAgICAgYmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlICgpO1xuXG4gICAgICAgIGJhc2VQcm90b3R5cGUub3B0aW9ucyA9IF8uZXh0ZW5kICgge30sIGJhc2VQcm90b3R5cGUub3B0aW9ucyApOyAvL0lORk86IFdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZSBvdGhlcndpc2Ugd2UnbGwgbW9kaWZ5IHRoZSBvcHRpb25zIGhhc2ggb24gdGhlIHByb3RvdHlwZSB0aGF0IHdlJ3JlIGluaGVyaXRpbmcgZnJvbVxuXG4gICAgICAgIC8qIFBST1hJRUQgUFJPVE9UWVBFICovXG5cbiAgICAgICAgZm9yICggdmFyIHByb3AgaW4gcHJvdG90eXBlICkge1xuXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBwcm90b3R5cGVbcHJvcF0gIT09ICdmdW5jdGlvbicgKSB7XG5cbiAgICAgICAgICAgICAgICBwcm94aWVkUHJvdG90eXBlW3Byb3BdID0gcHJvdG90eXBlW3Byb3BdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb3hpZWRQcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24gKCBwcm9wICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLnByb3RvdHlwZVtwcm9wXS5hcHBseSAoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfc3VwZXJBcHBseSA9IGZ1bmN0aW9uICggYXJncyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLnByb3RvdHlwZVtwcm9wXS5hcHBseSAoIHRoaXMsIGFyZ3MgKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fc3VwZXJBcHBseSA9IHRoaXMuX3N1cGVyQXBwbHksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdXBlciA9IF9zdXBlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXJBcHBseSA9IF9zdXBlckFwcGx5O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gcHJvdG90eXBlW3Byb3BdLmFwcGx5ICggdGhpcywgYXJndW1lbnRzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdXBlckFwcGx5ID0gX19zdXBlckFwcGx5O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH0pKCBwcm9wICk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIENPTlNUUlVDVE9SIFBST1RPVFlQRSAqL1xuXG4gICAgICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IF8uZXh0ZW5kICggYmFzZVByb3RvdHlwZSwgcHJveGllZFByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICAgICAgICB3aWRnZXRPcmlnaW5hbE5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgICAgIHdpZGdldE5hbWU6IG5hbWUsXG4gICAgICAgICAgICB3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogQ0FDSEUgVEVNUExBVEVTICovXG5cbiAgICAgICAgZm9yICggdmFyIHRtcGxfbmFtZSBpbiBwcm90b3R5cGUudGVtcGxhdGVzICkge1xuXG4gICAgICAgICAgICAkLnRtcGwuY2FjaGVbb3JpZ2luYWxOYW1lICsgJy4nICsgdG1wbF9uYW1lXSA9ICQudG1wbCAoIHByb3RvdHlwZS50ZW1wbGF0ZXNbdG1wbF9uYW1lXSApO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBVUERBVEUgUFJPVE9UWVBFIENIQUlOICovXG5cbiAgICAgICAgaWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm90b3R5cGUgPSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9yc1tpXS5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAkLndpZGdldCAoICggY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlID8gY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlICsgJy4nICsgY2hpbGRQcm90b3R5cGUud2lkZ2V0TmFtZSA6IGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUgKSwgY29uc3RydWN0b3IsIGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzW2ldLl9wcm90byApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoICggY29uc3RydWN0b3IgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyogQ09OU1RSVUNUICovXG5cbiAgICAgICAgJC53aWRnZXQuYnJpZGdlICggbmFtZSwgY29uc3RydWN0b3IgKTtcblxuICAgICAgICAvKiBSRVRVUk4gKi9cblxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG5cbiAgICB9O1xuXG4gICAgJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24gKCBuYW1lLCBvYmplY3QgKSB7XG5cbiAgICAgICAgLyogVkFSSUFCTEVTICovXG5cbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gb2JqZWN0LnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZSB8fCBuYW1lO1xuXG4gICAgICAgIC8qIFBMVUdJTiAqL1xuXG4gICAgICAgICQuZm5bbmFtZV0gPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5sZW5ndGggPT09IDAgJiYgIW9iamVjdC5wcm90b3R5cGUuZGVmYXVsdEVsZW1lbnQgJiYgIW9iamVjdC5wcm90b3R5cGUudGVtcGxhdGVzLmJhc2UgKSByZXR1cm47IC8vSU5GTzogbm90aGluZyB0byB3b3JrIG9uIC8vRklYTUU6IGNyZWF0ZSB0aGUgZmlyc3QgZWxlbWVudCB3aXRoIHRoZSBkZWZhdWx0RWxlbWVudCBvciB0aGUgdGVtcGxhdGVzLmJhc2Ugb3B0aW9ucywgdGhlbiBhZGQgdGhlIGluc3RhbmNlIHRvIGhpbVxuXG4gICAgICAgICAgICB2YXIgaXNNZXRob2RDYWxsID0gKCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgKSxcbiAgICAgICAgICAgICAgICBhcmdzID0gXy50YWlsICggYXJndW1lbnRzICksXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoIGlzTWV0aG9kQ2FsbCApIHtcblxuICAgICAgICAgICAgICAgIC8qIE1FVEhPRCBDQUxMICovXG5cbiAgICAgICAgICAgICAgICB0aGlzLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogVkFSSUFCTEVTICovXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldGhvZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSAkLmRhdGEgKCB0aGlzLCBmdWxsTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIEdFVFRJTkcgSU5TVEFOQ0UgKi9cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMgPT09ICdpbnN0YW5jZScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gaW5zdGFuY2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyogQ0hFQ0tJTkcgVkFMSUQgQ0FMTCAqL1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWluc3RhbmNlICkgcmV0dXJuOyAvL0lORk86IE5vIGluc3RhbmNlIGZvdW5kXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhKHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gJ2Z1bmN0aW9uJykgfHwgb3B0aW9ucy5jaGFyQXQgKCAwICkgPT09ICdfJyApIHJldHVybjsgLy9JTkZPOiBQcml2YXRlIG1ldGhvZFxuXG4gICAgICAgICAgICAgICAgICAgIC8qIENBTExJTkcgKi9cblxuICAgICAgICAgICAgICAgICAgICBtZXRob2RWYWx1ZSA9IGluc3RhbmNlW29wdGlvbnNdLmFwcGx5ICggaW5zdGFuY2UsIGFyZ3MgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIG1ldGhvZFZhbHVlICE9PSBpbnN0YW5jZSAmJiBtZXRob2RWYWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAvKiBTVVBQT1JUIEZPUiBQQVNTSU5HIE1VTFRJUExFIE9QVElPTlMgT0JKRUNUUyAqL1xuXG4gICAgICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gXy5leHRlbmQuYXBwbHkgKCBudWxsLCBbb3B0aW9uc10uY29uY2F0ICggYXJncyApICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiBJTlNUQU5DSUFUSU5HICovXG5cbiAgICAgICAgICAgICAgICB0aGlzLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogR0VUIElOU1RBTkNFICovXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gJC5kYXRhICggdGhpcywgZnVsbE5hbWUgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGluc3RhbmNlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5vcHRpb24gKCBvcHRpb25zIHx8IHt9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5kYXRhICggdGhpcywgZnVsbE5hbWUsIG5ldyBvYmplY3QgKCBvcHRpb25zLCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG5cbiAgICAgICAgfTtcblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgbG9kYXNoLWV4dHJhLmpzXG4gKiBAcmVxdWlyZXMgalF1ZXJ5LWV4dHJhLmpzXG4gKiBAcmVxdWlyZXMgdG1wbC5qc1xuICogQHJlcXVpcmVzIGJyb3dzZXIuanNcbiAqIEByZXF1aXJlcyBwb2ludGVyLmpzXG4gKiBAcmVxdWlyZXMgYmFzZV93aWRnZXQuanNcbiAqIEByZXF1aXJlcyB3aWRnZXQuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVSSAqL1xuXG4gICAgJC51aSA9IHtcbiAgICAgICAga2V5Q29kZToge1xuICAgICAgICAgICAgQkFDS1NQQUNFOiA4LFxuICAgICAgICAgICAgQ09NTUE6IDE4OCxcbiAgICAgICAgICAgIERFTEVURTogNDYsXG4gICAgICAgICAgICBET1dOOiA0MCxcbiAgICAgICAgICAgIEVORDogMzUsXG4gICAgICAgICAgICBFTlRFUjogMTMsXG4gICAgICAgICAgICBFU0NBUEU6IDI3LFxuICAgICAgICAgICAgSE9NRTogMzYsXG4gICAgICAgICAgICBMRUZUOiAzNyxcbiAgICAgICAgICAgIFBBR0VfRE9XTjogMzQsXG4gICAgICAgICAgICBQQUdFX1VQOiAzMyxcbiAgICAgICAgICAgIFBFUklPRDogMTkwLFxuICAgICAgICAgICAgUklHSFQ6IDM5LFxuICAgICAgICAgICAgU1BBQ0U6IDMyLFxuICAgICAgICAgICAgVEFCOiA5LFxuICAgICAgICAgICAgVVA6IDM4XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlQnV0dG9uOiB7XG4gICAgICAgICAgICBMRUZUOiAwLFxuICAgICAgICAgICAgTUlERExFOiAxLFxuICAgICAgICAgICAgUklHSFQ6IDJcbiAgICAgICAgfVxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL0lORk86IE9ubHkgd29ya3Mgd2l0aCBgYm94LXNpemluZzogYm9yZGVyLWJveGBcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEFVVE9HUk9XICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uYXV0b2dyb3cnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbmltdW1fd2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5pbXVtX2hlaWdodDogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZ3Jvd2FibGUgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLmlzSW5wdXQgPSB0aGlzLiRncm93YWJsZS5pcyAoICdpbnB1dCcgKTtcbiAgICAgICAgICAgIHRoaXMuaXNUZXh0YXJlYSA9IHRoaXMuJGdyb3dhYmxlLmlzICggJ3RleHRhcmVhJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGUgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2lucHV0IGNoYW5nZScsIHRoaXMudXBkYXRlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBJTlBVVCAqL1xuXG4gICAgICAgIF91cGRhdGVfaW5wdXRfd2lkdGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIG5lZWRlZF93aWR0aCA9IHRoaXMuX2dldF9pbnB1dF9uZWVkZWRfd2lkdGggKCB0aGlzLiRncm93YWJsZSApO1xuXG4gICAgICAgICAgICB0aGlzLiRncm93YWJsZS53aWR0aCAoIE1hdGgubWF4ICggbmVlZGVkX3dpZHRoLCB0aGlzLm9wdGlvbnMubWluaW11bV93aWR0aCApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0X2lucHV0X25lZWRlZF93aWR0aDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHNwYW4gPSAkKCAnPHNwYW4+JyArIHRoaXMuJGdyb3dhYmxlLnZhbCAoKSArICc8L3NwYW4+JyApO1xuXG4gICAgICAgICAgICAkc3Bhbi5jc3MgKHtcbiAgICAgICAgICAgICAgICBmb250OiB0aGlzLiRncm93YWJsZS5jc3MgKCAnZm9udCcgKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNwYW4uYXBwZW5kVG8gKCAkYm9keSApO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkc3Bhbi53aWR0aCAoKTtcblxuICAgICAgICAgICAgJHNwYW4ucmVtb3ZlICgpO1xuXG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBURVhUQVJFQSAqL1xuXG4gICAgICAgIF91cGRhdGVfdGV4dGFyZWFfaGVpZ2h0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZWVkZWRfaGVpZ2h0ID0gdGhpcy4kZ3Jvd2FibGUuaGVpZ2h0ICggMSApLmdldCAoIDAgKS5zY3JvbGxIZWlnaHQgLSBwYXJzZUZsb2F0ICggdGhpcy4kZ3Jvd2FibGUuY3NzICggJ3BhZGRpbmctdG9wJyApICkgLSBwYXJzZUZsb2F0ICggdGhpcy4kZ3Jvd2FibGUuY3NzICggJ3BhZGRpbmctYm90dG9tJyApICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGdyb3dhYmxlLmhlaWdodCAoIE1hdGgubWF4ICggbmVlZGVkX2hlaWdodCwgdGhpcy5vcHRpb25zLm1pbmltdW1faGVpZ2h0ICkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuaXNJbnB1dCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dF93aWR0aCAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAndXBkYXRlJyApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLmlzVGV4dGFyZWEgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfdGV4dGFyZWFfaGVpZ2h0ICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICd1cGRhdGUnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdpbnB1dC5hdXRvZ3JvdywgdGV4dGFyZWEuYXV0b2dyb3csIC5pbnB1dC13cnAuYXV0b2dyb3cgaW5wdXQsIC50ZXh0YXJlYS13cnAuYXV0b2dyb3cgdGV4dGFyZWEnKS5hdXRvZ3JvdyAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEFDQ09SRElPTiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmFjY29yZGlvbicsIHtcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRhY2NvcmRpb24gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXJzID0gdGhpcy4kYWNjb3JkaW9uLmNoaWxkcmVuICggJy5leHBhbmRlcicgKTtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzID0gQXJyYXkgKCB0aGlzLiRleHBhbmRlcnMubGVuZ3RoICk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IHRoaXMuJGFjY29yZGlvbi5oYXNDbGFzcyAoICdtdWx0aXBsZScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRoaXMuJGV4cGFuZGVycy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaV0gPSB0aGlzLiRleHBhbmRlcnMuZXEgKCBpICkuZXhwYW5kZXIgKCAnaW5zdGFuY2UnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnZXhwYW5kZXI6b3BlbicsICcuZXhwYW5kZXInLCB0aGlzLl9oYW5kbGVyX29wZW4gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QRU4gKi9cblxuICAgICAgICBfaGFuZGxlcl9vcGVuOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhLCBub2RlICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzTXVsdGlwbGUgKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLiRleHBhbmRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy4kZXhwYW5kZXJzW2ldICE9PSBub2RlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaV0uY2xvc2UgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0udG9nZ2xlICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlQWxsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCAoIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKCBpbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnRvZ2dsZSAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoIGluZGV4ICkge1xuXG4gICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaW5kZXhdLm9wZW4gKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuQWxsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCAoIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKCBpbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4gKCk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0uY2xvc2UgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZUFsbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBfLmVhY2ggKCB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXMsIGZ1bmN0aW9uICggaW5zdGFuY2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmFjY29yZGlvbicpLmFjY29yZGlvbiAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEJMVVIgKi9cblxuICAgICQuZm4uYmx1cnJlZCA9IGZ1bmN0aW9uICggZm9yY2UgKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MgKCAnYmx1cnJlZCcsIGZvcmNlICk7XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvbG9kYXNoLWV4dHJhLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQklOQVJZIFRSRUUgLmVhY2ggKCkgKi9cblxuICAgICQuZm4uYnRFYWNoID0gZnVuY3Rpb24gKCBjYWxsYmFjaywgc3RhcnRJbmRleCApIHtcblxuICAgICAgICByZXR1cm4gXy5idEVhY2ggKCB0aGlzLCBjYWxsYmFjaywgc3RhcnRJbmRleCApO1xuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIENPTE9SIEhFTFBFUiAqL1xuXG4gICAgd2luZG93LkNvbG9ySGVscGVyID0ge1xuXG4gICAgICAgIC8qIENPTE9SIFNQQUNFUyBDT05WRVJURVJTICovXG5cbiAgICAgICAgaGV4MnJnYjogZnVuY3Rpb24gKCBoZXggKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogdGhpcy5oZXgyZGVjICggaGV4LnIgKSxcbiAgICAgICAgICAgICAgICBnOiB0aGlzLmhleDJkZWMgKCBoZXguZyApLFxuICAgICAgICAgICAgICAgIGI6IHRoaXMuaGV4MmRlYyAoIGhleC5iIClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSxcblxuICAgICAgICBoZXgyaHN2OiBmdW5jdGlvbiAoIGhleCApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmdiMmhzdiAoIHRoaXMuaGV4MnJnYiAoIGhleCApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZ2IyaGV4OiBmdW5jdGlvbiAoIHJnYiApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiB0aGlzLmRlYzJoZXggKCByZ2IuciApLFxuICAgICAgICAgICAgICAgIGc6IHRoaXMuZGVjMmhleCAoIHJnYi5nICksXG4gICAgICAgICAgICAgICAgYjogdGhpcy5kZWMyaGV4ICggcmdiLmIgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJnYjJoc3Y6IGZ1bmN0aW9uICggcmdiICkge1xuXG4gICAgICAgICAgICB2YXIgciA9IHJnYi5yIC8gMjU1LFxuICAgICAgICAgICAgICAgIGcgPSByZ2IuZyAvIDI1NSxcbiAgICAgICAgICAgICAgICBiID0gcmdiLmIgLyAyNTUsXG4gICAgICAgICAgICAgICAgaCwgcyxcbiAgICAgICAgICAgICAgICB2ID0gTWF0aC5tYXggKCByLCBnLCBiICksXG4gICAgICAgICAgICAgICAgZGlmZiA9IHYgLSBNYXRoLm1pbiAoIHIsIGcsIGIgKSxcbiAgICAgICAgICAgICAgICBkaWZmYyA9IGZ1bmN0aW9uICggYyApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICggdiAtIGMgKSAvIDYgLyBkaWZmICsgMSAvIDI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCBkaWZmID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgaCA9IHMgPSAwO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcyA9IGRpZmYgLyB2O1xuXG4gICAgICAgICAgICAgICAgdmFyIHJyID0gZGlmZmMgKCByICksXG4gICAgICAgICAgICAgICAgICAgIGdnID0gZGlmZmMgKCBnICksXG4gICAgICAgICAgICAgICAgICAgIGJiID0gZGlmZmMgKCBiICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHIgPT09IHYgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCA9IGJiIC0gZ2c7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBnID09PSB2ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGggPSAoIDEgLyAzICkgKyByciAtIGJiO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYiA9PT0gdiApIHtcblxuICAgICAgICAgICAgICAgICAgICBoID0gKCAyIC8gMyApICsgZ2cgLSBycjtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggaCA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCArPSAxO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggaCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCAtPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGg6IGggKiAzNjAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHM6IHMgKiAxMDAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHY6IHYgKiAxMDAgLy9GSVhNRTogcmVtb3ZlZCBNYXRoLnJvdW5kLCB0ZXN0IGlmIGlzIG9rXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MmhleDogZnVuY3Rpb24gKCBoc3YgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJnYjJoZXggKCB0aGlzLmhzdjJyZ2IgKCBoc3YgKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MnJnYjogZnVuY3Rpb24gKCBoc3YgKSB7XG5cbiAgICAgICAgICAgIHZhciByLCBnLCBiLFxuICAgICAgICAgICAgICAgIGggPSBoc3YuaCxcbiAgICAgICAgICAgICAgICBzID0gaHN2LnMsXG4gICAgICAgICAgICAgICAgdiA9IGhzdi52O1xuXG4gICAgICAgICAgICBzIC89IDEwMDtcbiAgICAgICAgICAgIHYgLz0gMTAwO1xuXG4gICAgICAgICAgICBpZiAoIHMgPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICByID0gZyA9IGIgPSB2O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGksIGYsIHAsIHEsIHQ7XG5cbiAgICAgICAgICAgICAgICBoIC89IDYwO1xuICAgICAgICAgICAgICAgIGkgPSBNYXRoLmZsb29yICggaCApO1xuICAgICAgICAgICAgICAgIGYgPSBoIC0gaTtcbiAgICAgICAgICAgICAgICBwID0gdiAqICggMSAtIHMgKTtcbiAgICAgICAgICAgICAgICBxID0gdiAqICggMSAtIHMgKiBmICk7XG4gICAgICAgICAgICAgICAgdCA9IHYgKiAoIDEgLSBzICogKCAxIC0gZiApICk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCBpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHE7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJvdW5kICggciAqIDI1NSApLFxuICAgICAgICAgICAgICAgIGc6IE1hdGgucm91bmQgKCBnICogMjU1ICksXG4gICAgICAgICAgICAgICAgYjogTWF0aC5yb3VuZCAoIGIgKiAyNTUgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGhzdjJoc2w6IGZ1bmN0aW9uICggaHN2ICkge1xuXG4gICAgICAgICAgICB2YXIgcyA9IGhzdi5zIC8gMTAwLFxuICAgICAgICAgICAgICAgIHYgPSBoc3YudiAvIDEwMCxcbiAgICAgICAgICAgICAgICB0ZW1wTCA9ICggMiAtIHMgKSAqIHYsXG4gICAgICAgICAgICAgICAgdGVtcFMgPSBzICogdjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoOiBoc3YuaCxcbiAgICAgICAgICAgICAgICBzOiAoIHRlbXBTIC8gKCAoIHRlbXBMIDw9IDEgKSA/IHRlbXBMIDogMiAtIHRlbXBMICkgKSAqIDEwMCxcbiAgICAgICAgICAgICAgICBsOiAoIHRlbXBMIC8gMiApICogMTAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHNsMmhzdjogZnVuY3Rpb24gKCBoc2wgKSB7XG5cbiAgICAgICAgICAgIHZhciBsID0gaHNsLmwgLyAxMDAgKiAyLFxuICAgICAgICAgICAgICAgIHMgPSAoIGhzbC5zIC8gMTAwICkgKiAoIGwgPD0gMSA/IGwgOiAyIC0gbCApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGg6IGhzbC5oLFxuICAgICAgICAgICAgICAgIHM6ICggMiAqIHMgKSAvICggbCArIHMgKSAqIDEwMCxcbiAgICAgICAgICAgICAgICB2OiAoIGwgKyBzICkgLyAyICogMTAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0NBTEUgQ09OVkVSVEVSUyAqL1xuXG4gICAgICAgIGRlYzJoZXg6IGZ1bmN0aW9uICggZGVjICkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5wYWRMZWZ0ICggZGVjLnRvU3RyaW5nICggMTYgKSwgMiwgJzAnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBoZXgyZGVjOiBmdW5jdGlvbiAoIGhleCApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ICggaGV4LCAxNiApO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIENIRUNLQk9YICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uY2hlY2tib3gnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICB1bmNoZWNrZWQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGNoZWNrYm94ID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kY2hlY2tib3guZmluZCAoICdpbnB1dCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7IC8vRklYTUU6IGlzIGl0IG5lY2Vzc2FyeSB0byBpbmNsdWRlIGl0PyBNYXliZSB3ZSBzaG91bGQgZml4IG1pc3Rha2VzIHdpdGggdGhlIG1hcmt1cC4uLlxuXG4gICAgICAgICAgICB2YXIgaGFzQ2xhc3MgPSB0aGlzLiRjaGVja2JveC5oYXNDbGFzcyAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuZ2V0ICgpICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhaGFzQ2xhc3MgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY2hlY2tib3guYWRkQ2xhc3MgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmICggaGFzQ2xhc3MgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjaGVja2JveC5yZW1vdmVDbGFzcyAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUgKCk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSB0aGlzLmdldCAoKTtcblxuICAgICAgICAgICAgdGhpcy4kY2hlY2tib3gudG9nZ2xlQ2xhc3MgKCAnY2hlY2tlZCcsIGlzQ2hlY2tlZCApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggaXNDaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyAvL0ZJWE1FOiBtYXliZSB0aGlzIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlLCBhbmQgYSBpc0NoZWNrZWQgZXF1aXZhbGVudCBzaG91bGQgZG8gdGhpcyBqb2JcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlucHV0LnByb3AgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCBmb3JjZSApIHtcblxuICAgICAgICAgICAgdmFyIGlzQ2hlY2tlZCA9IHRoaXMuZ2V0ICgpO1xuXG4gICAgICAgICAgICBpZiAoIF8uaXNVbmRlZmluZWQgKCBmb3JjZSApICkge1xuXG4gICAgICAgICAgICAgICAgZm9yY2UgPSAhaXNDaGVja2VkO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggZm9yY2UgIT09IGlzQ2hlY2tlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnByb3AgKCAnY2hlY2tlZCcsIGZvcmNlICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggZm9yY2UgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJyApOyAvL0ZJWE1FOiBpcyB0cmlnZ2VyZWQgdHdpY2UgcGVyIHRvZ2dsZVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjaGVjazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoIHRydWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHVuY2hlY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUgKCBmYWxzZSApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5jaGVja2JveCcpLmNoZWNrYm94ICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29sb3JfaGVscGVyL2NvbG9ySGVscGVyLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogSEVYIENPTE9SICovXG5cbiAgICB3aW5kb3cuSGV4Q29sb3IgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICAgIGlmICggXy5pc1N0cmluZyAoIHZhbHVlICkgKSB7XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSAoICcjJywgJycgKTtcblxuICAgICAgICAgICAgIGlmICggL14oWzAtOWEtZl17M30pezJ9JC9pLnRlc3QgKCB2YWx1ZSApICkgeyAvL0lORk86IGZ1bGwgNi1jaGFycyBjb2xvclxuXG4gICAgICAgICAgICAgICAgdGhpcy5oc3YgPSBDb2xvckhlbHBlci5oZXgyaHN2ICh7XG4gICAgICAgICAgICAgICAgICAgIHI6IHZhbHVlWzBdICsgdmFsdWVbMV0sXG4gICAgICAgICAgICAgICAgICAgIGc6IHZhbHVlWzJdICsgdmFsdWVbM10sXG4gICAgICAgICAgICAgICAgICAgIGI6IHZhbHVlWzRdICsgdmFsdWVbNV1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggL15bMC05YS1mXXszfSQvaS50ZXN0ICggdmFsdWUgKSApIHsgLy9JTkZPOiBzaG9ydGhhbmQgMy1jaGFycyBjb2xvclxuXG4gICAgICAgICAgICAgICAgdGhpcy5oc3YgPSBDb2xvckhlbHBlci5oZXgyaHN2ICh7XG4gICAgICAgICAgICAgICAgICAgIHI6IHZhbHVlWzBdICsgdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgIGc6IHZhbHVlWzFdICsgdmFsdWVbMV0sXG4gICAgICAgICAgICAgICAgICAgIGI6IHZhbHVlWzJdICsgdmFsdWVbMl1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNWYWxpZCA9IHRydWU7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qIEhFWCBDT0xPUiBQUk9UT1RZUEUgKi9cblxuICAgIEhleENvbG9yLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcblxuICAgICAgICBoc3Y6IHtcbiAgICAgICAgICAgIGg6IDAsXG4gICAgICAgICAgICBzOiAwLFxuICAgICAgICAgICAgdjogMFxuICAgICAgICB9LFxuXG4gICAgICAgIGdldEhleFN0cjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgaGV4ID0gQ29sb3JIZWxwZXIuaHN2MmhleCAoIHRoaXMuaHN2ICk7XG5cbiAgICAgICAgICAgIHJldHVybiAnIycgKyBoZXguciArIGhleC5nICsgaGV4LmI7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxufSggXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiBAcmVxdWlyZXMgLi4vaGV4X2NvbG9yL2hleENvbG9yLmpzXG4gKiBAcmVxdWlyZXMgLi4vY29sb3JfaGVscGVyL2NvbG9ySGVscGVyLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBhbHBoYSBjaGFubmVsXG4vL1RPRE86IGFkZCBhICRiZ3MgdmFyaWFibGUgd2hlcmUgd2UgdXBkYXRlIHRoZSBiYWNrZ3JvdW5kXG4vL1RPRE86IEFkZCBhbiBpbnB1dCBpbnNpZGUsIHNvIHRoYXQgaXQgd29ya3MgYWxzbyB3aXRob3V0IGFuIGV4dGVybmFsIGlucHV0XG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBDT0xPUlBJQ0tFUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmNvbG9ycGlja2VyJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBkZWZhdWx0X2NvbG9yOiAnI2ZmMDAwMCcsXG4gICAgICAgICAgICBsaXZlOiB0cnVlLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRjb2xvcnBpY2tlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRzYl93cnAgPSB0aGlzLiRjb2xvcnBpY2tlci5maW5kICggJy5jb2xvcnBpY2tlci1zYXR1cmF0aW9uLWJyaWdodG5lc3Mtd3JwJyApO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9zYiA9IHRoaXMuJHNiX3dycC5maW5kICggJy5jb2xvcnBpY2tlci1oYW5kbGVyJyApO1xuICAgICAgICAgICAgdGhpcy4kaHVlX3dycCA9IHRoaXMuJGNvbG9ycGlja2VyLmZpbmQgKCAnLmNvbG9ycGlja2VyLWh1ZS13cnAnICk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX2h1ZSA9IHRoaXMuJGh1ZV93cnAuZmluZCAoICcuY29sb3JwaWNrZXItaGFuZGxlcicgKTtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJGNvbG9ycGlja2VyLmF0dHIgKCAnaWQnICk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMgPSAkKCdpbnB1dFtuYW1lPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXcgSGV4Q29sb3IgKCk7XG4gICAgICAgICAgICB0aGlzLmhleCA9ICcnO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFyaWFibGVzICgpO1xuXG4gICAgICAgICAgICB0aGlzLnNiX3dycF9zaXplID0gdGhpcy4kc2Jfd3JwLndpZHRoICgpO1xuXG4gICAgICAgICAgICB0aGlzLmh1ZV93cnBfaGVpZ2h0ID0gdGhpcy5zYl93cnBfc2l6ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggIXRoaXMuc2V0ICggdGhpcy4kaW5wdXRzLnZhbCAoKSApICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBIZXhDb2xvciAoIHRoaXMub3B0aW9ucy5kZWZhdWx0X2NvbG9yICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IgKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2h1ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvKiBXSU5ET1cgUkVTSVpFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJfcmVzaXplICk7XG5cbiAgICAgICAgICAgIC8qIElOUFVUUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGlucHV0cywgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2lucHV0X2tleWRvd24gKTtcblxuICAgICAgICAgICAgLyogU0IgQVJST1dTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc2Jfd3JwLCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19pbiApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRzYl93cnAsICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9zYl93cnBfYXJyb3dzX291dCApO1xuXG4gICAgICAgICAgICAvKiBTQiBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc2Jfd3JwLCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX2hhbmRsZXJfc2JfZHJhZ19tb3ZlICk7XG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHNiX3dycCwgJC5Qb2ludGVyLmRyYWdlbmQsIHRoaXMuX2hhbmRsZXJfc2JfZHJhZ19lbmQgKTtcblxuICAgICAgICAgICAgLyogSFVFIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGh1ZV93cnAsICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9odWVfd3JwX2Fycm93c19pbiApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRodWVfd3JwLCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfb3V0ICk7XG5cbiAgICAgICAgICAgIC8qIEhVRSBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kaHVlX3dycCwgJC5Qb2ludGVyLmRyYWdtb3ZlLCB0aGlzLl9oYW5kbGVyX2h1ZV9kcmFnX21vdmUgKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kaHVlX3dycCwgJC5Qb2ludGVyLmRyYWdlbmQsIHRoaXMuX2hhbmRsZXJfaHVlX2RyYWdfZW5kICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX3VwZGF0ZV92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5zYl93cnBfb2Zmc2V0ID0gdGhpcy4kc2Jfd3JwLm9mZnNldCAoKTtcbiAgICAgICAgICAgIHRoaXMuaHVlX3dycF9vZmZzZXQgPSB0aGlzLiRodWVfd3JwLm9mZnNldCAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFdJTkRPVyBSRVNJWkUgKi9cblxuICAgICAgICBfaGFuZGxlcl9yZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcyAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNCIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9zYl93cnBfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfb3V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YudiA9IE1hdGgubWluICggMTAwLCB0aGlzLmNvbG9yLmhzdi52ICsgMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5zID0gTWF0aC5taW4gKCAxMDAsIHRoaXMuY29sb3IuaHN2LnMgKyAxICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YudiA9IE1hdGgubWF4ICggMCwgdGhpcy5jb2xvci5oc3YudiAtIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5zID0gTWF0aC5tYXggKCAwLCB0aGlzLmNvbG9yLmhzdi5zIC0gMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IgKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTQiBEUkFHICovXG5cbiAgICAgICAgX3NiX2RyYWdfc2V0OiBmdW5jdGlvbiAoIFhZLCB1cGRhdGUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnMgPSAgXy5jbGFtcCAoIDAsIFhZLlggLSB0aGlzLnNiX3dycF9vZmZzZXQubGVmdCwgdGhpcy5zYl93cnBfc2l6ZSApICogMTAwIC8gdGhpcy5zYl93cnBfc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnYgPSAgMTAwIC0gKCBfLmNsYW1wICggMCwgWFkuWSAtIHRoaXMuc2Jfd3JwX29mZnNldC50b3AsIHRoaXMuc2Jfd3JwX3NpemUgKSAqIDEwMCAvIHRoaXMuc2Jfd3JwX3NpemUgKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3NiICgpO1xuXG4gICAgICAgICAgICBpZiAoIHVwZGF0ZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2JfZHJhZ19tb3ZlOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xuXG4gICAgICAgICAgICB0aGlzLl9zYl9kcmFnX3NldCAoIGRhdGEubW92ZVhZLCB0aGlzLm9wdGlvbnMubGl2ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2JfZHJhZ19lbmQ6IGZ1bmN0aW9uICggZXZlbnQsIGRhdGEgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NiX2RyYWdfc2V0ICggZGF0YS5lbmRYWSwgdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSFVFIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2luOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfb3V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgc3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5oID0gTWF0aC5taW4gKCAzNTksIHRoaXMuY29sb3IuaHN2LmggKyAxICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IE1hdGgubWF4ICggMCwgdGhpcy5jb2xvci5oc3YuaCAtIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2h1ZSAoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEhVRSBEUkFHICovXG5cbiAgICAgICAgX2h1ZV9kcmFnX3NldDogZnVuY3Rpb24gKCBYWSwgdXBkYXRlICkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5oID0gMzU5IC0gKCBfLmNsYW1wICggMCwgWFkuWSAtIHRoaXMuaHVlX3dycF9vZmZzZXQudG9wLCB0aGlzLmh1ZV93cnBfaGVpZ2h0ICkgKiAzNTkgLyB0aGlzLmh1ZV93cnBfaGVpZ2h0ICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUgKCk7XG5cbiAgICAgICAgICAgIGlmICggdXBkYXRlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9odWVfZHJhZ19tb3ZlOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xuXG4gICAgICAgICAgICB0aGlzLl9odWVfZHJhZ19zZXQgKCBkYXRhLm1vdmVYWSwgdGhpcy5vcHRpb25zLmxpdmUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV9kcmFnX2VuZDogZnVuY3Rpb24gKCBldmVudCwgZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy5faHVlX2RyYWdfc2V0ICggZGF0YS5lbmRYWSwgdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSU5QVVQgKi9cblxuICAgICAgICBfaGFuZGxlcl9pbnB1dF9rZXlkb3duOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FTlRFUiApIHtcblxuICAgICAgICAgICAgICAgIGlmICggIXRoaXMuc2V0ICggdGhpcy4kaW5wdXRzLnZhbCAoKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwgKCB0aGlzLmhleCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPVEhFUlMgKi9cblxuICAgICAgICBfdXBkYXRlX2lucHV0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaGV4ID0gdGhpcy5jb2xvci5nZXRIZXhTdHIgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwgKCB0aGlzLmhleCApLmNzcyAoICdiYWNrZ3JvdW5kLWNvbG9yJywgdGhpcy5oZXggKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3NiOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBoc2wgPSBDb2xvckhlbHBlci5oc3YyaHNsICggdGhpcy5jb2xvci5oc3YgKTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9zYi5jc3MgKHtcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdoc2woJyArIGhzbC5oICsgJywnICsgaHNsLnMgKyAnJSwnICsgaHNsLmwgKyAnJSknLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyAoIHRoaXMuc2Jfd3JwX3NpemUgLyAxMDAgKiB0aGlzLmNvbG9yLmhzdi5zICkgKyAncHgsJyArICggdGhpcy5zYl93cnBfc2l6ZSAvIDEwMCAqICggMTAwIC0gdGhpcy5jb2xvci5oc3YudiApICkgKyAncHgsMCknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfaHVlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBoc2wgPSBDb2xvckhlbHBlci5oc3YyaHNsICggdGhpcy5jb2xvci5oc3YgKTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9odWUuY3NzICh7XG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAnaHNsKCcgKyB0aGlzLmNvbG9yLmhzdi5oICsgJywxMDAlLDUwJSknLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsJyArICggdGhpcy5odWVfd3JwX2hlaWdodCAvIDEwMCAqICggMTAwIC0gKCB0aGlzLmNvbG9yLmhzdi5oIC8gMzYwICogMTAwICkgKSApICsgJ3B4LDApJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfc2IuY3NzICggJ2JhY2tncm91bmQtY29sb3InLCAnaHNsKCcgKyBoc2wuaCArICcsJyArIGhzbC5zICsgJyUsJyArIGhzbC5sICsgJyUpJyApO1xuXG4gICAgICAgICAgICB0aGlzLiRzYl93cnAuY3NzICggJ2JhY2tncm91bmQtY29sb3InLCAnaHNsKCcgKyB0aGlzLmNvbG9yLmhzdi5oICsgJywxMDAlLDUwJSknICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zYiAoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUgKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IuZ2V0SGV4U3RyICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2NvbG9yID0gbmV3IEhleENvbG9yICggdmFsdWUgKTtcblxuICAgICAgICAgICAgaWYgKCBuZXdfY29sb3IuaXNWYWxpZCAmJiAhXy5pc0VxdWFsICggbmV3X2NvbG9yLmhzdiwgdGhpcy5jb2xvci5oc3YgKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXdfY29sb3I7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ld19jb2xvci5pc1ZhbGlkO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5jb2xvcnBpY2tlcicpLmNvbG9ycGlja2VyICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIFVSTDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L2Nvb2tpZSAqL1xuXG4vKiBDT09LSUUgKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFVUSUxJVElFUyAqL1xuXG4gICAgdmFyIGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudCxcbiAgICAgICAgZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXG4gICAgLyogQ09PS0lFICovXG5cbiAgICAkLmNvb2tpZSA9IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgga2V5ICkge1xuXG4gICAgICAgICAgICBpZiAoICFrZXkgKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZSAoIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlICggbmV3IFJlZ0V4cCAoICcoPzooPzpefC4qOylcXFxccyonICsgZW5jb2RlICgga2V5ICkucmVwbGFjZSAoIC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJyApICsgJ1xcXFxzKlxcXFw9XFxcXHMqKFteO10qKS4qJCl8Xi4qJCcgKSwgJyQxJyApICkgfHwgbnVsbDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCBrZXksIHZhbHVlLCBlbmQsIHBhdGgsIGRvbWFpbiwgc2VjdXJlICkge1xuXG4gICAgICAgICAgICBpZiAoICFrZXkgfHwgL14oPzpleHBpcmVzfG1heFxcLWFnZXxwYXRofGRvbWFpbnxzZWN1cmUpJC9pLnRlc3QgKCBrZXkgKSApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSAnJztcblxuICAgICAgICAgICAgaWYgKCBlbmQgKSB7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCBlbmQuY29uc3RydWN0b3IgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gKCBlbmQgPT09IEluZmluaXR5ICkgPyAnOyBleHBpcmVzPUZyaSwgMzEgRGVjIDk5OTkgMjM6NTk6NTkgR01UJyA6ICc7IG1heC1hZ2U9JyArIGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBlbmQudG9VVENTdHJpbmcgKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGUgKCBrZXkgKSArICc9JyArIGVuY29kZSAoIHZhbHVlICkgKyBleHBpcmVzICsgKCBkb21haW4gPyAnOyBkb21haW49JyArIGRvbWFpbiA6ICcnICkgKyAoIHBhdGggPyAnOyBwYXRoPScgKyBwYXRoIDogJycgKSArICggc2VjdXJlID8gJzsgc2VjdXJlJyA6ICcnICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoIGtleSwgcGF0aCwgZG9tYWluICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmhhcyAoIGtleSApICkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGUgKCBrZXkgKSArICc9OyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UJyArICggZG9tYWluID8gJzsgZG9tYWluPScgKyBkb21haW4gOiAnJyApICsgKCBwYXRoID8gJzsgcGF0aD0nICsgcGF0aCA6ICcnICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzOiBmdW5jdGlvbiAoIGtleSApIHtcblxuICAgICAgICAgICAgaWYgKCAha2V5ICkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gKCBuZXcgUmVnRXhwICggJyg/Ol58O1xcXFxzKiknICsgZW5jb2RlICgga2V5ICkucmVwbGFjZSAoIC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJyApICsgJ1xcXFxzKlxcXFw9JyApICkudGVzdCAoIGRvY3VtZW50LmNvb2tpZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAga2V5czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIga2V5cyA9IGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlICggLygoPzpefFxccyo7KVteXFw9XSspKD89O3wkKXxeXFxzKnxcXHMqKD86XFw9W147XSopPyg/OlxcMXwkKS9nLCAnJyApLnNwbGl0ICggL1xccyooPzpcXD1bXjtdKik/O1xccyovICk7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAga2V5c1tpXSA9IGRlY29kZSAoIGtleXNbaV0gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ga2V5cztcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBkZWFsIHdpdGggVVRDIHRpbWUgZXRjLi4uXG4vL1RPRE86IEFkZCBzdXBwb3J0IGZvciBtaW4gYW5kIG1heCBkYXRlIGRlbGltaXRlclxuLy9UT0RPOiBBZGQgYW4gaW5wdXQgaW5zaWRlLCBzbyB0aGF0IGl0IHdvcmtzIGFsc28gd2l0aG91dCBhbiBleHRlcm5hbCBpbnB1dFxuLy9GSVhNRTogV2hlbiB1c2luZyB0aGUgYXJyb3dzIHRoZSBwcmV2IGRheSBzdGlsbCByZW1haW5zIGhvdmVyZWQgZXZlbiBpZiBpdCdzIG5vdCBiZWxvdyB0aGUgY3Vyc29yXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBEQVRFUElDS0VSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uZGF0ZXBpY2tlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbmFtZXM6IHtcbiAgICAgICAgICAgICAgICBtb250aHM6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGU6IHtcbiAgICAgICAgICAgICAgICB0b2RheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY3VycmVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICByZWZyZXNoOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJGRhdGVwaWNrZXIuYXR0ciAoICdpZCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0cyA9IHRoaXMuaWQgPyAkKCdpbnB1dFtuYW1lPVwiJyArIHRoaXMuaWQgKyAnXCJdJykgOiAkZW1wdHk7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmlnYXRpb25fcHJldiA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCAoICcuZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXByZXYnICk7XG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX3RpdGxlID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kICggJy5kYXRlcGlja2VyLW5hdmlnYXRpb24tdGl0bGUnICk7XG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX25leHQgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQgKCAnLmRhdGVwaWNrZXItbmF2aWdhdGlvbi1uZXh0JyApO1xuXG4gICAgICAgICAgICB0aGlzLiRkYXlzX3ByZXYgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQgKCAnLmRhdGVwaWNrZXItZGF5LXByZXYnICk7XG4gICAgICAgICAgICB0aGlzLiRkYXlzX2N1cnJlbnQgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQgKCAnLmRhdGVwaWNrZXItZGF5JyApO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19uZXh0ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kICggJy5kYXRlcGlja2VyLWRheS1uZXh0JyApO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19hbGwgPSB0aGlzLiRkYXlzX3ByZXYuYWRkICggdGhpcy4kZGF5c19jdXJyZW50ICkuYWRkICggdGhpcy4kZGF5c19uZXh0ICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmRhdGUudG9kYXkgPT09IGZhbHNlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUudG9kYXkgPSBuZXcgRGF0ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQgPT09IGZhbHNlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudCA9IG5ldyBEYXRlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV90b2RheSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZGF5X3NlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvKiBEQVRFUElDS0VSICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2Fycm93c19pbiApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX291dCApO1xuXG4gICAgICAgICAgICAvKiBJTlBVVFMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRpbnB1dHMsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9pbnB1dF9rZXlkb3duICk7XG5cbiAgICAgICAgICAgIC8qIE5BVklHQVRJT04gKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRuYXZpZ2F0aW9uX3ByZXYsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfcHJldl9jbGljayApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRuYXZpZ2F0aW9uX25leHQsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfbmV4dF9jbGljayApO1xuXG4gICAgICAgICAgICAvKiBTRUxFQ1RJT04gKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCAnLmRhdGVwaWNrZXItZGF5JywgdGhpcy5faGFuZGxlcl9kYXlfY3VycmVudF9jbGljayApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogREFURVBJS0VSICovXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2luOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19vdXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19rZXlkb3duOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuVVA6XG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIC0xICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIElOUFVUICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRU5URVIgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldCAoIHRoaXMuJGlucHV0cy52YWwgKCkgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogTkFWSUdBVElPTiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3ByZXZfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIC0xIClcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX25leHRfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIDEgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNFTEVDVElPTiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2RheV9jdXJyZW50X2NsaWNrOiBmdW5jdGlvbiAoIGV2ZW50LCBub2RlICkge1xuXG4gICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF9zZWxlY3RlZCAoKTtcblxuICAgICAgICAgICAgdmFyIGRheSA9IHBhcnNlSW50ICggJChub2RlKS5odG1sICgpLCAxMCApO1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCA9IG5ldyBEYXRlICggdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhciAoKSwgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCAoKSwgZGF5ICk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodF9zZWxlY3RlZCAoKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1RIRVJTICovXG5cbiAgICAgICAgX2J1aWxkX2NhbGVuZGFyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBwcmV2X21vbnRoX2RheXMgPSBuZXcgRGF0ZSAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCksIDAgKS5nZXREYXRlICgpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRfbW9udGhfZGF5cyA9IG5ldyBEYXRlICggdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhciAoKSwgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCAoKSArIDEsIDAgKS5nZXREYXRlICgpLFxuICAgICAgICAgICAgICAgIGluaXRpYWxfZGF5X29mX3dlZWsgPSBuZXcgRGF0ZSAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCksIDEgKS5nZXREYXkgKCk7XG5cbiAgICAgICAgICAgIGluaXRpYWxfZGF5X29mX3dlZWsgPSAoIGluaXRpYWxfZGF5X29mX3dlZWsgPT09IDAgKSA/IDYgOiBpbml0aWFsX2RheV9vZl93ZWVrIC0gMTsgLy9JTkZPOiBXZSB1c2UgYE1vbmRheWAgYXMgdGhlIDAgaW5kZXhcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19hbGwucmVtb3ZlQ2xhc3MgKCAnaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAvLyBQUkVWXG5cbiAgICAgICAgICAgIHZhciBleGNlZWRpbmdfZGF5cyA9IDMxIC0gcHJldl9tb250aF9kYXlzLFxuICAgICAgICAgICAgICAgIG5lZWRlZF9kYXlzID0gaW5pdGlhbF9kYXlfb2Zfd2VlayxcbiAgICAgICAgICAgICAgICBsZWZ0X2RheXMgPSA5IC0gZXhjZWVkaW5nX2RheXMgLSBuZWVkZWRfZGF5cztcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2LnNsaWNlICggbGVmdF9kYXlzICsgbmVlZGVkX2RheXMsIHRoaXMuJGRheXNfcHJldi5sZW5ndGggKS5hZGRDbGFzcyAoICdoaWRkZW4nICk7XG4gICAgICAgICAgICB0aGlzLiRkYXlzX3ByZXYuc2xpY2UgKCAwLCBsZWZ0X2RheXMgKS5hZGRDbGFzcyAoICdoaWRkZW4nICk7XG5cbiAgICAgICAgICAgIC8vIENVUlJFTlRcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19jdXJyZW50LnNsaWNlICggY3VycmVudF9tb250aF9kYXlzLCB0aGlzLiRkYXlzX2N1cnJlbnQubGVuZ2h0ICkuYWRkQ2xhc3MgKCAnaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAvLyBORVhUXG5cbiAgICAgICAgICAgIHZhciBsZWZ0X2RheXMgPSAoICggY3VycmVudF9tb250aF9kYXlzICsgaW5pdGlhbF9kYXlfb2Zfd2VlayApICUgNyApO1xuXG4gICAgICAgICAgICB0aGlzLiRkYXlzX25leHQuc2xpY2UgKCAoIGxlZnRfZGF5cyA9PT0gMCApID8gMCA6IDcgLSBsZWZ0X2RheXMgKS5hZGRDbGFzcyAoICdoaWRkZW4nICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGlnaGxpZ2h0X2RheTogZnVuY3Rpb24gKCBkYXksIGNzc19jbGFzcyApIHtcblxuICAgICAgICAgICAgaWYgKCBkYXkgJiYgZGF5LmdldEZ1bGxZZWFyICgpID09PSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyICgpICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhX21vbnRocyA9IGRheS5nZXRNb250aCAoKSAtIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCBkZWx0YV9tb250aHMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkYXlzX3ByZXYuZXEgKCBkYXkuZ2V0RGF0ZSAoKSAtIDIzICkuYWRkQ2xhc3MgKCBjc3NfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19jdXJyZW50LmVxICggZGF5LmdldERhdGUgKCkgLSAxICkuYWRkQ2xhc3MgKCBjc3NfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19uZXh0LmVxICggZGF5LmdldERhdGUgKCkgLSAxICkuYWRkQ2xhc3MgKCBjc3NfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdW5oaWdobGlnaHRfc2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiRkYXlfc2VsZWN0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRkYXlfc2VsZWN0ZWQucmVtb3ZlQ2xhc3MgKCAnZGF0ZXBpY2tlci1kYXktc2VsZWN0ZWQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oaWdobGlnaHRfc2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZGF5X3NlbGVjdGVkID0gdGhpcy5faGlnaGxpZ2h0X2RheSAoIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLCAnZGF0ZXBpY2tlci1kYXktc2VsZWN0ZWQnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdW5oaWdobGlnaHRfdG9kYXk6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiRkYXlfdG9kYXkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRkYXlfdG9kYXkucmVtb3ZlQ2xhc3MgKCAnZGF0ZXBpY2tlci1kYXktdG9kYXknICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oaWdobGlnaHRfdG9kYXk6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZGF5X3RvZGF5ID0gdGhpcy5faGlnaGxpZ2h0X2RheSAoIHRoaXMub3B0aW9ucy5kYXRlLnRvZGF5LCAnZGF0ZXBpY2tlci1kYXktdG9kYXknICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3RpdGxlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmlnYXRpb25fdGl0bGUuaHRtbCAoIHRoaXMub3B0aW9ucy5uYW1lcy5tb250aHNbdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCAoKV0gKyAnLCAnICsgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhciAoKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9pbnB1dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXRzLnZhbCAoIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyICgpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGggKCkgKyAnLScgKyB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXREYXRlICgpICkuY2hhbmdlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfcmVmcmVzaDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF9zZWxlY3RlZCAoKTtcbiAgICAgICAgICAgIHRoaXMuX3VuaGlnaGxpZ2h0X3RvZGF5ICgpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRfY2FsZW5kYXIgKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfdG9kYXkgKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdGl0bGUgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAncmVmcmVzaCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEFQSSAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCBmb3JtYXR0ZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZm9ybWF0dGVkICYmIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyICgpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGggKCkgKyAnLScgKyB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXREYXRlICgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggZGF0ZSApIHtcblxuICAgICAgICAgICAgaWYgKCBfLmlzU3RyaW5nICggZGF0ZSApICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnRzID0gZGF0ZS5zcGxpdCAoICctJyApLFxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUgKCBzZWdtZW50c1swXSwgc2VnbWVudHNbMV0sIHNlZ21lbnRzWzJdICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlICggZGF0ZSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggIV8uaXNOYU4gKCBkYXRlLnZhbHVlT2YgKCkgKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkID0gZGF0ZTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RnVsbFllYXIgKCkgPT09IHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCkgJiYgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGggKCkgPT09IHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodF9zZWxlY3RlZCAoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5zZXRGdWxsWWVhciAoIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyICgpICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0TW9udGggKCB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRNb250aCAoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZnJlc2ggKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG5hdmlnYXRlX21vbnRoOiBmdW5jdGlvbiAoIHN0ZXBzICkge1xuXG4gICAgICAgICAgICBpZiAoIHN0ZXBzICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5zZXRNb250aCAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCkgKyBzdGVwcyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJldl9tb250aDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlX21vbnRoICggLTEgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIG5leHRfbW9udGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIDEgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZGF0ZXBpY2tlcicpLmRhdGVwaWNrZXIgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBEUkFHR0FCTEUgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5kcmFnZ2FibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICcuZHJhZ2dhYmxlLWhhbmRsZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBfLnRydWUsIC8vSU5GTzogY2hlY2tzIGlmIHdlIGNhbiBkcmFnIGl0IG9yIG5vdFxuICAgICAgICAgICAgb25seV9oYW5kbGVyczogZmFsc2UsIC8vSU5GTzogb25seSBhbiBoYW5kbGVyIGNhbiBkcmFnIGl0IGFyb3VuZFxuICAgICAgICAgICAgcmV2ZXJ0YWJsZTogZmFsc2UsIC8vSU5GTzogb24gZHJhZ2VuZCB0YWtlIGl0IGJhY2sgdG8gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBsaW1pdCB0aGUgbW92ZW1lbnRzIHRvIHRoaXMgYXhpc1xuICAgICAgICAgICAgY29uc3RyYWluZXI6IHsgLy9JTkZPOiBjb25zdHJhaW4gdGhlIGRyYWcgaW5zaWRlIHRoZSAkZWxlbWVudCBvciBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICRlbGVtZW50OiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhpcyAkZWxlbWVudFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhlIGNvb3JkaW5hdGVzIC8vVE9ETzogaW1wbGVtZW50XG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICB4MTogMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgeDI6IDAsXG4gICAgICAgICAgICAgICAgLy8gICAgIHkxOiAwLFxuICAgICAgICAgICAgICAgIC8vICAgICB5MjogMFxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBjb25zdHJhaW5fY2VudGVyOiBmYWxzZSwgLy9JTkZPOiBzZXQgdGhlIGNvbnN0cmFpbiB0eXBlLCBpdCB3aWxsIGNvbnN0cmFpbiB0aGUgd2hvbGUgc2hhcGUsIG9yIHRoZSBjZW50ZXJcbiAgICAgICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGNvbnN0cmFpbiB0aGUgZHJhZ2dhYmxlIG9ubHkgaW4gYSBzcGVjaWZpYyBheGlzXG4gICAgICAgICAgICAgICAgdG9sbGVyYW5jZTogeyAvL0lORk86IHRoZSBhbW91bnQgb2YgcGl4ZWwgZmxleGliaWxpdHkgdGhhdCBhIGNvbnN0cmFpbmVyIGhhc1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGlmaWVyczogeyAvL0lORk86IGl0IGNhbiBtb2RpZnkgdGhlIHNldHRlZCBYIGFuZCBZIHRyYW5zZm9ybXMgdmFsdWVzXG4gICAgICAgICAgICAgICAgeDogXy50cnVlLFxuICAgICAgICAgICAgICAgIHk6IF8udHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGJlZm9yZXN0YXJ0OiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBtb3ZlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZW5kOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmRyYWdnYWJsZSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGRyYWdnYWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLm9ubHlfaGFuZGxlcnMgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVycyA9IHRoaXMuJGRyYWdnYWJsZS5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5oYW5kbGVyICk7IC8vRklYTUU6IGRvZXMgaXQgbWFrZSBzZW5zZSB0byBoYXZlIGhhbmRsZXJzIGluc2lkZSB0aGUgJGRyYWdnYWJsZT9cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5vbmx5X2hhbmRsZXJzICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRoYW5kbGVycywgJC5Qb2ludGVyLmRyYWdzdGFydCwgdGhpcy5fc3RhcnQgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGhhbmRsZXJzLCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX21vdmUgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGhhbmRsZXJzLCAkLlBvaW50ZXIuZHJhZ2VuZCwgdGhpcy5fZW5kICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoICQuUG9pbnRlci5kcmFnc3RhcnQsIHRoaXMuX3N0YXJ0ICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb24gKCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX21vdmUgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9lbmQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9zdGFydDogZnVuY3Rpb24gKCBldmVudCwgZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgKCk7XG5cbiAgICAgICAgICAgIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnYmVmb3Jlc3RhcnQnICk7XG5cbiAgICAgICAgICAgIHRoaXMubW90aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1fc3RyID0gdGhpcy4kZHJhZ2dhYmxlLmNzcyAoICd0cmFuc2Zvcm0nICksXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gICggdHJhbnNmb3JtX3N0ciAhPT0gJ25vbmUnICkgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoICggL1swLTkuLCAtXSsvIClbMF0uc3BsaXQgKCAnLCAnICkgOiBbMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFhZID0ge1xuICAgICAgICAgICAgICAgIFg6IHBhcnNlSW50ICggbWF0cml4WzRdLCAxMCApLFxuICAgICAgICAgICAgICAgIFk6IHBhcnNlSW50ICggbWF0cml4WzVdLCAxMCApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3N0YXJ0JywgXy5tZXJnZSAoIGRhdGEsIHsgaW5pdGlhbFhZOiB0aGlzLmluaXRpYWxYWSwgZHJhZ2dhYmxlOiB0aGlzLmRyYWdnYWJsZSwgJGRyYWdnYWJsZTogdGhpcy4kZHJhZ2dhYmxlIH0gKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX21vdmU6IGZ1bmN0aW9uICggZXZlbnQsIGRhdGEgKSB7IC8vVE9ETzogbWFrZSBpdCBtb3JlIHBlcmZvcm1hbnRcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm1vdGlvbiA9PT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWluZXJfb2Zmc2V0ID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50Lm9mZnNldCAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZV9vZmZzZXQgPSB0aGlzLiRkcmFnZ2FibGUub2Zmc2V0ICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9taW4gPSBjb25zdHJhaW5lcl9vZmZzZXQubGVmdCAtICggZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC0gdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpIC8gMiA6IDAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21heCA9IGNvbnN0cmFpbmVyX29mZnNldC5sZWZ0ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LndpZHRoICgpIC0gKCAoIGRyYWdnYWJsZV9vZmZzZXQubGVmdCAtIHRoaXMuaW5pdGlhbFhZLlggKSArIHRoaXMuJGRyYWdnYWJsZS53aWR0aCAoKSApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IHRoaXMuJGRyYWdnYWJsZS53aWR0aCAoKSAvIDIgOiAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVZX21pbiA9IGNvbnN0cmFpbmVyX29mZnNldC50b3AgLSAoIGRyYWdnYWJsZV9vZmZzZXQudG9wIC0gdGhpcy5pbml0aWFsWFkuWSApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC0gdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCAoKSAvIDIgOiAwICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSBjb25zdHJhaW5lcl9vZmZzZXQudG9wICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LmhlaWdodCAoKSAtICggKCBkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKSArIHRoaXMuJGRyYWdnYWJsZS5oZWlnaHQgKCkgKSArICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dhYmxlX29mZnNldCA9IHRoaXMuJGRyYWdnYWJsZS5vZmZzZXQgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVhfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngxIC0gKCBkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLSB0aGlzLiRkcmFnZ2FibGUud2lkdGggKCkgLyAyIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngyICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueDIgLSAoICggZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCApICsgdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVlfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkxIC0gKCBkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKSArICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyAtIHRoaXMuJGRyYWdnYWJsZS5oZWlnaHQgKCkgLyAyIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkyICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueTIgLSAoICggZHJhZ2dhYmxlX29mZnNldC50b3AgLSB0aGlzLmluaXRpYWxYWS5ZICkgKyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLSB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkaHRtbC5hZGRDbGFzcyAoICdkcmFnZ2luZycgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuYWRkQ2xhc3MgKCAnZHJhZ2dpbmcnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVggPSB0aGlzLmluaXRpYWxYWS5YICsgKCAoIHRoaXMub3B0aW9ucy5heGlzID09PSAneScgKSA/IDAgOiBkYXRhLmRlbHRhWFkuWCApLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSB0aGlzLmluaXRpYWxYWS5ZICsgKCAoIHRoaXMub3B0aW9ucy5heGlzID09PSAneCcgKSA/IDAgOiBkYXRhLmRlbHRhWFkuWSApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCB8fCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5heGlzICE9PSAneScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IF8uY2xhbXAgKCBfLmlzVW5kZWZpbmVkICggdGhpcy50cmFuc2xhdGVYX21pbiApID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVYX21pbiAtIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLngsIHRyYW5zbGF0ZVgsIF8uaXNVbmRlZmluZWQgKCB0aGlzLnRyYW5zbGF0ZVhfbWF4ICkgPyB1bmRlZmluZWQgOiB0aGlzLnRyYW5zbGF0ZVhfbWF4ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLnRvbGxlcmFuY2UueCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuYXhpcyAhPT0gJ3gnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSBfLmNsYW1wICggXy5pc1VuZGVmaW5lZCAoIHRoaXMudHJhbnNsYXRlWV9taW4gKSA/IHVuZGVmaW5lZCA6IHRoaXMudHJhbnNsYXRlWV9taW4gLSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIudG9sbGVyYW5jZS55LCB0cmFuc2xhdGVZLCBfLmlzVW5kZWZpbmVkICggdGhpcy50cmFuc2xhdGVZX21heCApID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVZX21heCArIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLnkgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRYWSA9IHtcbiAgICAgICAgICAgICAgICBYOiB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLnggKCB0cmFuc2xhdGVYICksXG4gICAgICAgICAgICAgICAgWTogdGhpcy5vcHRpb25zLm1vZGlmaWVycy55ICggdHJhbnNsYXRlWSApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgKCBfLmlzQm9vbGVhbiAoIG1vZGlmaWVkWFkuWCApID8gKCBtb2RpZmllZFhZLlggPyB0cmFuc2xhdGVYIDogdGhpcy5pbml0aWFsWFkuWCApIDogbW9kaWZpZWRYWS5YICkgKyAncHgsJyArICggXy5pc0Jvb2xlYW4gKCBtb2RpZmllZFhZLlkgKSA/ICggbW9kaWZpZWRYWS5ZID8gdHJhbnNsYXRlWSA6IHRoaXMuaW5pdGlhbFhZLlkgKSA6IG1vZGlmaWVkWFkuWSApICsgJ3B4LDApJyApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ21vdmUnLCBfLm1lcmdlICggZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBtb2RpZmllZFhZOiBtb2RpZmllZFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUgfSApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZW5kOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzRHJhZ2dhYmxlICkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMubW90aW9uID09PSB0cnVlICkge1xuXG4gICAgICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MgKCAnZHJhZ2dpbmcnICk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlLnJlbW92ZUNsYXNzICggJ2RyYWdnaW5nJyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMucmV2ZXJ0YWJsZSApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgdGhpcy5pbml0aWFsWFkuWCArICdweCwnICsgdGhpcy5pbml0aWFsWFkuWSArICdweCwwKScgKTsgLy9UT0RPOiBhbmltYXRlIGl0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdlbmQnLCBfLm1lcmdlICggZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUsIGRyYWdnZWQ6IHRoaXMubW90aW9uIH0gKSApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kcmFnZ2FibGUnKS5kcmFnZ2FibGUgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9GSVhNRTogaWYgdGhlIGFuY2hvciBpcyBoYWxmIG92ZXJmbG93aW5nIHRoZSB2aWV3cG9ydCBhdCB0aGUgbGVmdCwgYnV0IHN0aWxsIGlmIHRoZXJlJ3Mgc3BhY2UgYXQgdGhlIGJvdHRvbSB0aGUgcG9zaXRpb25hYmxlIGdldHMgcG9zaXRpb25hdGVkIGF0IHRoZSBib3R0b20sIGluc3RlYWQgb2YgdGhlIHJpZ2h0OiBtYXliZSBjcmVhdGUgYSBuZXcgbm9ybWFsaXplZCBhcmVhIG1hcCwgdGhhdCBnaXZlcyBtb3JlIGltcG9ydGFuY2UgdG8gdGhpcyB0aGluZ1xuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgYSAkcG9pbnRlciAoIHRoYXQgY2FuIGFsc28gYmUgYSBmdW5jdGlvbiApXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQT1NJVElPTkFURSAqL1xuXG4gICAgJC5mbi5wb3NpdGlvbmF0ZSA9IGZ1bmN0aW9uICggY3VzdG9tX29wdGlvbnMgKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSAoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBmYWxzZSwgLy9JTkZPOiBTZXQgYSBwcmVmZXJyZWQgZGlyZWN0aW9uXG4gICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBTZXQgYSBwcmVmZXJyZWQgYXhpc1xuICAgICAgICAgICAgJGFuY2hvcjogZmFsc2UsIC8vSU5GTzogUG9zaXRpb25hdGUgbmV4dCB0byBhbiAkYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgICAgICRwb2ludGVyOiBmYWxzZSwgLy9JTkZPOiBUaGUgZWxlbWVudCB3aG8gaXMgcG9pbnRpbmcgdG8gdGhlIGFuY2hvclxuICAgICAgICAgICAgcG9pbnQ6IGZhbHNlLCAvL0lORk86IFBvc2l0aW9hbnRlIGF0IGNvb3JkaW5hdGVzLCBleDogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9XG4gICAgICAgICAgICByYW5rczogeyAvL0lORk86IEhvdyB0aGUgZGlyZWN0aW9ucyBzaG91bGQgYmUgcHJpb3JpdGl6ZWQgd2hlbiBzZWxlY3RpbmcgdGhlIGB4YCBheGlzLCB0aGUgYHlgIGF4aXMsIG9yIGFsbCBvZiB0aGVtXG4gICAgICAgICAgICAgICAgeDogWydyaWdodCcsICdsZWZ0J10sXG4gICAgICAgICAgICAgICAgeTogWydib3R0b20nLCAndG9wJ10sXG4gICAgICAgICAgICAgICAgYWxsOiBbJ2JvdHRvbScsICdyaWdodCcsICdsZWZ0JywgJ3RvcCddXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25hdGVkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY3VzdG9tX29wdGlvbnMgKTtcblxuICAgICAgICAvLyBSRVNFVFRJTkdcblxuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzICggJ3Bvc2l0aW9uYXRlLXRvcCBwb3NpdGlvbmF0ZS1ib3R0b20gcG9zaXRpb25hdGUtbGVmdCBwb3NpdGlvbmF0ZS1yaWdodCcgKTtcblxuICAgICAgICAvLyBWQVJJQUJMRVNcblxuICAgICAgICB2YXIgZGlyZWN0aW9ucyA9IF8udW5pcXVlICggXy51bmlvbiAoIG9wdGlvbnMuZGlyZWN0aW9uID8gW29wdGlvbnMuZGlyZWN0aW9uXSA6IFtdLCBvcHRpb25zLmF4aXMgPyBvcHRpb25zLnJhbmtzW29wdGlvbnMuYXhpc10gOiBbXSwgb3B0aW9ucy5yYW5rcy5hbGwgKSApLFxuICAgICAgICAgICAgd2luZG93X3dpZHRoID0gJHdpbmRvdy53aWR0aCAoKSxcbiAgICAgICAgICAgIHdpbmRvd19oZWlnaHQgPSAkd2luZG93LmhlaWdodCAoKSxcbiAgICAgICAgICAgIGh0bWxfc2Nyb2xsVG9wID0gJGh0bWwuc2Nyb2xsVG9wICgpLFxuICAgICAgICAgICAgaHRtbF9zY3JvbGxMZWZ0ID0gJGh0bWwuc2Nyb2xsTGVmdCAoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uYWJsZV9vZmZzZXQgPSB0aGlzLm9mZnNldCAoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uYWJsZV93aWR0aCA9IHRoaXMub3V0ZXJXaWR0aCAoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uYWJsZV9oZWlnaHQgPSB0aGlzLm91dGVySGVpZ2h0ICgpLFxuICAgICAgICAgICAgYW5jaG9yX29mZnNldCA9IG9wdGlvbnMuJGFuY2hvciA/IG9wdGlvbnMuJGFuY2hvci5vZmZzZXQgKCkgOiB7IHRvcDogb3B0aW9ucy5wb2ludC55LCBsZWZ0OiBvcHRpb25zLnBvaW50LnggfSxcbiAgICAgICAgICAgIGFuY2hvcl93aWR0aCA9IG9wdGlvbnMuJGFuY2hvciA/IG9wdGlvbnMuJGFuY2hvci5vdXRlcldpZHRoICgpIDogMCxcbiAgICAgICAgICAgIGFuY2hvcl9oZWlnaHQgPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub3V0ZXJIZWlnaHQgKCkgOiAwO1xuXG4gICAgICAgIC8vIFNQQUNFU1xuXG4gICAgICAgIHZhciBzcGFjZXMgPSBfLm1hcCAoIGRpcmVjdGlvbnMsIGZ1bmN0aW9uICggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5jaG9yX29mZnNldC50b3AgLSBodG1sX3Njcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3dfaGVpZ2h0IC0gYW5jaG9yX29mZnNldC50b3AgLSBhbmNob3JfaGVpZ2h0ICsgaHRtbF9zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvcl9vZmZzZXQubGVmdCAtIGh0bWxfc2Nyb2xsTGVmdDtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvd193aWR0aCAtIGFuY2hvcl9vZmZzZXQubGVmdCAtIGFuY2hvcl93aWR0aCArIGh0bWxfc2Nyb2xsTGVmdDtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFSRUFTXG5cbiAgICAgICAgdmFyIGFyZWFzID0gXy5tYXAgKCBkaXJlY3Rpb25zLCBmdW5jdGlvbiAoIGRpcmVjdGlvbiwgaW5kZXggKSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoIGRpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluICggcG9zaXRpb25hYmxlX2hlaWdodCwgc3BhY2VzW2luZGV4XSApICogTWF0aC5taW4gKCB3aW5kb3dfd2lkdGgsIHBvc2l0aW9uYWJsZV93aWR0aCApO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4gKCBwb3NpdGlvbmFibGVfd2lkdGgsIHNwYWNlc1tpbmRleF0gKSAqIE1hdGgubWluICggd2luZG93X2hlaWdodCwgcG9zaXRpb25hYmxlX2hlaWdodCApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ0hPT1NJTkcgQSBESVJFQ1RJT05cblxuICAgICAgICB2YXIgY2hvc2VuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbnNbYXJlYXMuaW5kZXhPZiAoIF8ubWF4ICggYXJlYXMgKSApXTtcblxuICAgICAgICAvLyBHRVRUSU5HIFRPUCBBTkQgTEVGVFxuXG4gICAgICAgIHN3aXRjaCAoIGNob3Nlbl9kaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogYW5jaG9yX29mZnNldC5sZWZ0ICsgKCBhbmNob3Jfd2lkdGggLyAyICkgLSAoIHBvc2l0aW9uYWJsZV93aWR0aCAvIDIgKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAoIGNob3Nlbl9kaXJlY3Rpb24gPT09ICd0b3AnICkgPyBhbmNob3Jfb2Zmc2V0LnRvcCAtIHBvc2l0aW9uYWJsZV9oZWlnaHQgOiBhbmNob3Jfb2Zmc2V0LnRvcCArIGFuY2hvcl9oZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogYW5jaG9yX29mZnNldC50b3AgKyAoIGFuY2hvcl9oZWlnaHQgLyAyICkgLSAoIHBvc2l0aW9uYWJsZV9oZWlnaHQgLyAyICksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICggY2hvc2VuX2RpcmVjdGlvbiA9PT0gJ2xlZnQnICkgPyBhbmNob3Jfb2Zmc2V0LmxlZnQgLSBwb3NpdGlvbmFibGVfd2lkdGggOiBhbmNob3Jfb2Zmc2V0LmxlZnQgKyBhbmNob3Jfd2lkdGhcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDT05TVFJBSU4gVE8gVEhFIFdJTkRPV1xuXG4gICAgICAgIC8vVE9ETzogYWRkIGEgdmlld3BvcnQgY2hlY2sgaGVyZSwgd2Ugc2hvdWxkIHBvc2l0aW9uYXRlIGl0IHRvIHRoZSB2aWV3cG9ydCBpZiB0aGUgZWxlbWVudCBpcyBvdXRzaWRlIG9mIGl0XG5cbiAgICAgICAgY29vcmRpbmF0ZXMudG9wID0gXy5jbGFtcCAoIDAsIGNvb3JkaW5hdGVzLnRvcCwgd2luZG93X2hlaWdodCAtIHBvc2l0aW9uYWJsZV9oZWlnaHQgKTtcbiAgICAgICAgY29vcmRpbmF0ZXMubGVmdCA9IF8uY2xhbXAgKCAwLCBjb29yZGluYXRlcy5sZWZ0LCB3aW5kb3dfd2lkdGggLSBwb3NpdGlvbmFibGVfd2lkdGggKTtcblxuICAgICAgICAvLyBEQVRBU1xuXG4gICAgICAgIHZhciBkYXRhcyA9IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogY2hvc2VuX2RpcmVjdGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNFVFRJTkcgVE9QIEFORCBMRUZUXG5cbiAgICAgICAgdGhpcy5jc3MgKCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBjb29yZGluYXRlcy5sZWZ0ICsgJ3B4LCcgKyBjb29yZGluYXRlcy50b3AgKyAncHgsMCknICk7XG5cbiAgICAgICAgdGhpcy5hZGRDbGFzcyAoICdwb3NpdGlvbmF0ZS0nICsgY2hvc2VuX2RpcmVjdGlvbiApO1xuXG4gICAgICAgIC8vIFNFVFRJTkcgVEhFIFBPSU5URVJcblxuICAgICAgICBpZiAoIG9wdGlvbnMuJGFuY2hvciAmJiBvcHRpb25zLiRwb2ludGVyICkge1xuXG4gICAgICAgICAgICB2YXIgJHBvaW50ZXIgPSBfLmlzRnVuY3Rpb24gKCBvcHRpb25zLiRwb2ludGVyICkgPyBvcHRpb25zLiRwb2ludGVyICggZGF0YXMgKSA6IG9wdGlvbnMuJHBvaW50ZXI7XG5cbiAgICAgICAgICAgIGlmICggJHBvaW50ZXIgaW5zdGFuY2VvZiAkICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybV9zdHIgPSAkcG9pbnRlci5jc3MgKCAndHJhbnNmb3JtJyApLFxuICAgICAgICAgICAgICAgICAgICBtYXRyaXggPSAgKCB0cmFuc2Zvcm1fc3RyICE9PSAnbm9uZScgKSA/IHRyYW5zZm9ybV9zdHIubWF0Y2ggKCAvWzAtOS4sIC1dKy8gKVswXS5zcGxpdCAoICcsICcgKSA6IFswLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRlcl9wb3NpdGlvbiA9ICRwb2ludGVyLnBvc2l0aW9uICgpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICggY2hvc2VuX2RpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50ZXJfd2lkdGggPSAkcG9pbnRlci53aWR0aCAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVYID0gcGFyc2VJbnQgKCBtYXRyaXhbNF0sIDEwICkgKyAoICggYW5jaG9yX29mZnNldC5sZWZ0ICsgKCBhbmNob3Jfd2lkdGggLyAyICkgLSBodG1sX3Njcm9sbExlZnQgKSAtICggY29vcmRpbmF0ZXMubGVmdCArIHBvaW50ZXJfcG9zaXRpb24ubGVmdCArICggcG9pbnRlcl93aWR0aCAvIDIgKSApICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IHBhcnNlSW50ICggbWF0cml4WzVdLCAxMCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludGVyX2hlaWdodCA9ICRwb2ludGVyLmhlaWdodCAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVYID0gcGFyc2VJbnQgKCBtYXRyaXhbNF0sIDEwICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IHBhcnNlSW50ICggbWF0cml4WzVdLCAxMCApICsgKCAoIGFuY2hvcl9vZmZzZXQudG9wICsgKCBhbmNob3JfaGVpZ2h0IC8gMiApIC0gaHRtbF9zY3JvbGxUb3AgKSAtICggY29vcmRpbmF0ZXMudG9wICsgcG9pbnRlcl9wb3NpdGlvbi50b3AgKyAoIHBvaW50ZXJfaGVpZ2h0IC8gMiApICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHBvaW50ZXIuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCwwKScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDQUxMQkFDS1xuXG4gICAgICAgIG9wdGlvbnMuY2FsbGJhY2tzLnBvc2l0aW9uYXRlZCAoIGRhdGFzICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL3Bvc2l0aW9uYXRlL3Bvc2l0aW9uYXRlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBkZWxlZ2F0aW5nIHRoZSB0cmlnZ2VyIGNsaWNrLCBzbyB0aGF0IHdlIHN1cHBvcnQgdGhlIGNhc2Ugd2hlbiBhIHRyaWdnZXIgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIERPTSBkeW5hbWljYWxseVxuLy9UT0RPOiBhZGQgZHJvcGRvd24tY2xvc2VyXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciBhc3NpZ25tZW50cyA9IHt9O1xuXG4gICAgLyogRFJPUERPV04gKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5kcm9wZG93bicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93biA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiR0aXBzID0gdGhpcy4kZHJvcGRvd24uZmluZCAoICcuZHJvcGRvd24tdGlwJyApO1xuICAgICAgICAgICAgdGhpcy4kdG9wX3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyICggJy50b3AnICk7XG4gICAgICAgICAgICB0aGlzLiRyaWdodF90aXAgPSB0aGlzLiR0aXBzLmZpbHRlciAoICcucmlnaHQnICk7XG4gICAgICAgICAgICB0aGlzLiRib3R0b21fdGlwID0gdGhpcy4kdGlwcy5maWx0ZXIgKCAnLmJvdHRvbScgKTtcbiAgICAgICAgICAgIHRoaXMuJGxlZnRfdGlwID0gdGhpcy4kdGlwcy5maWx0ZXIgKCAnLmxlZnQnICk7XG4gICAgICAgICAgICB0aGlzLiRhY3Rpb25hYmxlcyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQgKCAnLmFjdGlvbmFibGUnICk7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiRkcm9wZG93bi5hdHRyICggJ2lkJyApO1xuXG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VycyA9ICQoJy5kcm9wZG93bi10cmlnZ2VyW2RhdGEtZHJvcGRvd249XCInICsgdGhpcy5pZCArICdcIl0nKTtcblxuICAgICAgICAgICAgdGhpcy5oYXNUaXBzID0gIXRoaXMuJGRyb3Bkb3duLmhhc0NsYXNzICggJ25vLXRpcCcgKTtcbiAgICAgICAgICAgIHRoaXMuaXNBdHRhY2hlZCA9IHRoaXMuJGRyb3Bkb3duLmhhc0NsYXNzICggJ2F0dGFjaGVkJyApO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHRyaWdnZXJzLCAnY2xpY2snLCB0aGlzLnRvZ2dsZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGFjdGlvbmFibGVzLCAnY2xpY2snLCB0aGlzLmNsb3NlICk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMuJGJ0bl9wYXJlbnRzLm9uICggJ3Njcm9sbCcsIHRoaXMudXBkYXRlICk7IC8vRklYTUU6IElmIHdlIGFyZSBkb2luZyBpdCBpbnRvIGEgc2Nyb2xsYWJsZSBjb250ZW50IGl0IHdpbGwgYmUgYSBwcm9ibGVtIGlmIHdlIGRvbid0IGhhbmRsZSBpdCwgdGhlIGRyb3Bkb3duIHdpbGwgbm90IG1vdmVcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFdJTkRPVyBSRVNJWkUgLyBTQ1JPTEwgKi9cblxuICAgICAgICBfYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICR3aW5kb3csICdyZXNpemUgc2Nyb2xsJywgdGhpcy5fdXBkYXRlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdW5iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICR3aW5kb3csICdyZXNpemUgc2Nyb2xsJywgdGhpcy5fdXBkYXRlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSU5ET1cgQ0xJQ0sgKi9cblxuICAgICAgICBfYmluZF93aW5kb3dfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkd2luZG93LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX3dpbmRvd19jbGljayApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuYmluZF93aW5kb3dfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmICggJHdpbmRvdywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl93aW5kb3dfY2xpY2sgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3dpbmRvd19jbGljazogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgdmFyICRwYXJlbnRzID0gJChldmVudC50YXJnZXQpLnBhcmVudHMgKCk7XG5cbiAgICAgICAgICAgIGlmICggJHBhcmVudHMuaW5kZXggKCB0aGlzLiRkcm9wZG93biApID09PSAtMSApIHsgLy9JTkZPOiBDaGVja2luZyBpZiB3ZSBjbGlja2VkIGluc2lkZSB0aGUgZHJvcGRvd24gb3IgYW5vdGhlciB0cmlnZ2VyIGZvciB0aGlzIGRyb3Bkb3duXG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLiR0cmlnZ2Vycy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBldmVudC50YXJnZXQgPT09IHRoaXMuJHRyaWdnZXJzLmdldCAoIGkgKSB8fCAkcGFyZW50cy5pbmRleCAoIHRoaXMuJHRyaWdnZXJzLmdldCAoIGkgKSApICE9PSAtMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBPU0lUSU9OQVRFICovXG5cbiAgICAgICAgX3Bvc2l0aW9uYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIFZhcmlhYmxlc1xuXG4gICAgICAgICAgICB2YXIgJHRyaWdnZXIgPSAkKGFzc2lnbm1lbnRzW3RoaXMuaWRdKSxcbiAgICAgICAgICAgICAgICBub190aXAgPSAkdHJpZ2dlci5oYXNDbGFzcyAoICduby10aXAnICkgfHwgIXRoaXMuaGFzVGlwcyB8fCB0aGlzLmlzQXR0YWNoZWQsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBQb3NpdGlvbmF0ZVxuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5wb3NpdGlvbmF0ZSAoe1xuICAgICAgICAgICAgICAgICRhbmNob3I6ICR0cmlnZ2VyLFxuICAgICAgICAgICAgICAgICRwb2ludGVyOiBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggIW5vX3RpcCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVsnJCcgKyBpbnN0YW5jZS5fZ2V0X29wcG9zaXRlX2RpcmVjdGlvbiAoIGRhdGEuZGlyZWN0aW9uICkgKyAnX3RpcCddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25hdGVkOiBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdHJpZ2dlci5hZGRDbGFzcyAoICdkcm9wZG93bi10cmlnZ2VyLScgKyBkYXRhLmRpcmVjdGlvbiApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb246IGZ1bmN0aW9uICggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2JvdHRvbSc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvcCc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wZW5lZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICggZXZlbnQsIHRyaWdnZXIgKSB7XG5cbiAgICAgICAgICAgIHRoaXNbKCB0aGlzLm9wZW5lZCAmJiBhc3NpZ25tZW50c1t0aGlzLmlkXSA9PT0gdHJpZ2dlciApID8gJ2Nsb3NlJyA6ICdvcGVuJ10oIGV2ZW50LCB0cmlnZ2VyICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoIGV2ZW50LCB0cmlnZ2VyICkge1xuXG4gICAgICAgICAgICBpZiAoIHRyaWdnZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAkKGFzc2lnbm1lbnRzW3RoaXMuaWRdKS5yZW1vdmVDbGFzcyAoICdkcm9wZG93bi10cmlnZ2VyLXRvcCBkcm9wZG93bi10cmlnZ2VyLWJvdHRvbSBkcm9wZG93bi10cmlnZ2VyLWxlZnQgZHJvcGRvd24tdHJpZ2dlci1yaWdodCBhY3RpdmUnICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3BlbmVkICYmIGFzc2lnbm1lbnRzW3RoaXMuaWRdICE9PSB0cmlnZ2VyICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duLmFkZENsYXNzICggJ21vdmluZycgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW3RoaXMuaWRdID0gdHJpZ2dlcjtcblxuICAgICAgICAgICAgICAgICQodHJpZ2dlcikuYWRkQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlICgpO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5hZGRDbGFzcyAoICdhY3RpdmUnICk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCB0aGlzLl9iaW5kX3dpbmRvd19jbGljayApOyAvL0ZJWE1FOiBXaHkgd2l0aG91dCB0aGUgZGVsYXkgaXQgZG9lc24ndCB3b3JrP1xuICAgICAgICAgICAgdGhpcy5fYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCAoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdvcGVuJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJChhc3NpZ25tZW50c1t0aGlzLmlkXSkucmVtb3ZlQ2xhc3MgKCAnZHJvcGRvd24tdHJpZ2dlci10b3AgZHJvcGRvd24tdHJpZ2dlci1ib3R0b20gZHJvcGRvd24tdHJpZ2dlci1sZWZ0IGRyb3Bkb3duLXRyaWdnZXItcmlnaHQgYWN0aXZlJyApO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5yZW1vdmVDbGFzcyAoICdhY3RpdmUgbW92aW5nJyApO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl91bmJpbmRfd2luZG93X2NsaWNrICgpO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsICgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2Nsb3NlJyApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kcm9wZG93bicpLmRyb3Bkb3duICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRVhQQU5ERVIgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5leHBhbmRlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlcjogJy5leHBhbmRlci10b2dnbGVyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnLmNvbnRhaW5lci1jb250ZW50J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICAgICAgb3BlbjogMjUwLFxuICAgICAgICAgICAgICAgIGNsb3NlOiAyNTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGV4cGFuZGVyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLiRleHBhbmRlci5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jb250ZW50ICk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuJGV4cGFuZGVyLmhhc0NsYXNzICggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3BlbiAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMudG9nZ2xlciwgdGhpcy50b2dnbGUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCBmb3JjZSApIHtcblxuICAgICAgICAgICAgaWYgKCAhXy5pc0Jvb2xlYW4gKCBmb3JjZSApICkge1xuXG4gICAgICAgICAgICAgICAgZm9yY2UgPSAhdGhpcy5vcGVuZWQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBmb3JjZSAhPT0gdGhpcy5vcGVuZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZvcmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXIudG9nZ2xlQ2xhc3MgKCAnb3BlbmVkJywgdGhpcy5vcGVuZWQgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRlbnRbdGhpcy5vcGVuZWQgPyAnc2xpZGVEb3duJyA6ICdzbGlkZVVwJ10oIHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSApOyAvL0ZJWE1FOiB0aGUgYW5pbWF0aW9uIGlzIHRvbyBleHBlbnNpdmVcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCB0aGlzLm9wZW5lZCA/ICdvcGVuJyA6ICdjbG9zZScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoIHRydWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlICggZmFsc2UpO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5leHBhbmRlcicpLmV4cGFuZGVyICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRkxJUFBBQkxFICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uZmxpcHBhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBmbGlwcGVyOiAnLmZsaXBwZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgZm9udDogXy5ub29wLFxuICAgICAgICAgICAgICAgIGJhY2s6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBmbGlwcGVkOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRmbGlwcGFibGUgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kZnJvbnQgPSB0aGlzLiRmbGlwcGFibGUuZmluZCAoICcuZmxpcHBhYmxlLWZyb250JyApO1xuICAgICAgICAgICAgdGhpcy4kYmFjayA9IHRoaXMuJGZsaXBwYWJsZS5maW5kICggJy5mbGlwcGFibGUtYmFjaycgKTtcblxuICAgICAgICAgICAgdGhpcy5pc0ZsaXBwZWQgPSB0aGlzLiRmbGlwcGFibGUuaGFzQ2xhc3MgKCAnZmxpcHBlZCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmZsaXBwZXIsIHRoaXMuZmxpcCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZmxpcDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmlzRmxpcHBlZCA9ICF0aGlzLmlzRmxpcHBlZDtcblxuICAgICAgICAgICAgdGhpcy4kZmxpcHBhYmxlLnRvZ2dsZUNsYXNzICggJ2ZsaXBwZWQnLCB0aGlzLmlzRmxpcHBlZCApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggdGhpcy5pc0ZsaXBwZWQgPyAnZnJvbnQnIDogJ2JhY2snICk7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2ZsaXBwZWQnICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmZsaXBwYWJsZS13cnAnKS5mbGlwcGFibGUgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBtYXliZSBzeW5jIGF0IHRoZSBpbml0IHRpbWUgYWxzb1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVkFSSUFCTEVTICovXG5cbiAgICB2YXIgc3luY2VkX2dyb3VwcyA9IFtdO1xuXG4gICAgLyogRk9STSBTWU5DICovXG5cbiAgICAkLmZuLmZvcm1TeW5jID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBzeW5jX2dyb3VwID0gJGZvcm0uZGF0YSAoICdzeW5jLWdyb3VwJyApO1xuXG4gICAgICAgICAgICBpZiAoIHN5bmNlZF9ncm91cHMuaW5kZXhPZiAoIHN5bmNfZ3JvdXAgKSAhPT0gLTEgKSByZXR1cm47XG5cbiAgICAgICAgICAgIHN5bmNlZF9ncm91cHMucHVzaCAoIHN5bmNfZ3JvdXAgKTtcblxuICAgICAgICAgICAgdmFyICRmb3JtcyA9ICQoJ2Zvcm1bZGF0YS1zeW5jLWdyb3VwPVwiJyArIHN5bmNfZ3JvdXAgKyAnXCJdJyksXG4gICAgICAgICAgICAgICAgJGVsZXMgPSAkZm9ybXMuZmluZCAoICdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcgKTtcblxuICAgICAgICAgICAgJGVsZXMuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICRlbGUuYXR0ciAoICduYW1lJyApLFxuICAgICAgICAgICAgICAgICAgICBpc19jaGVja2FibGUgPSAkZWxlLmlzICggJ1t0eXBlPVwicmFkaW9cIl0sIFt0eXBlPVwiY2hlY2tib3hcIl0nICksXG4gICAgICAgICAgICAgICAgICAgIGlzX3JhZGlvID0gaXNfY2hlY2thYmxlICYmICRlbGUuaXMgKCAnW3R5cGU9XCJyYWRpb1wiXScgKSxcbiAgICAgICAgICAgICAgICAgICAgaXNfdGV4dGJveCA9ICRlbGUuaXMgKCAnaW5wdXQsIHRleHRhcmVhJyApLFxuICAgICAgICAgICAgICAgICAgICBldmVudHMgPSBpc190ZXh0Ym94ID8gJ2lucHV0IGNoYW5nZScgOiAnY2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRfZm9ybSA9ICRlbGUucGFyZW50ICggJ2Zvcm0nICksXG4gICAgICAgICAgICAgICAgICAgICRvdGhlcl9mb3JtcyA9ICRmb3Jtcy5ub3QgKCAkY3VycmVudF9mb3JtICksXG4gICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGVzID0gJG90aGVyX2Zvcm1zLmZpbmQgKCAnW25hbWU9XCInICsgbmFtZSArICdcIl0nICk7XG5cbiAgICAgICAgICAgICAgICAkZWxlLm9uICggZXZlbnRzLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfdmFsdWUgPSAkZWxlLnZhbCAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfY2hlY2tlZCA9ICEhJGVsZS5wcm9wICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgJG90aGVyX2VsZXMuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRvdGhlcl9lbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyX3ZhbHVlID0gJG90aGVyX2VsZS52YWwgKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJfY2hlY2tlZCA9ICEhJG90aGVyX2VsZS5wcm9wICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNfcmFkaW8gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1cnJlbnRfdmFsdWUgIT09IG90aGVyX3ZhbHVlIHx8IGN1cnJlbnRfY2hlY2tlZCA9PT0gb3RoZXJfY2hlY2tlZCApIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggY3VycmVudF92YWx1ZSA9PT0gb3RoZXJfdmFsdWUgJiYgY3VycmVudF9jaGVja2VkID09PSBvdGhlcl9jaGVja2VkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNfY2hlY2thYmxlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG90aGVyX2VsZS5wcm9wICggJ2NoZWNrZWQnLCBjdXJyZW50X2NoZWNrZWQgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGUudmFsICggY3VycmVudF92YWx1ZSApLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2Zvcm1bZGF0YS1zeW5jLWdyb3VwXScpLmZvcm1TeW5jICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9qUXVlcnktZXh0cmEuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBMT0FESU5HICovXG5cbiAgICAkLmZuLmxvYWRpbmcgPSBmdW5jdGlvbiAoIGZvcmNlLCBjdXN0b21fb3B0aW9ucyApIHtcblxuICAgICAgICAvLyBPUFRJT05TXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfLm1lcmdlICh7XG4gICAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICAgIHdyYXBwZXI6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICBzcGlubmVyOiAnc2Vjb25kYXJ5J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBjdXN0b21fb3B0aW9ucyApO1xuXG4gICAgICAgIC8vIExPQURJTkdcblxuICAgICAgICB0aGlzLmFkZENsYXNzICggJ3NwaW5uZXItb3ZlcmxheS1hY3RpdmFibGUnICk7XG5cbiAgICAgICAgaWYgKCBfLmlzVW5kZWZpbmVkICggZm9yY2UgKSApIHtcblxuICAgICAgICAgICAgZm9yY2UgPSAhdGhpcy5oYXNDbGFzcyAoICdzcGlubmVyLW92ZXJsYXktYWN0aXZlJyApO1xuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJG92ZXJsYXkgPSB0aGlzLmNoaWxkcmVuICggJy5zcGlubmVyLW92ZXJsYXknICk7XG5cbiAgICAgICAgaWYgKCAkb3ZlcmxheS5sZW5ndGggPT09IDAgKSB7XG5cbiAgICAgICAgICAgIHRoaXMucHJlcGVuZCAoXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzcGlubmVyLW92ZXJsYXkgJyArIG9wdGlvbnMuY29sb3Iud3JhcHBlciArICdcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzcGlubmVyLXdycFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzcGlubmVyICcgKyBvcHRpb25zLmNvbG9yLnNwaW5uZXIgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjaXJjbGUtd3JwIGxlZnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjaXJjbGUtd3JwIHJpZ2h0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKCBmb3JjZSApIHtcblxuICAgICAgICAgICAgICAgICRvdmVybGF5LmF0dHIgKCAnY2xhc3MnLCAnc3Bpbm5lci1vdmVybGF5ICcgKyBvcHRpb25zLmNvbG9yLndyYXBwZXIgKTtcbiAgICAgICAgICAgICAgICAkb3ZlcmxheS5maW5kICggJy5zcGlubmVyJyApLmF0dHIgKCAnY2xhc3MnLCAnc3Bpbm5lciAnICsgb3B0aW9ucy5jb2xvci5zcGlubmVyICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgJC5yZWZsb3cgKCk7IC8vRklYTUU6IGlzIGl0IG5lZWRlZD9cblxuICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzICggJ3NwaW5uZXItb3ZlcmxheS1hY3RpdmUnLCBmb3JjZSApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIHN3aXBlIHRvIGRpc21pc3MgaW4gbW9iaWxlIGFuZCB0b3VjaHNjcmVlbiBlbmFibGVkIGRldmljZXNcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgdmFyIHRpbWVycyA9IFtdO1xuXG4gICAgLyogSEVMUEVSICovXG5cbiAgICAkLm5vdHkgPSBmdW5jdGlvbiAoIGN1c3RvbV9vcHRpb25zICkge1xuXG4gICAgICAgIC8vIEVYVEVORFxuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIF8uaXNTdHJpbmcgKCBjdXN0b21fb3B0aW9ucyApICkge1xuXG4gICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBjdXN0b21fb3B0aW9ucztcblxuICAgICAgICB9IGVsc2UgaWYgKCBfLmlzUGxhaW5PYmplY3QgKCBjdXN0b21fb3B0aW9ucyApICkge1xuXG4gICAgICAgICAgICBfLm1lcmdlICggb3B0aW9ucywgY3VzdG9tX29wdGlvbnMgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBvcHRpb25zLmJ1dHRvbnMgKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbnMudHlwZSA9ICdhY3Rpb24nO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOT1RZXG5cbiAgICAgICAgdmFyIG5vdHkgPSBuZXcgJC5wcmVzdG8ubm90eSAoIG9wdGlvbnMgKTtcblxuICAgICAgICBpZiAoIG9wdGlvbnMuYXV0b3BsYXkgKSB7XG5cbiAgICAgICAgICAgIG5vdHkub3BlbiAoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vdHk7XG5cbiAgICB9O1xuXG4gICAgLyogTk9UWSAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLm5vdHknLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICBiYXNlOiAnPGRpdiBjbGFzcz1cIm5vdHkgY29udGFpbmVyIHslPW8udHlwZSV9IHslPW8uY29sb3IlfSB7JT1vLmNzcyV9XCI+JyArIC8vVE9ETzogYWRkIGJhY2sgdHJhbnNwYXJlbnRpemVcbiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lci1jb250ZW50XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5mb2Jhci13cnAgaW5zZXQgeyU9by5jb2xvciV9XCI+JyArIC8vVE9ETzogYWRkIGJhY2sgdHJhbnNwYXJlbnRpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpZiAoIG8uaW1nICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuaW1nXCIsIG8uaW1nwqApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpbmZvYmFyLWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpZiAoIG8udGl0bGUgKSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS50aXRsZVwiLCBvLnRpdGxlICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGlmICggby5ib2R5ICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYm9keVwiLCBvLmJvZHkgKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpZiAoIG8uYnV0dG9ucy5sZW5ndGggPT09IDEgKSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5zaW5nbGVfYnV0dG9uXCIsIG8uYnV0dG9uc1swXSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpZiAoIG8uYnV0dG9ucy5sZW5ndGggPiAxICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYnV0dG9uc1wiLCBvLmJ1dHRvbnMgKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgIGltZzogJzxkaXYgY2xhc3M9XCJub3R5LWltZyBpbmZvYmFyLWxlZnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cInslPW8lfVwiIGNsYXNzPVwic21vb3RoXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICB0aXRsZTogJzxwIGNsYXNzPVwiaW5mb2Jhci10aXRsZVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAneyUjbyV9JyArXG4gICAgICAgICAgICAgICAgICAgJzwvcD4nLFxuICAgICAgICAgICAgYm9keTogJ3slI28lfScsXG4gICAgICAgICAgICBzaW5nbGVfYnV0dG9uOiAnPGRpdiBjbGFzcz1cImluZm9iYXItcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYnV0dG9uXCIsIG8gKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgYnV0dG9uczogJzxkaXYgY2xhc3M9XCJub3R5LWJ1dHRvbnMgbXVsdGlwbGUtd3JwIGNlbnRlcmVkXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtdWx0aXBsZVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgZm9yICggdmFyIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKyApIHsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5idXR0b25cIiwgb1tpXSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgfSAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgYnV0dG9uOiAnPGRpdiBjbGFzcz1cImxhYmVsLXdycCBidXR0b24td3JwXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsIGFjdGlvbmFibGUgeyU9KG8uY29sb3IgfHwgXCJ3aGl0ZVwiKSV9IHslPShvLnNpemUgfHwgXCJzbWFsbFwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJsYWJlbC1jZW50ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIyhvLnRleHQgfHwgXCJcIiklfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgYW5jaG9yOiB7XG4gICAgICAgICAgICAgICAgeTogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgeDogJ2xlZnQnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgICAgIHJlbW92ZTogMjAwXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBib2R5OiBmYWxzZSxcbiAgICAgICAgICAgIGltZzogZmFsc2UsXG4gICAgICAgICAgICBidXR0b25zOiBbXSxcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF8ubm9vcFxuICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgICAgICBjc3M6ICcnLFxuXG4gICAgICAgICAgICB0dGw6IDM1MDAsXG5cbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbm90eSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5ldmVyT3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaW5pdF9jbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsIHRoaXMuY2xvc2UgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfYnV0dG9uc19jbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHZhciAkYnV0dG9ucyA9IHRoaXMuJG5vdHkuZmluZCAoICcuYnV0dG9uLXdycCAubGFiZWwnICksXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgICAgIF8uZWFjaCAoIHRoaXMub3B0aW9ucy5idXR0b25zLCBmdW5jdGlvbiAoIGJ1dHRvbiwgaW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b24gPSAkYnV0dG9ucy5lcSAoIGluZGV4ICk7IC8vRklYTUU6IGl0IHdpbGwgbm90IHdvcmsgaWYgd2UgYWRkIGEgYnV0dG9uIHRvIHRoZSBib2R5IG1hbnVhbGx5XG5cbiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbi5vbiAoICdjbGljaycsIGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYnV0dG9uLm9uQ2xpY2sgKSBidXR0b24ub25DbGljay5jYWxsICggdGhpcywgZXZlbnQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfdGltZXI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGggPT09IDAgJiYgdGhpcy5vcHRpb25zLnR0bCAhPT0gJ2ZvcmV2ZXInICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9ICQudGltZXIgKCB0aGlzLmNsb3NlLmJpbmQgKCB0aGlzICksIHRoaXMub3B0aW9ucy50dGwsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIHRpbWVycy5wdXNoICggdGhpcy50aW1lciApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdF9ob3ZlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRub3R5LmhvdmVyICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoICggdGltZXJzLCBmdW5jdGlvbiAoIHRpbWVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyLnBhdXNlICgpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF8uZWFjaCAoIHRpbWVycywgZnVuY3Rpb24gKCB0aW1lciApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5yZW1haW5pbmcgKCBNYXRoLm1heCAoIDEwMDAsIHRpbWVyLnJlbWFpbmluZyAoKSB8fCAwICkgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5wbGF5ICgpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzT3BlbiApIHtcblxuICAgICAgICAgICAgICAgICQoJy5ub3R5LXF1ZXVlcy4nICsgdGhpcy5vcHRpb25zLmFuY2hvci55ICsgJyAubm90eS1xdWV1ZS4nICsgdGhpcy5vcHRpb25zLmFuY2hvci54KS5maXJzdCAoKS5hcHBlbmQgKCB0aGlzLiRub3R5ICk7XG5cbiAgICAgICAgICAgICAgICAkLnJlZmxvdyAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJG5vdHkuYWRkQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm5ldmVyT3BlbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfY2xpY2sgKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfYnV0dG9uc19jbGljayAoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdF9ob3ZlciAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldmVyT3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0X3RpbWVyICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdvcGVuJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMudGltZXIgKSB7XG5cbiAgICAgICAgICAgICAgICBfLnB1bGwgKCB0aW1lcnMsIHRoaXMudGltZXIgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIuc3RvcCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRub3R5LnJlbW92ZUNsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRub3R5LnJlbW92ZSAoKTtcblxuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLmRlbGF5LnJlbW92ZSApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2Nsb3NlJyApO1xuXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICRib2R5LmFwcGVuZCAoXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWVzIHRvcFwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBleHBhbmRlZFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZXMtcm93XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBsZWZ0XCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBjZW50ZXJcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIHJpZ2h0XCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcyBib3R0b21cIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWVzLXJvd1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgbGVmdFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgY2VudGVyXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSByaWdodFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgZXhwYW5kZWRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9sb2FkaW5nL2xvYWRpbmcuanNcbiAqIEByZXF1aXJlcyAuLi9ub3R5L25vdHkuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogY2hlY2sgaWYgaXQgd29ya3MsIGFsc28gZm9yIHVwbG9hZFxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRk9STSBBSkFYICovXG5cbiAgICAkLmZuLmZvcm1BamF4ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMub24gKCAnc3VibWl0JywgZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgKCk7IC8vRklYTUU6IERvZXMgaXQgd29yaz9cblxuICAgICAgICAgICAgJC5hamF4ICh7XG5cbiAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXcgRm9ybURhdGEgKCB0aGlzICksXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICRmb3JtLmF0dHIgKCAnbWV0aG9kJyApIHx8ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIgKCAnYWN0aW9uJyApLFxuXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmxvYWRpbmcgKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggcmVzICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggXy5pc1N0cmluZyAoIHJlcyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlc1swXSA9PT0gJzwnICkgeyAvL0lORk86IElzIEhUTUxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdUaGVyZSB3YXMgYW4gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gb3IgcmVwb3J0IHRoZSBwcm9ibGVtJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJvZHkuYXBwZW5kICggcmVzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCByZXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdUaGVyZSB3YXMgYW4gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gb3IgcmVwb3J0IHRoZSBwcm9ibGVtJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIHJlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIF8uaXNTdHJpbmcgKCByZXMgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZXMgPT09ICdyZWZyZXNoJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdEb25lISBSZWZyZXNoaW5nIHRoZSBwYWdlLi4uJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkICgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAvXigoXFxTKik/OlxcL1xcLyk/XFwvP1xcUyokLy50ZXN0ICggcmVzICkgKSB7IC8vSU5GTzogSXMgYW4gdXJsLCBlaXRoZXIgYWJzb2x1dGUgb3IgcmVsYXRpdmVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmVzID09PSB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCByZXMgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnRG9uZSEgUmVmcmVzaGluZyB0aGUgcGFnZS4uLicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdEb25lISBSZWRpcmVjdGluZy4uLicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24gKCByZXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggcmVzWzBdID09PSAnPCcgKSB7IC8vSU5GTzogSXMgSFRNTFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggJ0RvbmUhIEEgcGFnZSByZWZyZXNoIG1heSBiZSBuZWVkZWQgdG8gc2VlIHRoZSBjaGFuZ2VzJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJvZHkuYXBwZW5kICggcmVzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCByZXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdEb25lISBBIHBhZ2UgcmVmcmVzaCBtYXkgYmUgbmVlZGVkIHRvIHNlZSB0aGUgY2hhbmdlcycgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5sb2FkaW5nICggZmFsc2UgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2Zvcm0uYWpheCcpLmZvcm1BamF4ICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IG1heWJlIGFkZCB0aGUgYWJpbGl0eSB0byBvcGVuIGl0XG4vL1RPRE86IG1heWJlIGp1c3QgaGlkaW5nIGl0IG9uIGNsb3NlIGlzIGVub3VnaCwgZG8gd2UgZ2FpbiBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgdGhpcyB3YXk/XG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBJTkZPQkFSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uaW5mb2JhcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgY2xvc2VyOiAnLmluZm9iYXItY2xvc2VyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICAgICAgY2xvc2U6IDI1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRpbmZvYmFyID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNsb3NlciwgdGhpcy5jbG9zZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5mb2Jhci5hZGRDbGFzcyAoICdyZW1vdmUnICkuc2xpZGVVcCAoIHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSApOyAvL0ZJWE1FOiB0aGUgYW5pbWF0aW9uIGlzIHRvbyBleHBlbnNpdmVcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbmZvYmFyLnJlbW92ZSAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnY2xvc2UnICk7XG5cbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5pbmZvYmFyLXdycCcpLmluZm9iYXIgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBNT0RBTCAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLm1vZGFsJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBjbG9zZXI6ICcubW9kYWwtY2xvc2VyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbW9kYWwgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY2xvc2VyLCB0aGlzLmNsb3NlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2hhbmRsZXJfZXNjX2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVTQ0FQRSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbW9kYWwuYWRkQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2VzY19rZXlkb3duICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnb3BlbicgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG1vZGFsLnJlbW92ZUNsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfZXNjX2tleWRvd24gKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjbG9zZScgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcubW9kYWwnKS5tb2RhbCAoKTtcblxuICAgICAgICAkKCdbZGF0YS1tb2RhbC10cmlnZ2VyXScpLm9uICggJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyAvL1RPRE86IG1heWJlIGRvIHNvbWV0aGluZyBsaWtlIHRoaXMgZm9yIHRoZSBvdGhlciB0cmlnZ2FibGUgd2lkZ2V0cy4uLiBzbyB0aGF0IHdlIGRvbid0IGNhcmUgaWYgYSB0cmlnZ2VyIGNoYW5nZXMgb3IgaXMgYWRkZWQgZHluYW1pY2FsbHkgLy9UT0RPOiB1c2UgZGVsZWdhdGlvblxuXG4gICAgICAgICAgICAkKCcjJyArICQodGhpcykuZGF0YSAoICdtb2RhbC10cmlnZ2VyJyApKS5tb2RhbCAoICdpbnN0YW5jZScgKS5vcGVuICgpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IEFkZCBmbGljayBjYXBhYmlsaXRpZXMgKHNob3cgYW5kIGhpZGUgb24gZmxpY2sgaW4gdGhlIHJpZ2h0IGRpcmVjdGlvbiBhbmQgc3RhcnRpbmcgd2l0aGluIHRoZSByaWdodCB6b25lKVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTkFWQkFSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8ubmF2YmFyJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmJhciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiR3cnAgPSB0aGlzLiRuYXZiYXIucGFyZW50ICgpO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kbmF2YmFyLmF0dHIgKCAnaWQnICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGNsb3NlcnMgPSB0aGlzLiR3cnAuZmluZCAoICcubmF2YmFyLWNsb3NlcicgKTtcbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXJzID0gJCgnLm5hdmJhci10cmlnZ2VyW2RhdGEtbmF2YmFyPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gdGhpcy4kd3JwLmhhc0NsYXNzICggJ29wZW5lZCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogQ0xPU0VSIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kY2xvc2VycywgJ2NsaWNrJywgdGhpcy5jbG9zZSApO1xuXG4gICAgICAgICAgICAvKiBUUklHR0VSIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kdHJpZ2dlcnMsICdjbGljaycsIHRoaXMub3BlbiApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoIGZvcmNlICkge1xuXG4gICAgICAgICAgICBpZiAoIF8uaXNVbmRlZmluZWQgKCBmb3JjZSApICkge1xuXG4gICAgICAgICAgICAgICAgZm9yY2UgPSAhdGhpcy5vcGVuZWQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBmb3JjZSAhPT0gdGhpcy5vcGVuZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZvcmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kd3JwLnRvZ2dsZUNsYXNzICggJ29wZW5lZCcsIHRoaXMub3BlbmVkICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggdGhpcy5vcGVuZWQgPyAnb3BlbicgOiAnY2xvc2UnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUgKCB0cnVlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoIGZhbHNlICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLm5hdmJhcicpLm5hdmJhciAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL25vdHkvbm90eS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiBJZiB0aGUgdGFiIGhhc24ndCB0aGUgZm9jdXMgYW5kIHdlIGNhbiB1c2UgdGhlIG5hdGl2ZSBub3RpZmljYXRpb25zIHRoYW4gd2UnbGwgc2VuZCBhIG5hdGl2ZSBub3RpZmljYXRpb24sIG90aGVyd2lzZSB3ZSB3aWxsIGZhbGxiYWNrIHRvIGEgbm90eVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTk9USUZJQ0FUSU9OICovXG5cbiAgICAkLm5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICggY3VzdG9tX29wdGlvbnMgKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSAoe1xuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbWc6IGZhbHNlXG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zICk7XG5cbiAgICAgICAgLy8gTk9USUZJQ0FUSU9OXG5cbiAgICAgICAgaWYgKCAhZG9jdW1lbnQuaGFzRm9jdXMgKCkgJiYgd2luZG93Lk5vdGlmaWNhdGlvbiAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPT0gJ2RlbmllZCcgKSB7XG5cbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbiAoIGZ1bmN0aW9uICggc3RhdHVzICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzdGF0dXMgPT09ICdncmFudGVkJyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbiAoIG9wdGlvbnMudGl0bGUsIHsgYm9keTogb3B0aW9ucy5ib2R5LCBpY29uOiBvcHRpb25zLmltZyB9ICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICQubm90eSAoIG9wdGlvbnMgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgJC5ub3R5ICggb3B0aW9ucyApO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29va2llL2Nvb2tpZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiB0aGUgcGlwZSBjaGFyYWN0ZXIgKHwpIGlzIGZvcmJpZGRlbiBpbnNpZGUgYSBuYW1lLCBjb29raWUncyB0dGwgaXMgMSB5ZWFyXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIG90aGVyIGNvb2tpZSBzZXR0YWJsZSBwYXJhbWV0ZXJzXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBPTkUgVElNRSBBQ1RJT04gKi9cblxuICAgICQub25lVGltZUFjdGlvbiA9IGZ1bmN0aW9uICggY3VzdG9tX29wdGlvbnMsIGFjdGlvbiApIHtcblxuICAgICAgICAvLyBPUFRJT05TXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjb250YWluZXI6ICdvdGEnLCAvL0lORk86IHRoZSBjb29raWUgbmFtZSB0aGF0IGhvbGRzIHRoZSBhY3Rpb25zLCBhIG5hbWVzcGFjZSBmb3IgcmVsYXRlZCBhY3Rpb25zIGJhc2ljYWxseVxuICAgICAgICAgICAgZXhwaXJ5OiBJbmZpbml0eSwgLy9JTkZPOiB0aGUgZXhwaXJlIHRpbWUgb2YgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgbmFtZTogZmFsc2UsIC8vSU5GTzogdGhlIGFjdGlvbiBuYW1lXG4gICAgICAgICAgICBhY3Rpb246IGZhbHNlIC8vSU5GTzogdGhlIGFjdGlvbiB0byBleGVjdXRlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCBfLmlzU3RyaW5nICggY3VzdG9tX29wdGlvbnMgKSApIHtcblxuICAgICAgICAgICAgb3B0aW9ucy5uYW1lID0gY3VzdG9tX29wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICggXy5pc0Z1bmN0aW9uICggYWN0aW9uICkgKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLmFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIF8uaXNQbGFpbk9iamVjdCAoIGN1c3RvbV9vcHRpb25zICkgKSB7XG5cbiAgICAgICAgICAgIF8ubWVyZ2UgKCBvcHRpb25zLCBjdXN0b21fb3B0aW9ucyApO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPTkUgVElNRSBBQ1RJT05cblxuICAgICAgICBpZiAoIG9wdGlvbnMubmFtZSApIHtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyBBY3Rpb24gKCBvcHRpb25zLmNvbnRhaW5lciwgb3B0aW9ucy5uYW1lICk7XG5cbiAgICAgICAgICAgIGlmICggb3B0aW9ucy5hY3Rpb24gJiYgIWFjdGlvbi5nZXQgKCkgKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLmFjdGlvbiAoKTtcblxuICAgICAgICAgICAgICAgIGFjdGlvbi5zZXQgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcblxuICAgICAgICB9IGVsc2UgaWYgKCBvcHRpb25zLmNvbnRhaW5lciApIHtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb250YWluZXIgKCBvcHRpb25zLmNvbnRhaW5lciwgb3B0aW9ucy5leHBpcnkgKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyogQ09OVEFJTkVSIE9CSiAqL1xuXG4gICAgdmFyIENvbnRhaW5lciA9IGZ1bmN0aW9uICggbmFtZSwgZXhwaXJ5ICkge1xuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZXhwaXJ5ID0gZXhwaXJ5O1xuXG4gICAgICAgIHRoaXMuYWN0aW9uc1N0ciA9ICQuY29va2llLmdldCAoIHRoaXMubmFtZSApIHx8ICcnO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSB0aGlzLmFjdGlvbnNTdHIubGVuZ3RoID4gMCA/IHRoaXMuYWN0aW9uc1N0ci5zcGxpdCAoICd8JyApIDogW107XG5cbiAgICB9O1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICggYWN0aW9uICkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5jb250YWlucyAoIHRoaXMuYWN0aW9ucywgYWN0aW9uICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggYWN0aW9uICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmdldCAoIGFjdGlvbiApICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnB1c2ggKCBhY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zU3RyID0gdGhpcy5hY3Rpb25zLmpvaW4gKCAnfCcgKTtcblxuICAgICAgICAgICAgJC5jb29raWUuc2V0ICggdGhpcy5uYW1lLCB0aGlzLmFjdGlvbnNTdHIsIHRoaXMuZXhwaXJ5ICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCBhY3Rpb24gKSB7XG5cbiAgICAgICAgICAgIGlmICggYWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgXy5wdWxsICggdGhpcy5hY3Rpb25zLCBhY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlICgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJC5jb29raWUucmVtb3ZlICggdGhpcy5uYW1lICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyogQUNUSU9OIE9CSiAqL1xuXG4gICAgdmFyIEFjdGlvbiA9IGZ1bmN0aW9uICggY29udGFpbmVyLCBuYW1lLCBhY3Rpb24gKSB7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgQ29udGFpbmVyICggY29udGFpbmVyICk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICB9O1xuXG4gICAgQWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldCAoIHRoaXMubmFtZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnNldCAoIHRoaXMubmFtZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVzZXQgKCB0aGlzLm5hbWUgKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiB0aGlzIHdheSBvZiBleGVudGluZyB0aGUgcHJvcGVydHkgZXJhc2VzIHByZXZpb3VzIHNldHRlZCBzdHlsZXMgKHN5bmNlIGEgYXJyYXkgaXMgZXh0ZW5kZWQgd2l0aCBhIGNvcHksIHdlIGFyZSBub3QgZXh0ZW5kaW5nIHRoZSBjaGlsZHJlbilcbi8vVE9ETzogbWFrZSB0ZW1wbGF0ZXMgRFJZXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQUklWQVRFICovXG5cbiAgICB2YXIgZ2VuZXJhdGVfb3B0aW9ucyA9IGZ1bmN0aW9uICggb3B0aW9ucywgbXVsdGlwbGUgKSB7XG5cbiAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIG11bHRpcGxlICkgKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfb3B0aW9ucyA9IHsgcGVyY2VudGFnZXM6IEFycmF5ICggYXJndW1lbnRzLmxlbmd0aCApIH07XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICBuZXdfb3B0aW9ucy5wZXJjZW50YWdlc1tpXSA9IF8uaXNOdW1iZXIgKCBhcmd1bWVudHNbaV0gKSA/IHsgdmFsdWU6IGFyZ3VtZW50c1tpXSB9IDogYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmFyIG5ld19vcHRpb25zID0gXy5pc051bWJlciAoIG9wdGlvbnMgKSA/IHsgcGVyY2VudGFnZXM6IFt7IHZhbHVlOiBvcHRpb25zIH1dIH0gOiAoIG9wdGlvbnMucGVyY2VudGFnZXMgPyBvcHRpb25zIDogeyBwZXJjZW50YWdlczogW29wdGlvbnNdIH0gKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19vcHRpb25zO1xuXG4gICAgfTtcblxuICAgIC8qIEhFTFBFUiAqL1xuXG4gICAgJC5wcm9ncmVzc0JhciA9IGZ1bmN0aW9uICggb3B0aW9ucywgbXVsdGlwbGUgKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IGdlbmVyYXRlX29wdGlvbnMuYXBwbHkgKCBudWxsLCBhcmd1bWVudHMgKTtcblxuICAgICAgICByZXR1cm4gbmV3ICQucHJlc3RvLnByb2dyZXNzQmFyICggb3B0aW9ucyApO1xuXG4gICAgfTtcblxuICAgIC8qIFBST0dSRVNTIEJBUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnByb2dyZXNzQmFyJywge1xuXG4gICAgICAgIC8qIFRFTVBMQVRFUyAqL1xuXG4gICAgICAgIHRlbXBsYXRlczoge1xuICAgICAgICAgICAgYmFzZTogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0JhciB7JT0oby5zdHJpcGVkID8gXCJzdHJpcGVkXCIgOiBcIlwiKSV9IHslPW8uY29sb3IlfSB7JT1vLnNpemUlfSB7JT1vLmNzcyV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci11bmhpZ2hsaWdodGVkXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIucGVyY2VudGFnZXNcIiArICggby5sYWJlbGVkID8gXCJfbGFiZWxlZFwiIDogXCJcIiApLCBvLnBlcmNlbnRhZ2VzICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItc3RyaXBlc1wiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICBwZXJjZW50YWdlczogJ3slIGZvciAoIHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKysgKSB7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIucGVyY2VudGFnZVwiLCBvW2ldICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3slIH0gJX0nLFxuICAgICAgICAgICAgcGVyY2VudGFnZXNfbGFiZWxlZDogJ3slIGZvciAoIHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKysgKSB7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGluY2x1ZGUgKCBcInByZXN0by5wcm9ncmVzc0Jhci5wZXJjZW50YWdlX2xhYmVsZWRcIiwgb1tpXSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIH0gJX0nLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1oaWdobGlnaHRlZCB7JT0oby5jb2xvciB8fCBcIlwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+PC9kaXY+JyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VfbGFiZWxlZDogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1oaWdobGlnaHRlZCB7JT0oby5jb2xvciB8fCBcIlwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnByb2dyZXNzQmFyLmxhYmVsXCIsIHt9ICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgbGFiZWw6ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItbGFiZWxcIj48L2Rpdj4nXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VzOiBbXSxcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgICAgIHNpemU6ICcnLFxuICAgICAgICAgICAgY3NzOiAnJyxcblxuICAgICAgICAgICAgc3RyaXBlZDogZmFsc2UsXG4gICAgICAgICAgICBsYWJlbGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGRlY2ltYWxzOiAwLFxuXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBmdWxsOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRwcm9ncmVzc0JhciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZHMgPSB0aGlzLiRwcm9ncmVzc0Jhci5maW5kICggJy5wcm9ncmVzc0Jhci1oaWdobGlnaHRlZCcgKTtcbiAgICAgICAgICAgIHRoaXMuJHN0cmlwZXMgPSB0aGlzLiRwcm9ncmVzc0Jhci5maW5kICggJy5wcm9ncmVzc0Jhci1zdHJpcGVzJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmluaXRpYWxpemF0aW9uVHlwZSAhPT0gJ2VsZW1lbnQnICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLm9wdGlvbnMucGVyY2VudGFnZXMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRoaWdobGlnaHRlZCA9IHRoaXMuJGhpZ2hsaWdodGVkcy5lcSAoIGkgKTtcblxuICAgICAgICAgICAgICAgICRoaWdobGlnaHRlZC53aWR0aCAoIHRoaXMub3B0aW9ucy5wZXJjZW50YWdlc1tpXS52YWx1ZSArICclJyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMubGFiZWxlZCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJGxhYmVsID0gJGhpZ2hsaWdodGVkLmZpbmQgKCAnLnByb2dyZXNzQmFyLWxhYmVsJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICRsYWJlbC5odG1sICggKyh0aGlzLm9wdGlvbnMucGVyY2VudGFnZXNbaV0udmFsdWUpLnRvRml4ZWQgKCB0aGlzLm9wdGlvbnMuZGVjaW1hbHMgKSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdW0gPSBfLmNsYW1wICggMCwgXy5zdW0gKCB0aGlzLmdldCAoKS5zbGljZSAoIDAsIHRoaXMuJGhpZ2hsaWdodGVkcy5sZW5ndGggKSApLCAxMDAgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc3RyaXBlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0cmlwZXMud2lkdGggKCBzdW0gKyAnJScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHN1bSA9PT0gMTAwICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdmdWxsJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIF8ubWFwICggdGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzLCBmdW5jdGlvbiAoIHBlcmNlbnRhZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyY2VudGFnZS52YWx1ZTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggb3B0aW9ucywgbXVsdGlwbGUgKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBnZW5lcmF0ZV9vcHRpb25zLmFwcGx5ICggbnVsbCwgYXJndW1lbnRzICk7XG5cbiAgICAgICAgICAgIF8ubWVyZ2UgKCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMgKTsgLy9GSVhNRTogZG9lcyB0aGUgbWVyZ2Ugd29yayBoZXJlPyBvciB3ZSBtb2RpZnkgdGhlIG9yaWdpbmFsIG9wdGlvbnM/XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSAoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICd1cGRhdGUnICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnByb2dyZXNzQmFyJykuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRwcm9ncmVzc0JhciA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdHJpcGVkOiAkcHJvZ3Jlc3NCYXIuaGFzQ2xhc3MgKCAnc3RyaXBlZCcgKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxlZDogISEkcHJvZ3Jlc3NCYXIuZmluZCAoICcucHJvZ3Jlc3NCYXItbGFiZWwnICkubGVuZ3RoXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHByb2dyZXNzQmFyLmZpbmQgKCAnLnByb2dyZXNzQmFyLWhpZ2hsaWdodGVkJyApLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLnBlcmNlbnRhZ2VzLnB1c2ggKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhcnNlRmxvYXQgKCB0aGlzLnN0eWxlLndpZHRoIClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRwcm9ncmVzc0Jhci5wcm9ncmVzc0JhciAoIG9wdGlvbnMgKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCIvKiBodHRwOi8vcHJpc21qcy5jb20vZG93bmxvYWQuaHRtbD90aGVtZXM9cHJpc20mbGFuZ3VhZ2VzPW1hcmt1cCtjc3MrY3NzLWV4dHJhcytjbGlrZStqYXZhc2NyaXB0ICovXG5zZWxmPXR5cGVvZiB3aW5kb3chPVwidW5kZWZpbmVkXCI/d2luZG93OnR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSE9XCJ1bmRlZmluZWRcIiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlP3NlbGY6e307dmFyIFByaXNtPWZ1bmN0aW9uKCl7dmFyIGU9L1xcYmxhbmcoPzp1YWdlKT8tKD8hXFwqKShcXHcrKVxcYi9pLHQ9c2VsZi5QcmlzbT17dXRpbDp7ZW5jb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygbj9uZXcgbihlLnR5cGUsdC51dGlsLmVuY29kZShlLmNvbnRlbnQpLGUuYWxpYXMpOnQudXRpbC50eXBlKGUpPT09XCJBcnJheVwiP2UubWFwKHQudXRpbC5lbmNvZGUpOmUucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC9cXHUwMGEwL2csXCIgXCIpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xcW29iamVjdCAoXFx3KylcXF0vKVsxXX0sY2xvbmU6ZnVuY3Rpb24oZSl7dmFyIG49dC51dGlsLnR5cGUoZSk7c3dpdGNoKG4pe2Nhc2VcIk9iamVjdFwiOnZhciByPXt9O2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPXQudXRpbC5jbG9uZShlW2ldKSk7cmV0dXJuIHI7Y2FzZVwiQXJyYXlcIjpyZXR1cm4gZS5zbGljZSgpfXJldHVybiBlfX0sbGFuZ3VhZ2VzOntleHRlbmQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj10LnV0aWwuY2xvbmUodC5sYW5ndWFnZXNbZV0pO2Zvcih2YXIgaSBpbiBuKXJbaV09bltpXTtyZXR1cm4gcn0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsbixyLGkpe2k9aXx8dC5sYW5ndWFnZXM7dmFyIHM9aVtlXTtpZihhcmd1bWVudHMubGVuZ3RoPT0yKXtyPWFyZ3VtZW50c1sxXTtmb3IodmFyIG8gaW4gcilyLmhhc093blByb3BlcnR5KG8pJiYoc1tvXT1yW29dKTtyZXR1cm4gc312YXIgdT17fTtmb3IodmFyIGEgaW4gcylpZihzLmhhc093blByb3BlcnR5KGEpKXtpZihhPT1uKWZvcih2YXIgbyBpbiByKXIuaGFzT3duUHJvcGVydHkobykmJih1W29dPXJbb10pO3VbYV09c1thXX10Lmxhbmd1YWdlcy5ERlModC5sYW5ndWFnZXMsZnVuY3Rpb24odCxuKXtuPT09aVtlXSYmdCE9ZSYmKHRoaXNbdF09dSl9KTtyZXR1cm4gaVtlXT11fSxERlM6ZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe24uY2FsbChlLGksZVtpXSxyfHxpKTt0LnV0aWwudHlwZShlW2ldKT09PVwiT2JqZWN0XCI/dC5sYW5ndWFnZXMuREZTKGVbaV0sbik6dC51dGlsLnR5cGUoZVtpXSk9PT1cIkFycmF5XCImJnQubGFuZ3VhZ2VzLkRGUyhlW2ldLG4saSl9fX0saGlnaGxpZ2h0QWxsOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnKTtmb3IodmFyIGk9MCxzO3M9cltpKytdOyl0LmhpZ2hsaWdodEVsZW1lbnQocyxlPT09ITAsbil9LGhpZ2hsaWdodEVsZW1lbnQ6ZnVuY3Rpb24ocixpLHMpe3ZhciBvLHUsYT1yO3doaWxlKGEmJiFlLnRlc3QoYS5jbGFzc05hbWUpKWE9YS5wYXJlbnROb2RlO2lmKGEpe289KGEuY2xhc3NOYW1lLm1hdGNoKGUpfHxbLFwiXCJdKVsxXTt1PXQubGFuZ3VhZ2VzW29dfWlmKCF1KXJldHVybjtyLmNsYXNzTmFtZT1yLmNsYXNzTmFtZS5yZXBsYWNlKGUsXCJcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKStcIiBsYW5ndWFnZS1cIitvO2E9ci5wYXJlbnROb2RlOy9wcmUvaS50ZXN0KGEubm9kZU5hbWUpJiYoYS5jbGFzc05hbWU9YS5jbGFzc05hbWUucmVwbGFjZShlLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikrXCIgbGFuZ3VhZ2UtXCIrbyk7dmFyIGY9ci50ZXh0Q29udGVudDtpZighZilyZXR1cm47dmFyIGw9e2VsZW1lbnQ6cixsYW5ndWFnZTpvLGdyYW1tYXI6dSxjb2RlOmZ9O3QuaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodFwiLGwpO2lmKGkmJnNlbGYuV29ya2VyKXt2YXIgYz1uZXcgV29ya2VyKHQuZmlsZW5hbWUpO2Mub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2wuaGlnaGxpZ2h0ZWRDb2RlPW4uc3RyaW5naWZ5KEpTT04ucGFyc2UoZS5kYXRhKSxvKTt0Lmhvb2tzLnJ1bihcImJlZm9yZS1pbnNlcnRcIixsKTtsLmVsZW1lbnQuaW5uZXJIVE1MPWwuaGlnaGxpZ2h0ZWRDb2RlO3MmJnMuY2FsbChsLmVsZW1lbnQpO3QuaG9va3MucnVuKFwiYWZ0ZXItaGlnaGxpZ2h0XCIsbCl9O2MucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2xhbmd1YWdlOmwubGFuZ3VhZ2UsY29kZTpsLmNvZGV9KSl9ZWxzZXtsLmhpZ2hsaWdodGVkQ29kZT10LmhpZ2hsaWdodChsLmNvZGUsbC5ncmFtbWFyLGwubGFuZ3VhZ2UpO3QuaG9va3MucnVuKFwiYmVmb3JlLWluc2VydFwiLGwpO2wuZWxlbWVudC5pbm5lckhUTUw9bC5oaWdobGlnaHRlZENvZGU7cyYmcy5jYWxsKHIpO3QuaG9va3MucnVuKFwiYWZ0ZXItaGlnaGxpZ2h0XCIsbCl9fSxoaWdobGlnaHQ6ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPXQudG9rZW5pemUoZSxyKTtyZXR1cm4gbi5zdHJpbmdpZnkodC51dGlsLmVuY29kZShzKSxpKX0sdG9rZW5pemU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXQuVG9rZW4scz1bZV0sbz1uLnJlc3Q7aWYobyl7Zm9yKHZhciB1IGluIG8pblt1XT1vW3VdO2RlbGV0ZSBuLnJlc3R9ZTpmb3IodmFyIHUgaW4gbil7aWYoIW4uaGFzT3duUHJvcGVydHkodSl8fCFuW3VdKWNvbnRpbnVlO3ZhciBhPW5bdV07YT10LnV0aWwudHlwZShhKT09PVwiQXJyYXlcIj9hOlthXTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoOysrZil7dmFyIGw9YVtmXSxjPWwuaW5zaWRlLGg9ISFsLmxvb2tiZWhpbmQscD0wLGQ9bC5hbGlhcztsPWwucGF0dGVybnx8bDtmb3IodmFyIHY9MDt2PHMubGVuZ3RoO3YrKyl7dmFyIG09c1t2XTtpZihzLmxlbmd0aD5lLmxlbmd0aClicmVhayBlO2lmKG0gaW5zdGFuY2VvZiBpKWNvbnRpbnVlO2wubGFzdEluZGV4PTA7dmFyIGc9bC5leGVjKG0pO2lmKGcpe2gmJihwPWdbMV0ubGVuZ3RoKTt2YXIgeT1nLmluZGV4LTErcCxnPWdbMF0uc2xpY2UocCksYj1nLmxlbmd0aCx3PXkrYixFPW0uc2xpY2UoMCx5KzEpLFM9bS5zbGljZSh3KzEpLHg9W3YsMV07RSYmeC5wdXNoKEUpO3ZhciBUPW5ldyBpKHUsYz90LnRva2VuaXplKGcsYyk6ZyxkKTt4LnB1c2goVCk7UyYmeC5wdXNoKFMpO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyx4KX19fX1yZXR1cm4gc30saG9va3M6e2FsbDp7fSxhZGQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj10Lmhvb2tzLmFsbDtyW2VdPXJbZV18fFtdO3JbZV0ucHVzaChuKX0scnVuOmZ1bmN0aW9uKGUsbil7dmFyIHI9dC5ob29rcy5hbGxbZV07aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm47Zm9yKHZhciBpPTAscztzPXJbaSsrXTspcyhuKX19fSxuPXQuVG9rZW49ZnVuY3Rpb24oZSx0LG4pe3RoaXMudHlwZT1lO3RoaXMuY29udGVudD10O3RoaXMuYWxpYXM9bn07bi5zdHJpbmdpZnk9ZnVuY3Rpb24oZSxyLGkpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXJldHVybiBlO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09XCJbb2JqZWN0IEFycmF5XVwiKXJldHVybiBlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5zdHJpbmdpZnkodCxyLGUpfSkuam9pbihcIlwiKTt2YXIgcz17dHlwZTplLnR5cGUsY29udGVudDpuLnN0cmluZ2lmeShlLmNvbnRlbnQscixpKSx0YWc6XCJzcGFuXCIsY2xhc3NlczpbXCJ0b2tlblwiLGUudHlwZV0sYXR0cmlidXRlczp7fSxsYW5ndWFnZTpyLHBhcmVudDppfTtzLnR5cGU9PVwiY29tbWVudFwiJiYocy5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s9XCJ0cnVlXCIpO2lmKGUuYWxpYXMpe3ZhciBvPXQudXRpbC50eXBlKGUuYWxpYXMpPT09XCJBcnJheVwiP2UuYWxpYXM6W2UuYWxpYXNdO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHMuY2xhc3NlcyxvKX10Lmhvb2tzLnJ1bihcIndyYXBcIixzKTt2YXIgdT1cIlwiO2Zvcih2YXIgYSBpbiBzLmF0dHJpYnV0ZXMpdSs9YSsnPVwiJysocy5hdHRyaWJ1dGVzW2FdfHxcIlwiKSsnXCInO3JldHVyblwiPFwiK3MudGFnKycgY2xhc3M9XCInK3MuY2xhc3Nlcy5qb2luKFwiIFwiKSsnXCIgJyt1K1wiPlwiK3MuY29udGVudCtcIjwvXCIrcy50YWcrXCI+XCJ9O2lmKCFzZWxmLmRvY3VtZW50KXtpZighc2VsZi5hZGRFdmVudExpc3RlbmVyKXJldHVybiBzZWxmLlByaXNtO3NlbGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihlKXt2YXIgbj1KU09OLnBhcnNlKGUuZGF0YSkscj1uLmxhbmd1YWdlLGk9bi5jb2RlO3NlbGYucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkodC51dGlsLmVuY29kZSh0LnRva2VuaXplKGksdC5sYW5ndWFnZXNbcl0pKSkpO3NlbGYuY2xvc2UoKX0sITEpO3JldHVybiBzZWxmLlByaXNtfXZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO3I9cltyLmxlbmd0aC0xXTtpZihyKXt0LmZpbGVuYW1lPXIuc3JjO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJiFyLmhhc0F0dHJpYnV0ZShcImRhdGEtbWFudWFsXCIpJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHQuaGlnaGxpZ2h0QWxsKX1yZXR1cm4gc2VsZi5QcmlzbX0oKTt0eXBlb2YgbW9kdWxlIT1cInVuZGVmaW5lZFwiJiZtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPVByaXNtKTs7XG5QcmlzbS5sYW5ndWFnZXMubWFya3VwPXtjb21tZW50Oi88IS0tW1xcd1xcV10qPy0tPi9nLHByb2xvZzovPFxcPy4rP1xcPz4vLGRvY3R5cGU6LzwhRE9DVFlQRS4rPz4vLGNkYXRhOi88IVxcW0NEQVRBXFxbW1xcd1xcV10qP11dPi9pLHRhZzp7cGF0dGVybjovPFxcLz9bXFx3Oi1dK1xccyooPzpcXHMrW1xcdzotXSsoPzo9KD86KFwifCcpKFxcXFw/W1xcd1xcV10pKj9cXDF8W15cXHMnXCI+PV0rKSk/XFxzKikqXFwvPz4vZ2ksaW5zaWRlOnt0YWc6e3BhdHRlcm46L148XFwvP1tcXHc6LV0rL2ksaW5zaWRlOntwdW5jdHVhdGlvbjovXjxcXC8/LyxuYW1lc3BhY2U6L15bXFx3LV0rPzovfX0sXCJhdHRyLXZhbHVlXCI6e3BhdHRlcm46Lz0oPzooJ3xcIilbXFx3XFxXXSo/KFxcMSl8W15cXHM+XSspL2dpLGluc2lkZTp7cHVuY3R1YXRpb246Lz18PnxcIi9nfX0scHVuY3R1YXRpb246L1xcLz8+L2csXCJhdHRyLW5hbWVcIjp7cGF0dGVybjovW1xcdzotXSsvZyxpbnNpZGU6e25hbWVzcGFjZTovXltcXHctXSs/Oi99fX19LGVudGl0eTovXFwmIz9bXFxkYS16XXsxLDh9Oy9naX0sUHJpc20uaG9va3MuYWRkKFwid3JhcFwiLGZ1bmN0aW9uKHQpe1wiZW50aXR5XCI9PT10LnR5cGUmJih0LmF0dHJpYnV0ZXMudGl0bGU9dC5jb250ZW50LnJlcGxhY2UoLyZhbXA7LyxcIiZcIikpfSk7O1xuUHJpc20ubGFuZ3VhZ2VzLmNzcz17Y29tbWVudDovXFwvXFwqW1xcd1xcV10qP1xcKlxcLy9nLGF0cnVsZTp7cGF0dGVybjovQFtcXHctXSs/Lio/KDt8KD89XFxzKnspKS9naSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9bOzpdL2d9fSx1cmw6L3VybFxcKChbXCInXT8pLio/XFwxXFwpL2dpLHNlbGVjdG9yOi9bXlxce1xcfVxcc11bXlxce1xcfTtdKig/PVxccypcXHspL2cscHJvcGVydHk6LyhcXGJ8XFxCKVtcXHctXSsoPz1cXHMqOikvZ2ksc3RyaW5nOi8oXCJ8JykoXFxcXD8uKSo/XFwxL2csaW1wb3J0YW50Oi9cXEIhaW1wb3J0YW50XFxiL2dpLHB1bmN0dWF0aW9uOi9bXFx7XFx9OzpdL2csXCJmdW5jdGlvblwiOi9bLWEtejAtOV0rKD89XFwoKS9naX0sUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCYmKFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIixcInRhZ1wiLHtzdHlsZTp7cGF0dGVybjovPHN0eWxlW1xcd1xcV10qPz5bXFx3XFxXXSo/PFxcL3N0eWxlPi9naSxpbnNpZGU6e3RhZzp7cGF0dGVybjovPHN0eWxlW1xcd1xcV10qPz58PFxcL3N0eWxlPi9naSxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlfSxyZXN0OlByaXNtLmxhbmd1YWdlcy5jc3N9LGFsaWFzOlwibGFuZ3VhZ2UtY3NzXCJ9fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImluc2lkZVwiLFwiYXR0ci12YWx1ZVwiLHtcInN0eWxlLWF0dHJcIjp7cGF0dGVybjovXFxzKnN0eWxlPShcInwnKS4rP1xcMS9naSxpbnNpZGU6e1wiYXR0ci1uYW1lXCI6e3BhdHRlcm46L15cXHMqc3R5bGUvZ2ksaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZX0scHVuY3R1YXRpb246L15cXHMqPVxccypbJ1wiXXxbJ1wiXVxccyokLyxcImF0dHItdmFsdWVcIjp7cGF0dGVybjovLisvZ2ksaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5jc3N9fSxhbGlhczpcImxhbmd1YWdlLWNzc1wifX0sUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpKTs7XG5QcmlzbS5sYW5ndWFnZXMuY3NzLnNlbGVjdG9yPXtwYXR0ZXJuOi9bXlxce1xcfVxcc11bXlxce1xcfV0qKD89XFxzKlxceykvZyxpbnNpZGU6e1wicHNldWRvLWVsZW1lbnRcIjovOig/OmFmdGVyfGJlZm9yZXxmaXJzdC1sZXR0ZXJ8Zmlyc3QtbGluZXxzZWxlY3Rpb24pfDo6Wy1cXHddKy9nLFwicHNldWRvLWNsYXNzXCI6LzpbLVxcd10rKD86XFwoLipcXCkpPy9nLFwiY2xhc3NcIjovXFwuWy06XFwuXFx3XSsvZyxpZDovI1stOlxcLlxcd10rL2d9fSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3NzXCIsXCJpZ25vcmVcIix7aGV4Y29kZTovI1tcXGRhLWZdezMsNn0vZ2ksZW50aXR5Oi9cXFxcW1xcZGEtZl17MSw4fS9naSxudW1iZXI6L1tcXGQlXFwuXSsvZ30pOztcblByaXNtLmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxcXF0pXFwvXFwqW1xcd1xcV10qP1xcKlxcLy9nLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcXFw6XSlcXC9cXC8uKj8oXFxyP1xcbnwkKS9nLGxvb2tiZWhpbmQ6ITB9XSxzdHJpbmc6LyhcInwnKShcXFxcPy4pKj9cXDEvZyxcImNsYXNzLW5hbWVcIjp7cGF0dGVybjovKCg/Oig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXFxzKyl8KD86Y2F0Y2hcXHMrXFwoKSlbYS16MC05X1xcLlxcXFxdKy9naSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246LyhcXC58XFxcXCkvfX0sa2V5d29yZDovXFxiKGlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi9nLFwiYm9vbGVhblwiOi9cXGIodHJ1ZXxmYWxzZSlcXGIvZyxcImZ1bmN0aW9uXCI6e3BhdHRlcm46L1thLXowLTlfXStcXCgvZ2ksaW5zaWRlOntwdW5jdHVhdGlvbjovXFwoL319LG51bWJlcjovXFxiLT8oMHhbXFxkQS1GYS1mXSt8XFxkKlxcLj9cXGQrKFtFZV0tP1xcZCspPylcXGIvZyxvcGVyYXRvcjovWy0rXXsxLDJ9fCF8PD0/fD49P3w9ezEsM318JnsxLDJ9fFxcfD9cXHx8XFw/fFxcKnxcXC98XFx+fFxcXnxcXCUvZyxpZ25vcmU6LyYobHR8Z3R8YW1wKTsvZ2kscHVuY3R1YXRpb246L1t7fVtcXF07KCksLjpdL2d9OztcblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0PVByaXNtLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtrZXl3b3JkOi9cXGIoYnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmFsc2V8ZmluYWxseXxmb3J8ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnVlfHRyeXx0eXBlb2Z8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcXGIvZyxudW1iZXI6L1xcYi0/KDB4W1xcZEEtRmEtZl0rfFxcZCpcXC4/XFxkKyhbRWVdLT9cXGQrKT98TmFOfC0/SW5maW5pdHkpXFxiL2d9KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiamF2YXNjcmlwdFwiLFwia2V5d29yZFwiLHtyZWdleDp7cGF0dGVybjovKF58W14vXSlcXC8oPyFcXC8pKFxcWy4rP118XFxcXC58W14vXFxyXFxuXSkrXFwvW2dpbV17MCwzfSg/PVxccyooJHxbXFxyXFxuLC47fSldKSkvZyxsb29rYmVoaW5kOiEwfX0pLFByaXNtLmxhbmd1YWdlcy5tYXJrdXAmJlByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIixcInRhZ1wiLHtzY3JpcHQ6e3BhdHRlcm46LzxzY3JpcHRbXFx3XFxXXSo/PltcXHdcXFddKj88XFwvc2NyaXB0Pi9naSxpbnNpZGU6e3RhZzp7cGF0dGVybjovPHNjcmlwdFtcXHdcXFddKj8+fDxcXC9zY3JpcHQ+L2dpLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGV9LHJlc3Q6UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9LGFsaWFzOlwibGFuZ3VhZ2UtamF2YXNjcmlwdFwifX0pOztcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUkFESU8gKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5yYWRpbycsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kcmFkaW8gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRyYWRpby5maW5kICggJ2lucHV0JyApO1xuXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLiRpbnB1dC5hdHRyICggJ25hbWUnICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuJHJhZGlvLnBhcmVudHMgKCAnZm9ybScgKS5maXJzdCAoKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiRjb250YWluZXIubGVuZ3RoID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJGRvY3VtZW50O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJG90aGVyX3JhZGlvcyA9IHRoaXMuJGNvbnRhaW5lci5maW5kICggJ2lucHV0W25hbWU9XCInICsgdGhpcy5uYW1lICsgJ1wiXScgKS5wYXJlbnQgKCAnLnJhZGlvJyApLm5vdCAoIHRoaXMuJHJhZGlvICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkgeyAvL0ZJWE1FOiBpcyBpdCBuZWNlc3NhcnkgdG8gaW5jbHVkZSBpdD8gTWF5YmUgd2Ugc2hvdWxkIGZpeCBtaXN0YWtlcyB3aXRoIHRoZSBtYXJrdXAuLi5cblxuICAgICAgICAgICAgdmFyIGhhc0NsYXNzID0gdGhpcy4kcmFkaW8uaGFzQ2xhc3MgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmdldCAoKSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggIWhhc0NsYXNzICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJhZGlvLmFkZENsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGhhc0NsYXNzICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcmFkaW8ucmVtb3ZlQ2xhc3MgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2sgKCk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSB0aGlzLmdldCAoKTtcblxuICAgICAgICAgICAgaWYgKCBpc0NoZWNrZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRvdGhlcl9yYWRpb3MucmVtb3ZlQ2xhc3MgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRyYWRpby50b2dnbGVDbGFzcyAoICdjaGVja2VkJywgaXNDaGVja2VkICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBpc0NoZWNrZWQgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRpbnB1dC5wcm9wICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjaGVjazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmdldCAoKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnByb3AgKCAnY2hlY2tlZCcsIHRydWUgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5yYWRpbycpLnJhZGlvICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUklQUExFICovXG5cbiAgICB2YXIgUmlwcGxlID0ge1xuXG4gICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICBzaG93OiAzNTAsXG4gICAgICAgICAgICBoaWRlOiA0MDBcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbiAoIGV2ZW50LCAkZWxlbWVudCApIHtcblxuICAgICAgICAgICAgdmFyICRyaXBwbGUgPSAkKCAnPGRpdiBjbGFzcz1cInJpcHBsZS1jaXJjbGVcIj48L2Rpdj4nICkuYXBwZW5kVG8gKCAkZWxlbWVudCApLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICRlbGVtZW50Lm9mZnNldCAoKSxcbiAgICAgICAgICAgICAgICBldmVudFhZID0gJC5ldmVudFhZICggZXZlbnQgKSxcbiAgICAgICAgICAgICAgICBub3cgPSBfLm5vdyAoKTtcblxuICAgICAgICAgICAgJHJpcHBsZS5jc3MgKHtcbiAgICAgICAgICAgICAgICB0b3A6IGV2ZW50WFkuWSAtIG9mZnNldC50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogZXZlbnRYWS5YIC0gb2Zmc2V0LmxlZnRcbiAgICAgICAgICAgIH0pLmFkZENsYXNzICggJ3JpcHBsZS1jaXJjbGUtc2hvdycgKTtcblxuICAgICAgICAgICAgJGVsZW1lbnQub24gKCAnbW91c2V1cCBtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgUmlwcGxlLmhpZGUgKCAkcmlwcGxlLCBub3cgKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoICRyaXBwbGUsIGJlZm9yZSApIHtcblxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5tYXggKCAwLCBSaXBwbGUuZGVsYXkuc2hvdyArIGJlZm9yZSAtIF8ubm93ICgpICk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkcmlwcGxlLmFkZENsYXNzICggJ3JpcHBsZS1jaXJjbGUtaGlkZScgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJHJpcHBsZS5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgICAgICB9LCBSaXBwbGUuZGVsYXkuaGlkZSApO1xuXG4gICAgICAgICAgICB9LCBkZWxheSApO1xuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICRib2R5Lm9uICggJ21vdXNlZG93bicsICcucmlwcGxlJywgZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5idXR0b24gPT09ICQudWkubW91c2VCdXR0b24uUklHSFQgKSByZXR1cm47XG5cbiAgICAgICAgICAgIFJpcHBsZS5zaG93ICggZXZlbnQsICQodGhpcykgKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBBZGQgc3VwcG9ydCBmb3Igc2VsZWN0aW5nIG11bHRpcGxlIG9wdGlvbnMgKHdpdGggY2hlY2tib3hlcyBtYXliZSlcbi8vRklYTUU6IERvZXNuJ3Qgd29yayB3aGVuIHRoZSBwYWdlIGlzIHNjcm9sbGVkIChjaGVjayBpbiB0aGUgY29tcG9uZW50cy9mb3JtKVxuLy9UT0RPOiBhZGQgc2VsZWN0LWNsb3NlclxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU0VMRUNUICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uc2VsZWN0Jywge1xuXG4gICAgICAgIC8qIFRFTVBMQVRFUyAqL1xuXG4gICAgICAgIHRlbXBsYXRlczoge1xuICAgICAgICAgICAgYmFzZTogJzxkaXYgaWQ9XCJkcm9wZG93bi17JT1vLmlkJX1cIiBjbGFzcz1cImRyb3Bkb3duIHNlbGVjdC1kcm9wZG93biBhdHRhY2hlZFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWNvbnRlbnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXVsdGlwbGUtd3JwIHZlcnRpY2FsIHN0cmV0Y2hlZCBqb2luZWRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm11bHRpcGxlXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBmb3IgKCB2YXIgaSA9IDAsIGwgPSBvLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrICkgeyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGluY2x1ZGUgKCBcInByZXN0by5zZWxlY3QuXCIgKyAoIG8ub3B0aW9uc1tpXS52YWx1ZSA/IFwib3B0aW9uXCIgOiBcIm9wdGdyb3VwXCIgKSwgby5vcHRpb25zW2ldICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSB9ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICBvcHRncm91cDogJzxkaXYgY2xhc3M9XCJkaXZpZGVyLXdycCBibG9ja1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRpdmlkZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JT1vLnByb3AlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICBvcHRpb246ICc8ZGl2IGNsYXNzPVwibGFiZWwtd3JwIGJ1dHRvbi13cnBcIiBkYXRhLXZhbHVlPVwieyU9by5wcm9wJX1cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGFiZWwgYWN0aW9uYWJsZSBzaGFycFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGFiZWwtY2VudGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JT1vLnZhbHVlJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHNlbGVjdCA9IHRoaXMuJHRyaWdnZXIuZmluZCAoICdzZWxlY3QnICk7XG4gICAgICAgICAgICB0aGlzLiRvcHRpb25zID0gdGhpcy4kc2VsZWN0LmZpbmQgKCAnb3B0aW9uJyApO1xuICAgICAgICAgICAgdGhpcy4kc2VsZWN0X2xhYmVsID0gdGhpcy4kdHJpZ2dlci5maW5kICggJy5zZWxlY3QtbGFiZWwnICk7XG4gICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlciA9IHRoaXMuJHRyaWdnZXIuZmluZCAoICcudmFsdWVob2xkZXInICk7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiR0cmlnZ2VyLmRhdGEgKCAnc2VsZWN0JyApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuJHZhbHVlaG9sZGVyLmxlbmd0aCA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHZhbHVlaG9sZGVyID0gdGhpcy4kc2VsZWN0X2xhYmVsO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucyA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhbHVlaG9sZGVyICgpO1xuXG4gICAgICAgICAgICBpZiAoICEkLmJyb3dzZXIuaXNNb2JpbGUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzZWxlY3QuYWRkQ2xhc3MgKCAnaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF9zZWxlY3Rfb3B0aW9ucyAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0X2Ryb3Bkb3duICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc2VsZWN0LCAnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlICgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICggISQuYnJvd3Nlci5pc01vYmlsZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kYnV0dG9ucywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9idXR0b25fY2xpY2sgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQlVUVE9OIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoIGV2ZW50LCBidXR0b24gKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHNlbGVjdC52YWwgKCAkKGJ1dHRvbikuZGF0YSAoICd2YWx1ZScgKSApLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9pbml0X3NlbGVjdF9vcHRpb25zOiBmdW5jdGlvbiAoKSB7IC8vRklYTUU6IEFkZCBzdXBwb3J0IGZvciBhcmJpdHJhcnkgbnVtYmVyIG9mIG9wdGdyb3VwcyBsZXZlbHNcblxuICAgICAgICAgICAgdmFyIHByZXZpb3VzX29wdGdyb3VwLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRfb3B0Z3JvdXA7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRoaXMuJG9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRvcHRpb24gPSB0aGlzLiRvcHRpb25zLmVxICggaSApLFxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50ID0gJG9wdGlvbi5wYXJlbnQgKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICRwYXJlbnQuaXMgKCAnb3B0Z3JvdXAnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudF9vcHRncm91cCA9ICRwYXJlbnQuYXR0ciAoICdsYWJlbCcgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1cnJlbnRfb3B0Z3JvdXAgIT09IHByZXZpb3VzX29wdGdyb3VwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c19vcHRncm91cCA9IGN1cnJlbnRfb3B0Z3JvdXA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMucHVzaCAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A6IGN1cnJlbnRfb3B0Z3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMucHVzaCAoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJG9wdGlvbi5odG1sICgpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wOiAkb3B0aW9uLmF0dHIgKCAndmFsdWUnIClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfZHJvcGRvd246IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl90bXBsICggJ2Jhc2UnLCB7IGlkOiB0aGlzLmlkLCBvcHRpb25zOiB0aGlzLnNlbGVjdF9vcHRpb25zIH0gKTtcblxuICAgICAgICAgICAgJGJvZHkuYXBwZW5kICggaHRtbCApO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93biA9ICQoJyNkcm9wZG93bi0nICsgdGhpcy5pZCk7XG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bl9jb250YWluZXIgPSB0aGlzLiRkcm9wZG93bi5maW5kICggJy5jb250YWluZXInICk7XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zID0gdGhpcy4kZHJvcGRvd24uZmluZCAoICcuYnV0dG9uLXdycCcgKTtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlci5hZGRDbGFzcyAoICdkcm9wZG93bi10cmlnZ2VyJyApLmF0dHIgKCAnZGF0YS1kcm9wZG93bicsICdkcm9wZG93bi0nICsgdGhpcy5pZCApO1xuXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5kcm9wZG93biAoe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fc2V0X2Ryb3Bkb3duX3dpZHRoLmJpbmQgKCBpbnN0YW5jZSApKCk7IC8vRklYTUU6IGlzIHRoZSBiaW5kIG5lY2Vzc2FyeT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl90cmlnZ2VyICggJ29wZW4nICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlOiBpbnN0YW5jZS5vcHRpb25zLmNhbGxiYWNrcy5jbG9zZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfZHJvcGRvd24gKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3ZhbHVlaG9sZGVyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkc2VsZWN0ZWRfb3B0aW9uID0gdGhpcy4kb3B0aW9ucy5maWx0ZXIgKCAnW3ZhbHVlPVwiJyArIHRoaXMuJHNlbGVjdC52YWwgKCkgKyAnXCJdJyApO1xuXG4gICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlci5odG1sICggJHNlbGVjdGVkX29wdGlvbi5odG1sICgpICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2Ryb3Bkb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMucmVtb3ZlQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLmZpbHRlciAoICdbZGF0YS12YWx1ZT1cIicgKyB0aGlzLiRzZWxlY3QudmFsICgpICsgJ1wiXScgKS5hZGRDbGFzcyAoICdhY3RpdmUnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0X2Ryb3Bkb3duX3dpZHRoOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duX2NvbnRhaW5lci5jc3MgKCAnbWluLXdpZHRoJywgdGhpcy4kdHJpZ2dlci53aWR0aCAoKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLmZpbHRlciAoICdbZGF0YS12YWx1ZT1cIicgKyB2YWx1ZSArICdcIl0nICkuY2xpY2sgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCAhJC5icm93c2VyLmlzTW9iaWxlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2Ryb3Bkb3duICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YWx1ZWhvbGRlciAoKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc2VsZWN0LXRyaWdnZXInKS5zZWxlY3QgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIGRyb3Bkb3duIGZvciBhY3Rpb25zIEFORC9PUiByaWdodCBjbGljayBmb3IgYWN0aW9uXG4vL0ZJWE1FOiBtYWtlIGl0IHdvcmthYmxlIHdpdGggc29ydGluZyAodXBkYXRlIGFmdGVyIHNvcnRpbmcgc2luY2Ugd2UgbWF5KVxuLy9UT0RPOiBtYWtlIGl0IHdvcmsgd2l0aCBjaGVja2JveGVzXG4vL0ZJWE1FOiBzZWxlY3QgbXVsdGlwbGUgd2l0aCBzaGlmdCwgdGhlbiBqdXN0IGNsaWNrIGluc2lkZSB0aGUgc2VsZWN0aW9uLCB0aGUgY2xpY2tlZCBlbGVtZW50IGRvZXNuJ3QgZ2V0IHNlbGVjdGVkXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQUklWQVRFICovXG5cbiAgICB2YXIgY2xlYXJfc2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICggZG9jdW1lbnQuc2VsZWN0aW9uICkge1xuXG4gICAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkgKCk7XG5cbiAgICAgICAgfSBlbHNlIGlmICggd2luZG93LmdldFNlbGVjdGlvbiApIHtcblxuICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbiAoKS5yZW1vdmVBbGxSYW5nZXMgKCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qIFNFTEVDVEFCTEUgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5zZWxlY3RhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ3Rib2R5IHRyOm5vdCguZW1wdHkpJyxcbiAgICAgICAgICAgIHNlbGVjdGVkX2NsYXNzOiAnc2VsZWN0ZWQnLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRyb3dzID0gdGhpcy5fZ2V0X3Jvd3MgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3JvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZW5kX3JvdyA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8qIEtFWVMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfa2V5c19pbiApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9rZXlzX291dCApO1xuXG4gICAgICAgICAgICAvKiBNT1VTRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWRvd24nLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsIHRoaXMuX2hhbmRsZXJfbW91c2Vkb3duICk7XG5cbiAgICAgICAgICAgIC8qIE9USEVSUyAqL1xuXG4gICAgICAgICAgICAvL0ZJWE1FOiBhZGQgc3VwcG9ydCB0YWJsZUhlbHBlciBhbmQgc29ydGFibGVcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2hhbmdlIHNvcnQnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWRvd24gbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfY2xlYXJfc2VsZWN0aW9uICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDVFJMICsgQSAvIENUUkwgKyBTSElGVCArIEEgLyBDVFJMICsgSSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfaW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfb3V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXNfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19rZXlkb3duOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoICggJC5icm93c2VyLmlzTWFjICYmIGV2ZW50Lm1ldGFLZXkgKSB8fCAoICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSApICkgeyAvL0lORk86IENPTU1BTkQgb3IgQ1RSTCwgaXMgd2UgYXJlIG9uIE1hYyBvciBub3RcblxuICAgICAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gNjUgKSB7IC8vSU5GTzogQVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvd3MudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MsICFldmVudC5zaGlmdEtleSApOyAvL0lORk86IFNISUZUIG9yIG5vdCAvL0ZJWE1FOiBvbmx5IHdvcmtzIGlmIHRoZSBsYXN0IGNoYXJhY3RlciBwdXNoZWQgaXMgdGhlIGBBYCwgYnV0IGlzIGl0IGFuIHVud2FudGVkIGJlaGF2aW91cj9cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3NlbGVjdCcgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09IDczICkgeyAvL0lORk86IElcblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cyAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3dzLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdzZWxlY3QnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLIC8gQ1RSTCArIENMSUNLIC8gU0hJRlQgKyBDTElDSyAvIENUUkwgKyBDTElDSyAtPiBEUkFHICovXG5cbiAgICAgICAgX2hhbmRsZXJfbW91c2Vkb3duOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoIGV2ZW50LmJ1dHRvbiAhPT0gMCApIHJldHVybjsgLy9JTkZPOiBPbmx5IHRoZSBsZWZ0IGNsaWNrIGlzIGVuYWJsZWRcblxuICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVyX21vdXNlbW92ZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZXVwJywgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCB0aGlzLl9oYW5kbGVyX21vdXNldXAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX21vdXNlbW92ZTogZnVuY3Rpb24gKCBldmVudCApIHsgLy8gRFJBR1xuXG4gICAgICAgICAgICBpZiAoICggJC5icm93c2VyLmlzTWFjICYmICFldmVudC5tZXRhS2V5ICkgfHwgKCAhJC5icm93c2VyLmlzTWFjICYmICFldmVudC5jdHJsS2V5ICkgKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZXJfbW91c2Vtb3ZlICk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9tb3VzZXVwICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzICgpO1xuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IHRoaXMuJHN0YXJ0X3JvdztcblxuICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93LnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICRodG1sLmFkZENsYXNzICggJ2RyYWdnaW5nJyApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWVudGVyJywgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2VlbnRlciApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2V1cCApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3NlbGVjdCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW91c2VlbnRlcjogZnVuY3Rpb24gKCBldmVudCApIHsgLy8gRFJBRyBIT1ZFUlxuXG4gICAgICAgICAgICB0aGlzLiRlbmRfcm93ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0X2luZGV4ID0gdGhpcy4kcm93cy5pbmRleCAoIHRoaXMuJHN0YXJ0X3JvdyApLFxuICAgICAgICAgICAgICAgIGVuZF9pbmRleCA9IHRoaXMuJHJvd3MuaW5kZXggKCB0aGlzLiRlbmRfcm93ICksXG4gICAgICAgICAgICAgICAgbWluX2luZGV4ID0gTWF0aC5taW4gKCBzdGFydF9pbmRleCwgZW5kX2luZGV4ICksXG4gICAgICAgICAgICAgICAgbWF4X2luZGV4ID0gTWF0aC5tYXggKCBzdGFydF9pbmRleCwgZW5kX2luZGV4ICk7XG5cbiAgICAgICAgICAgIGlmICggbWluX2luZGV4ID09PSBzdGFydF9pbmRleCApIHsgLy8gZG93blxuXG4gICAgICAgICAgICAgICAgbWluX2luZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgbWF4X2luZGV4ICs9IDE7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRuZXdfZHJhZ2dlZCA9IHRoaXMuJHJvd3Muc2xpY2UgKCBtaW5faW5kZXgsIG1heF9pbmRleCApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuJHByZXZfZHJhZ2dlZCApIHtcblxuICAgICAgICAgICAgICAgICRuZXdfZHJhZ2dlZC5ub3QgKCB0aGlzLiRwcmV2X2RyYWdnZWQgKS50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkLm5vdCAoICRuZXdfZHJhZ2dlZCApLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAkbmV3X2RyYWdnZWQudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X2RyYWdnZWQgPSAkbmV3X2RyYWdnZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnc2VsZWN0JyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19tb3VzZXVwOiBmdW5jdGlvbiAoKSB7IC8vIERSQUcgRU5EXG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9kcmFnX21vdXNlZW50ZXIgKTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmICggJGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfZHJhZ19tb3VzZXVwICk7XG5cbiAgICAgICAgICAgIHRoaXMuJHByZXZfZHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAkaHRtbC5yZW1vdmVDbGFzcyAoICdkcmFnZ2luZycgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX21vdXNldXA6IGZ1bmN0aW9uICggZXZlbnQgKSB7IC8vIENMSUNLXG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZXJfbW91c2Vtb3ZlICk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9tb3VzZXVwICk7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQuc2hpZnRLZXkgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRfaW5kZXggPSB0aGlzLiRyb3dzLmluZGV4ICggdGhpcy4kcHJldl9yb3cgKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kX2luZGV4ID0gdGhpcy4kcHJldl9yb3cgPyB0aGlzLiRyb3dzLmluZGV4ICggdGhpcy4kc3RhcnRfcm93ICkgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtaW5faW5kZXggPSBNYXRoLm1pbiAoIHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4X2luZGV4ID0gTWF0aC5tYXggKCBzdGFydF9pbmRleCwgZW5kX2luZGV4ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIG1pbl9pbmRleCA9PT0gc3RhcnRfaW5kZXggKSB7IC8vIGRvd25cblxuICAgICAgICAgICAgICAgICAgICBtaW5faW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2luZGV4ICs9IDE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgJG5ld19zaGlmdGVkID0gdGhpcy4kcm93cy5zbGljZSAoIG1pbl9pbmRleCwgbWF4X2luZGV4ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuJHByZXZfc2hpZnRlZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkbmV3X3NoaWZ0ZWQubm90ICggdGhpcy4kcHJldl9zaGlmdGVkICkudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3NoaWZ0ZWQubm90ICggJG5ld19zaGlmdGVkICkudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJG5ld19zaGlmdGVkLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3NoaWZ0ZWQgPSAkbmV3X3NoaWZ0ZWQ7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoICggJC5icm93c2VyLmlzTWFjICYmIGV2ZW50Lm1ldGFLZXkgKSB8fCAoICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSApIHx8ICQuYnJvd3Nlci5pc01vYmlsZSApIHsgLy9UT0RPOiBPbiBtb2JpbGUgd2UgYmVoYXZlIGxpa2UgaWYgdGhlIGBjdHJsYCBrZXkgaXMgYWx3YXlzIHByZXNzZWQsIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgc2VsZWN0aW5nIG11bHRpcGxlIHJvd3MgZXZlbiB0aGVyZSAvL0ZJWE1FOiBJcyB0aGlzIHRoZSB3YW50ZWQgYmVoYXZpb3VzP1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93LnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cyAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gdGhpcy4kc3RhcnRfcm93O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcm93cy5ub3QgKCB0aGlzLiRzdGFydF9yb3cgKS5yZW1vdmVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhcnRfcm93LnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cyAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gdGhpcy4kc3RhcnRfcm93O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnc2VsZWN0JyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1RIRVIgRVZFTlRTICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHJvd3MgPSB0aGlzLl9nZXRfcm93cyAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAkLnJlZmxvdyAoKTtcblxuICAgICAgICAgICAgY2xlYXJfc2VsZWN0aW9uICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9yZXNldF9wcmV2czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kcHJldl9zaGlmdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRwcmV2X2RyYWdnZWQgPSBmYWxzZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfcm93czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9yICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgndGFibGUuc2VsZWN0YWJsZScpLnNlbGVjdGFibGUgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqIEByZXF1aXJlcyAuLi9kcmFnZ2FibGUvZHJhZ2dhYmxlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuIFxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNMSURFUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnNsaWRlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBkZWNpbWFsczogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGluY3JlYXNlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIGRlY3JlYXNlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kc2xpZGVyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJG1pbiA9IHRoaXMuJHNsaWRlci5maW5kICggJy5zbGlkZXItbWluJyApO1xuICAgICAgICAgICAgdGhpcy4kbWF4ID0gdGhpcy4kc2xpZGVyLmZpbmQgKCAnLnNsaWRlci1tYXgnICk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJHNsaWRlci5maW5kICggJ2lucHV0JyApO1xuICAgICAgICAgICAgdGhpcy4kYmFyX3dycCA9IHRoaXMuJHNsaWRlci5maW5kICggJy5zbGlkZXItYmFyLXdycCcgKTtcbiAgICAgICAgICAgIHRoaXMuJHVuaGlnaGxpZ2h0ZWQgPSB0aGlzLiRzbGlkZXIuZmluZCAoICcuc2xpZGVyLXVuaGlnaGxpZ2h0ZWQnICk7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZCA9IHRoaXMuJHNsaWRlci5maW5kICggJy5zbGlkZXItaGlnaGxpZ2h0ZWQnICk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycCA9IHRoaXMuJHNsaWRlci5maW5kICggJy5zbGlkZXItaGFuZGxlci13cnAnICk7XG4gICAgICAgICAgICB0aGlzLiRsYWJlbCA9IHRoaXMuJGhhbmRsZXJfd3JwLmZpbmQgKCAnLnNsaWRlci1sYWJlbCcgKTtcblxuICAgICAgICAgICAgdGhpcy5zdGVwc19uciA9ICggKCB0aGlzLm9wdGlvbnMubWF4IC0gdGhpcy5vcHRpb25zLm1pbiApIC8gdGhpcy5vcHRpb25zLnN0ZXAgKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcyAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogSU5QVVQgQ0hBTkdFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdHJ1ZSwgdGhpcy4kaW5wdXQsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSApO1xuXG4gICAgICAgICAgICAvKiBXSU5ET1cgUkVTSVpFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJfcmVzaXplICk7XG5cbiAgICAgICAgICAgIC8qIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHNsaWRlciwgJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2Fycm93c19pbiApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRzbGlkZXIsICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfb3V0ICk7XG5cbiAgICAgICAgICAgIC8qIE1JTiAvIE1BWCBCVVRUT05TICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kbWluLCAnY2xpY2snLCB0aGlzLmRlY3JlYXNlICk7XG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJG1heCwgJ2NsaWNrJywgdGhpcy5pbmNyZWFzZSApO1xuXG4gICAgICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfd3JwLmRyYWdnYWJsZSAoe1xuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdGhpcy5fZHJhZ2dhYmxlLmJpbmQgKCB0aGlzICksXG4gICAgICAgICAgICAgICAgYXhpczogJ3gnLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50OiB0aGlzLiRiYXJfd3JwLFxuICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW5fY2VudGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBheGlzOiAneCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLm1vZGlmaWVyX3guYmluZCAoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVzdGFydDogdGhpcy5faGFuZGxlcl9kcmFnX2JlZm9yZXN0YXJ0LmJpbmQgKCB0aGlzICksXG4gICAgICAgICAgICAgICAgICAgIG1vdmU6IHRoaXMuX2hhbmRsZXJfZHJhZ19tb3ZlLmJpbmQgKCB0aGlzICksXG4gICAgICAgICAgICAgICAgICAgIGVuZDogdGhpcy5faGFuZGxlcl9kcmFnX2VuZC5iaW5kICggdGhpcyApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kdW5oaWdobGlnaHRlZCwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGljayApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9yb3VuZF92YWx1ZTogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihOdW1iZXIodmFsdWUpLnRvRml4ZWQgKCB0aGlzLm9wdGlvbnMuZGVjaW1hbHMgKSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3Bvc2l0aW9uczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9ICggKCB0aGlzLm9wdGlvbnMudmFsdWUgLSB0aGlzLm9wdGlvbnMubWluICkgLyB0aGlzLm9wdGlvbnMuc3RlcCApICogMTAwIC8gdGhpcy5zdGVwc19ucjtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl93cnAuY3NzICh7XG4gICAgICAgICAgICAgICAgbGVmdDogcGVyY2VudGFnZSArICclJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdub25lJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodGVkLmNzcyAoe1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAoIDEwMCAtIHBlcmNlbnRhZ2UgKSArICclJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdub25lJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2xhYmVsOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICAgICAgICB0aGlzLiRsYWJlbC5odG1sICggXy5pc1VuZGVmaW5lZCAoIHZhbHVlICkgPyB0aGlzLm9wdGlvbnMudmFsdWUgOiB2YWx1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy51bmhpZ2hsaWdodGVkX3dpZHRoID0gdGhpcy4kdW5oaWdobGlnaHRlZC53aWR0aCAoKTtcbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHRlZF9vZmZzZXQgPSB0aGlzLiR1bmhpZ2hsaWdodGVkLm9mZnNldCAoKTtcbiAgICAgICAgICAgIHRoaXMuc3RlcF93aWR0aCA9IHRoaXMudW5oaWdobGlnaHRlZF93aWR0aCAvIHRoaXMuc3RlcHNfbnI7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5zZXQgKCB0aGlzLiRpbnB1dC52YWwgKCkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFJFU0laRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3Jlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFyaWFibGVzICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogTEVGVCAvIFJJR0hUIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19pbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfb3V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuTEVGVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRE9XTiApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVhc2UgKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5SSUdIVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVAgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgX2RyYWdnYWJsZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMub3B0aW9ucy5kaXNhYmxlZDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIG1vZGlmaWVyX3g6IGZ1bmN0aW9uICggZGlzdGFuY2UgKSB7IC8vVE9ETzogbWF5YmUgd2Ugc2hvdWxkIGV4cG9ydCB0aGlzIGZ1bmN0aW9uIGFzIGEgbG9kYXNoIG1peGluXG5cbiAgICAgICAgICAgIHZhciBsZWZ0ID0gZGlzdGFuY2UgJSB0aGlzLnN0ZXBfd2lkdGg7XG5cbiAgICAgICAgICAgIGlmICggbGVmdCA+PSB0aGlzLnN0ZXBfd2lkdGggLyAyICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlIC0gbGVmdCArIHRoaXMuc3RlcF93aWR0aDtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZSAtIGxlZnQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVggPSBwYXJzZUZsb2F0ICggdGhpcy4kaGFuZGxlcl93cnAuY3NzICggJ2xlZnQnICksIDEwICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfd3JwLmNzcyAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsMCwwKSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZC5jc3MgKHtcbiAgICAgICAgICAgICAgICByaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LDAsMCknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW92ZTogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZC5jc3MgKCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBkYXRhLm1vZGlmaWVkWFkuWCArICdweCwwLDApJyApO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfbGFiZWwgKCB0aGlzLl9yb3VuZF92YWx1ZSAoIHRoaXMub3B0aW9ucy5taW4gKyAoIGRhdGEubW9kaWZpZWRYWS5YIC8gdGhpcy5zdGVwX3dpZHRoICogdGhpcy5vcHRpb25zLnN0ZXAgKSApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX2VuZDogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtX3N0ciA9IHRoaXMuJGhhbmRsZXJfd3JwLmNzcyAoICd0cmFuc2Zvcm0nICksXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gICggdHJhbnNmb3JtX3N0ciAhPT0gJ25vbmUnICkgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoICggL1swLTkuLCAtXSsvIClbMF0uc3BsaXQgKCAnLCAnICkgOiBbMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgICAgICAgICAgIHZhciBzZXR0ZWQgPSB0aGlzLnNldCAoIHRoaXMub3B0aW9ucy5taW4gKyAoIHBhcnNlRmxvYXQgKCBtYXRyaXhbNF0sIDEwICkgLyB0aGlzLnN0ZXBfd2lkdGggKiB0aGlzLm9wdGlvbnMuc3RlcCApICk7XG5cbiAgICAgICAgICAgIGlmICggIXNldHRlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9wb3NpdGlvbnMgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQudGFyZ2V0ID09PSB0aGlzLiRoYW5kbGVyX3dycC5nZXQgKCAwICkgKSByZXR1cm47IC8vSU5GTzogc2hvdWxkbid0IHdvcmsgaWYgd2UgY2xpY2sgb24gdGhlIGhhbmRsZXIgLy9JTkZPOiBNYXliZSB3ZSBhcmUgZHJhZ2dpbmcsIHNob3VsZG4ndCBiZSBoYW5kbGVkIGFzIGEgY2xpY2sgb24gdGhlIHVuaGlnaGxpdGVkIGJhclxuXG4gICAgICAgICAgICB2YXIgY2xpY2tfcG9zID0gJC5ldmVudFhZICggZXZlbnQgKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHRoaXMubW9kaWZpZXJfeCAoIGNsaWNrX3Bvcy5YIC0gdGhpcy51bmhpZ2hsaWdodGVkX29mZnNldC5sZWZ0ICk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0ICggdGhpcy5vcHRpb25zLm1pbiArICggZGlzdGFuY2UgLyB0aGlzLnN0ZXBfd2lkdGggKiB0aGlzLm9wdGlvbnMuc3RlcCApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgdmFsdWUgPSBfLmNsYW1wICggdGhpcy5vcHRpb25zLm1pbiwgdGhpcy5fcm91bmRfdmFsdWUgKCB2YWx1ZSApLCB0aGlzLm9wdGlvbnMubWF4ICk7XG5cbiAgICAgICAgICAgIGlmICggdmFsdWUgIT09IHRoaXMub3B0aW9ucy52YWx1ZSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9ICggdmFsdWUgPiB0aGlzLm9wdGlvbnMudmFsdWUgKSA/ICdpbmNyZWFzZWQnIDogJ2RlY3JlYXNlZCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9wb3NpdGlvbnMgKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xhYmVsICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQudmFsICggdmFsdWUgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBjYWxsYmFjayApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluY3JlYXNlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldCAoIHRoaXMub3B0aW9ucy52YWx1ZSArIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBkZWNyZWFzZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQgKCB0aGlzLm9wdGlvbnMudmFsdWUgLSB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5zbGlkZXInKS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHNsaWRlciA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBOdW1iZXIoJHNsaWRlci5maW5kICggJy5zbGlkZXItbWluJyApLmRhdGEgKCAnbWluJyApIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IE51bWJlcigkc2xpZGVyLmZpbmQgKCAnLnNsaWRlci1tYXgnICkuZGF0YSAoICdtYXgnICkgfHwgMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IE51bWJlcigkc2xpZGVyLmZpbmQgKCAnaW5wdXQnICkudmFsICgpIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiBOdW1iZXIoJHNsaWRlci5kYXRhICggJ3N0ZXAnICkgfHwgMSksXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBOdW1iZXIoJHNsaWRlci5kYXRhICggJ2RlY2ltYWxzJyApIHx8IDApXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNsaWRlci5zbGlkZXIgKCBvcHRpb25zICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIHRhYmxlSGVscGVyLCBqdXN0IHB1dCB0aGUgbmV3IGFkZGRlZCByb3cgaW4gdGhlIHJpZ2h0IHBvc2l0aW9uLCBnb29kIHBlcmZvcm1hbmNlIGdhaW4gaGVyZSFcbi8vVE9ETzogY2FjaGUgdGhlIGNvbHVtbiBkYXRhcywgaWYgcG9zc2libGVcbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIHNvcnRpbmcgb3RoZXIgdGhpbmdzIG90aGVyIHRoYW4gdGFibGVzXG4vL1RPRE86IGlmIHBvc3NpYmxlIHNvcnQgdXNpbmcgZmxleGJveCdzIGBvcmRlcmAgcHJvcGVydHlcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNPUlRBQkxFICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uc29ydGFibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNvcnRlcnM6IHtcbiAgICAgICAgICAgICAgICBpbnQ6IGZ1bmN0aW9uICggYSwgYiApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ICggYSwgMTAgKSAtIHBhcnNlSW50ICggYiwgMTAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZsb2F0OiBmdW5jdGlvbiAoIGEsIGIgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0ICggYSApIC0gcGFyc2VGbG9hdCAoIGIgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cmluZzogZnVuY3Rpb24gKCBhLCBiICkge1xuICAgICAgICAgICAgICAgICAgICBhID0gYS50b0xvY2FsZUxvd2VyQ2FzZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IGIudG9Mb2NhbGVMb3dlckNhc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUgKCBiICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHNvcnQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYmxlID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGhlYWRlcnMgPSB0aGlzLiR0YWJsZS5maW5kICggJ3RoZWFkIHRoJyApO1xuICAgICAgICAgICAgdGhpcy4kc29ydGFibGVzID0gdGhpcy4kaGVhZGVycy5maWx0ZXIgKCAnW2RhdGEtc29ydF0nICk7XG4gICAgICAgICAgICB0aGlzLiR0Ym9keSA9IHRoaXMuJHRhYmxlLmZpbmQgKCAndGJvZHknICk7XG5cbiAgICAgICAgICAgIHRoaXMudGFibGUgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnRib2R5ID0gdGhpcy4kdGJvZHkuZ2V0ICggMCApO1xuXG4gICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXMgPSB7fTsgLy9JTkZPOiBDYWNoaW5nIG9iamVjdCBmb3IgZGF0YXMgYW5kIHJlZmVyZW5jZXMgdG8gcm93c1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfaW5kZXggPSBmYWxzZTsgLy9JTkZPOiBgJGhlYWRlcnNgIGluZGV4LCBub3QgYCRzb3J0YWJsZXNgIGluZGV4XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uID0gZmFsc2U7O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRpbml0aWFsID0gdGhpcy4kaGVhZGVycy5maWx0ZXIgKCAnLmFzYywgLmRlc2MnICkuZmlyc3QgKCk7XG5cbiAgICAgICAgICAgIGlmICggJGluaXRpYWwubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0ICggdGhpcy4kaGVhZGVycy5pbmRleCAoICRpbml0aWFsICksICggJGluaXRpYWwuaGFzQ2xhc3MgKCAnYXNjJyApID8gJ2FzYycgOiAnZGVzYycgKSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdHJ1ZSwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlICk7IC8vVE9ETzogdXBkYXRlIHRvIHN1cHBvcnQgdGFibGVIZWxwZXJcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRzb3J0YWJsZXMsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2sgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuY3VycmVudF9pbmRleCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydF9kYXRhcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0ICggdGhpcy5jdXJyZW50X2luZGV4LCB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfaW5kZXggPSB0aGlzLiRoZWFkZXJzLmluZGV4ICggZXZlbnQudGFyZ2V0ICksXG4gICAgICAgICAgICAgICAgbmV3X2RpcmVjdGlvbiA9IHRoaXMuY3VycmVudF9pbmRleCA9PT0gbmV3X2luZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudF9kaXJlY3Rpb24gPT09ICdhc2MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZGVzYydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdhc2MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdhc2MnO1xuXG4gICAgICAgICAgICB0aGlzLnNvcnQgKCBuZXdfaW5kZXgsIG5ld19kaXJlY3Rpb24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNPUlQgKi9cblxuICAgICAgICBzb3J0OiBmdW5jdGlvbiAoIGluZGV4LCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgIC8vIFZBTElEQVRFXG5cbiAgICAgICAgICAgIHZhciAkc29ydGFibGUgPSB0aGlzLiRoZWFkZXJzLmVxICggaW5kZXggKTtcblxuICAgICAgICAgICAgaWYgKCAhJHNvcnRhYmxlLmxlbmd0aCApIHJldHVybjsgLy8gYmFkIGluZGV4XG5cbiAgICAgICAgICAgIHZhciBzb3J0ZXJfbmFtZSA9ICRzb3J0YWJsZS5kYXRhICggJ3NvcnQnICk7XG5cbiAgICAgICAgICAgIGlmICggIXNvcnRlcl9uYW1lICkgcmV0dXJuOyAvLyB1bnNvcnRhYmxlIGNvbHVtblxuXG4gICAgICAgICAgICB2YXIgc29ydGVyID0gdGhpcy5vcHRpb25zLnNvcnRlcnNbc29ydGVyX25hbWVdO1xuXG4gICAgICAgICAgICBpZiAoICFzb3J0ZXIgKSByZXR1cm47IC8vIHVuc3VwcG9ydGVkIHNvcnRlclxuXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAoIGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24udG9Mb3dlckNhc2UgKCkgPT09ICdkZXNjJyApID8gJ2Rlc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIC8vIFNUWUxFXG5cbiAgICAgICAgICAgIGlmICggdGhpcy5jdXJyZW50X2luZGV4ICE9PSBmYWxzZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHNvcnRhYmxlcy5lcSAoIHRoaXMuY3VycmVudF9pbmRleCApLnJlbW92ZUNsYXNzICggdGhpcy5jdXJyZW50X2RpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzb3J0YWJsZS5hZGRDbGFzcyAoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAvLyBDSEVDS0lORyBDQUNIRUQgREFUQVNcblxuICAgICAgICAgICAgaWYgKCBfLmlzVW5kZWZpbmVkICggdGhpcy5zb3J0X2RhdGFzW2luZGV4XSApICkge1xuXG4gICAgICAgICAgICAgICAgLy8gVkFSSUFCTEVTXG5cbiAgICAgICAgICAgICAgICB2YXIgJHRycyA9IHRoaXMuJHRib2R5LmZpbmQgKCAndHI6bm90KC5lbXB0eSknICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdID0gQXJyYXkgKCAkdHJzLmxlbmd0aCApO1xuXG4gICAgICAgICAgICAgICAgLy8gUE9QVUxBVEVcblxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9ICR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkdHJzLmVxICggaSApIC5maW5kICggJ3RkJyApLmVxICggaW5kZXggKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHRkLmRhdGEgKCAnc29ydC12YWx1ZScgKSB8fCAkdGQudGV4dCAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdW2ldID0gWyR0cnMuZ2V0ICggaSApLCB2YWx1ZV07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU09SVFxuXG4gICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLnNvcnQgKCBmdW5jdGlvbiAoIGEsIGIgKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc29ydGVyICggYVsxXSwgYlsxXSApO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPT09ICdkZXNjJyApIHRoaXMuc29ydF9kYXRhc1tpbmRleF0ucmV2ZXJzZSAoKTtcblxuICAgICAgICAgICAgLy8gQVBQRU5EXG5cbiAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQgKCB0aGlzLnRib2R5ICk7IC8vIGRldGFjaFxuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudGJvZHkuYXBwZW5kQ2hpbGQgKCB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdW2ldWzBdICk7IC8vIHJlb3JkZXJcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkICggdGhpcy50Ym9keSApOyAvLyBhdHRhY2hcblxuICAgICAgICAgICAgLy8gVVBEQVRFXG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2RpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuICAgICAgICAgICAgLy8gVFJJR0dFUlxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3NvcnQnLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuY3VycmVudF9pbmRleCxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuY3VycmVudF9kaXJlY3Rpb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ3RhYmxlLnNvcnRhYmxlJykuc29ydGFibGUgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTVEVQUEVSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uc3RlcHBlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBkZWNpbWFsczogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGluY3JlYXNlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZGVjcmVhc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0ZXBwZXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRzdGVwcGVyLmZpbmQgKCAnaW5wdXQnICk7XG4gICAgICAgICAgICB0aGlzLiRkZWNyZWFzZXIgPSB0aGlzLiRzdGVwcGVyLmZpbmQgKCAnLnN0ZXBwZXItZGVjcmVhc2VyJyApO1xuICAgICAgICAgICAgdGhpcy4kaW5jcmVhc2VyID0gdGhpcy4kc3RlcHBlci5maW5kICggJy5zdGVwcGVyLWluY3JlYXNlcicgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogSU5QVVQgLyBDSEFOR0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0cnVlLCB0aGlzLiRpbnB1dCwgJ2lucHV0IGNoYW5nZScsIHRoaXMuX2hhbmRsZXJfaW5wdXRfY2hhbmdlICk7XG5cbiAgICAgICAgICAgIC8qIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9hcnJvd3NfaW4gKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2Fycm93c19vdXQgKTtcblxuICAgICAgICAgICAgLyogSU5DUkVBU0UgLyBERUNSRUFTRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGRlY3JlYXNlciwgJ2NsaWNrJywgdGhpcy5kZWNyZWFzZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGluY3JlYXNlciwgJ2NsaWNrJywgdGhpcy5pbmNyZWFzZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9yb3VuZF92YWx1ZTogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihOdW1iZXIodmFsdWUpLnRvRml4ZWQgKCB0aGlzLm9wdGlvbnMuZGVjaW1hbHMgKSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9pbnB1dF9jaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5zZXRfdmFsdWUgKCB0aGlzLiRpbnB1dC52YWwgKCkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIExFRlQgLyBSSUdIVCBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3NfaW46IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19vdXQ6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuTEVGVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRE9XTiApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVhc2UgKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5SSUdIVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVAgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBzZXRfdmFsdWU6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fcm91bmRfdmFsdWUgKCB2YWx1ZSApO1xuXG4gICAgICAgICAgICBpZiAoIHZhbHVlICE9PSB0aGlzLm9wdGlvbnMudmFsdWUgfHwgdGhpcy4kaW5wdXQudmFsICgpLmxlbmd0aCA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkID0gXy5jbGFtcCAoIHRoaXMub3B0aW9ucy5taW4sIHZhbHVlLCB0aGlzLm9wdGlvbnMubWF4ICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudmFsdWUgPSBjbGFtcGVkO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQudmFsICggY2xhbXBlZCApLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZGVjcmVhc2VyLnRvZ2dsZUNsYXNzICggJ2Rpc2FibGVkJywgY2xhbXBlZCA9PT0gdGhpcy5vcHRpb25zLm1pbiApO1xuICAgICAgICAgICAgICAgIHRoaXMuJGluY3JlYXNlci50b2dnbGVDbGFzcyAoICdkaXNhYmxlZCcsIGNsYW1wZWQgPT09IHRoaXMub3B0aW9ucy5tYXggKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBjbGFtcGVkID4gdGhpcy5vcHRpb25zLnZhbHVlID8gJ2luY3JlYXNlJyA6ICdkZWNyZWFzZScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5jcmVhc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZSAoIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBkZWNyZWFzZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlICggLSB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgbmF2aWdhdGU6IGZ1bmN0aW9uICggbW9kaWZpZXIgKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfdmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUgKyBtb2RpZmllcjtcblxuICAgICAgICAgICAgdGhpcy5zZXRfdmFsdWUgKCBuZXdfdmFsdWUgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc3RlcHBlcicpLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkc3RlcHBlciA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGlucHV0ID0gJHN0ZXBwZXIuZmluZCAoICdpbnB1dCcgKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBtaW46IE51bWJlcigkc3RlcHBlci5kYXRhICggJ21pbicgKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSAoICdtYXgnICkgfHwgMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IE51bWJlcigkaW5wdXQudmFsICgpIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSAoICdzdGVwJyApIHx8IDEpLFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogTnVtYmVyKCRzdGVwcGVyLmRhdGEgKCAnZGVjaW1hbHMnICkgfHwgMClcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc3RlcHBlci5zdGVwcGVyICggb3B0aW9ucyApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiBAcmVxdWlyZXMgLi4vZHJhZ2dhYmxlL2RyYWdnYWJsZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNXSVRDSCAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnN3aXRjaCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICAgICAgb246ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgIG9mZjogJ2dyYXknXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVuY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kc3dpdGNoID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kc3dpdGNoLmZpbmQgKCAnaW5wdXQnICk7XG4gICAgICAgICAgICB0aGlzLiRiYXJfd3JwID0gdGhpcy4kc3dpdGNoLmZpbmQgKCAnLnN3aXRjaC1iYXItd3JwJyApO1xuICAgICAgICAgICAgdGhpcy4kYmFyID0gdGhpcy4kc3dpdGNoLmZpbmQgKCAnLnN3aXRjaC1iYXInICk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyID0gdGhpcy4kc3dpdGNoLmZpbmQgKCAnLnN3aXRjaC1oYW5kbGVyJyApO1xuICAgICAgICAgICAgdGhpcy4kaWNvbiA9IHRoaXMuJGhhbmRsZXIuZmluZCAoICcuaWNvbicgKTtcblxuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJyApO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrICggdGhpcy5jaGVja2VkLCB0cnVlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsIHRoaXMuJGlucHV0LCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UgKTtcblxuICAgICAgICAgICAgLyogS0VZUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9rZXlzX2luICk7XG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9rZXlzX291dCApO1xuXG4gICAgICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGJhciwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGljayApO1xuXG4gICAgICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIuZHJhZ2dhYmxlICh7XG4gICAgICAgICAgICAgICAgYXhpczogJ3gnLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50OiB0aGlzLiRiYXJfd3JwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB0aGlzLl9oYW5kbGVyX2RyYWdfZW5kLmJpbmQgKCB0aGlzIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2NoZWNrZWQgPSB0aGlzLiRpbnB1dC5wcm9wICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5jaGVja2VkICE9PSBuZXdfY2hlY2tlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IG5ld19jaGVja2VkO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrICggdGhpcy5jaGVja2VkLCB0cnVlICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEtFWVMgKi9cblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2luOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9rZXlzX291dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuTEVGVCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudW5jaGVjayAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlJJR0hUICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVjayAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlNQQUNFICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmRyYWdnaW5nICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIERSQUcgKi9cblxuICAgICAgICBfaGFuZGxlcl9kcmFnX2VuZDogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgICAgICBpZiAoIGRhdGEuZHJhZ2dlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSAoIHRoaXMuJGhhbmRsZXIub2Zmc2V0ICgpLmxlZnQgLSB0aGlzLiRiYXJfd3JwLm9mZnNldCAoKS5sZWZ0ICsgKCB0aGlzLiRoYW5kbGVyLndpZHRoICgpIC8gMiApICkgPj0gKCB0aGlzLiRiYXJfd3JwLndpZHRoICgpIC8gMiApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gKCBjaGVja2VkICkgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sgKCB0aGlzLmNoZWNrZWQsIHRydWUgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldF9jaGVjazogZnVuY3Rpb24gKCBjaGVja2VkLCBmb3JjZSApIHtcblxuICAgICAgICAgICAgaWYgKCBjaGVja2VkICE9PSB0aGlzLiRpbnB1dC5wcm9wICggJ2NoZWNrZWQnICkgfHwgZm9yY2UgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzd2l0Y2gudG9nZ2xlQ2xhc3MgKCAnY2hlY2tlZCcsIGNoZWNrZWQgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgKCBjaGVja2VkID8gJzEuNzMzMzNlbScgOiAnMCcgKSArICcsMCwwKScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJhci50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5jb2xvcnMub24sIGNoZWNrZWQgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVyLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLmNvbG9ycy5vbiwgY2hlY2tlZCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kYmFyLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLmNvbG9ycy5vZmYsICFjaGVja2VkICk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGFuZGxlci50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5jb2xvcnMub2ZmLCAhY2hlY2tlZCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJywgY2hlY2tlZCApLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoIGNoZWNrZWQgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBjaGVjazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sgKCB0cnVlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB1bmNoZWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayAoIGZhbHNlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gIXRoaXMuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayAoIHRoaXMuY2hlY2tlZCApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5zd2l0Y2gnKS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHN3aXRjaCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjogJHN3aXRjaC5kYXRhICggJ2NvbG9yLW9uJyApIHx8ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmOiAkc3dpdGNoLmRhdGEgKCAnY29sb3Itb2ZmJyApIHx8ICdncmF5J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHN3aXRjaC5zd2l0Y2ggKCBvcHRpb25zICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUQUJMRSBIRUxQRVIgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by50YWJsZUhlbHBlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgYWRkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xlYXI6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYmxlID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHRoZWFkID0gdGhpcy4kdGFibGUuZmluZCAoICd0aGVhZCcgKSxcbiAgICAgICAgICAgIHRoaXMuJHRmb290ID0gdGhpcy4kdGFibGUuZmluZCAoICd0Zm9vdCcgKSxcbiAgICAgICAgICAgIHRoaXMuJHRib2R5ID0gdGhpcy4kdGFibGUuZmluZCAoICd0Ym9keScgKSxcbiAgICAgICAgICAgIHRoaXMuJGhlYWRlcnMgPSB0aGlzLiR0aGVhZC5maW5kICggJ3RoJyApLFxuICAgICAgICAgICAgdGhpcy4kZW1wdHlfcm93ID0gdGhpcy4kdGJvZHkuZmluZCAoICd0ci5lbXB0eScgKSxcbiAgICAgICAgICAgIHRoaXMuY29sdW1uc19uciA9IHRoaXMuJGhlYWRlcnMubGVuZ3RoO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2NoZWNrX2VtcHR5OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVtcHR5X3Jvdy50b2dnbGVDbGFzcyAoICdoaWRkZW4nLCB0aGlzLiR0Ym9keS5maW5kICggJ3RyOm5vdCguZW1wdHkpJyApLmxlbmd0aCA+IDAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfcm93X2lkOiBmdW5jdGlvbiAoIGlkICkge1xuXG4gICAgICAgICAgICByZXR1cm4gJ3JpZF8nICsgdGhpcy51dWlkICsgJ18nICsgaWQ7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBhZGQ6IGZ1bmN0aW9uICggaWQgKSB7IC8vSU5GTzogaWQsIGRhdGFzLi4uXG5cbiAgICAgICAgICAgIHZhciBkYXRhcyA9IF8udGFpbCAoIGFyZ3VtZW50cyApO1xuXG4gICAgICAgICAgICBpZiAoIGRhdGFzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHZhciAkZmlsbGFibGVzID0gdGhpcy4kdGJvZHkuZmluZCAoICd0ZC5maWxsYWJsZScgKTtcblxuICAgICAgICAgICAgICAgIGlmICggJGZpbGxhYmxlcy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzX2ZpbGxhYmxlID0gXy5zbGljZSAoIGRhdGFzLCAwLCAkZmlsbGFibGVzLmxlbmd0aCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzID0gXy5zbGljZSAoIGRhdGFzLCBkYXRhc19maWxsYWJsZS5sZW5ndGggLSAxLCBkYXRhcy5sZW5ndGggKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSBkYXRhc19maWxsYWJsZS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWxsYWJsZXMuZXEgKCBpICkuaHRtbCAoIGRhdGFzX2ZpbGxhYmxlW2ldICkucmVtb3ZlQ2xhc3MgKCAnZmlsbGFibGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBpZCAmJiAkKCAnLicgKyB0aGlzLl9nZXRfcm93X2lkICggaWQgKSApLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnQSB0YWJsZSBjYW5ub3QgY29udGFpbiAyIHJvd3Mgd2l0aCB0aGUgc2FtZSBJRCcgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGNodW5rcyA9IF8uY2h1bmsgKCBkYXRhcywgdGhpcy5jb2x1bW5zX25yICk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgY2kgPSAwLCBjbCA9IGNodW5rcy5sZW5ndGg7IGNpIDwgY2w7IGNpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNodW5rID0gY2h1bmtzW2NpXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93X2h0bWwgPSAnPHRyICcgKyAoIGlkID8gJ2NsYXNzPVwiJyArIHRoaXMuX2dldF9yb3dfaWQgKCBpZCApICsgJ1wiJyA6ICcnICkgKyAnPic7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gY2h1bmsubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dfaHRtbCArPSAnPHRkPicgKyAoIGNodW5rW2ldIHx8ICcnICkgKyAnPC90ZD4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IGNodW5rLmxlbmd0aCwgbCA9IHRoaXMuY29sdW1uc19ucjsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcm93X2h0bWwgKz0gJzx0ZCBjbGFzcz1cImZpbGxhYmxlXCI+PC90ZD4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByb3dfaHRtbCArPSAnPC90cj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRib2R5LmFwcGVuZCAoIHJvd19odG1sICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdhZGQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICggaWQgKSB7IC8vSU5GTzogaWQsIGRhdGFzLi4uXG5cbiAgICAgICAgICAgIHZhciBkYXRhcyA9IF8udGFpbCAoIGFyZ3VtZW50cyApLFxuICAgICAgICAgICAgICAgICRyb3cgPSAkKCAnLicgKyB0aGlzLl9nZXRfcm93X2lkICggaWQgKSApO1xuXG4gICAgICAgICAgICBpZiAoIGRhdGFzLmxlbmd0aCAmJiAkcm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHZhciAkdGRzID0gJHJvdy5maW5kICggJ3RkJyApO1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoICggZGF0YXMsIGZ1bmN0aW9uICggZGF0YSwgaW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfLmlzU3RyaW5nICggZGF0YSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGRzLmVxICggaW5kZXggKS5odG1sICggZGF0YSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFibGUudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3VwZGF0ZScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCBpZCApIHtcblxuICAgICAgICAgICAgdmFyICRyb3cgPSAkKCAnLicgKyB0aGlzLl9nZXRfcm93X2lkICggaWQgKSApO1xuXG4gICAgICAgICAgICBpZiAoICRyb3cubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgJHJvdy5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdyZW1vdmUnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHJvd3MgPSB0aGlzLiR0Ym9keS5maW5kICggJ3RyOm5vdCguZW1wdHkpJyApO1xuXG4gICAgICAgICAgICBpZiAoICRyb3dzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICRyb3dzLnJlbW92ZSAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrX2VtcHR5ICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFibGUudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2NsZWFyJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ3RhYmxlJykudGFibGVIZWxwZXIgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogTWF5YmUgc3dpdGNoIGZyb20gdGhlIGluZGljYXRvciB0byAuYnV0dG9uLmhpZ2hsaWdodFxuLy9GSVhNRTogcG9zaXRpb25hdGVfaW5kaWNhdG9yIGlzIHRvbyBoYWNreVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVEFCUyAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnRhYnMnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNfd3JwOiAnLnRhYnMtYnV0dG9ucycsXG4gICAgICAgICAgICAgICAgYnV0dG9uczogJy5idXR0b24td3JwID4gLmxhYmVsJyxcbiAgICAgICAgICAgICAgICBidXR0b25fYWN0aXZlX2NsYXNzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3I6ICcudGFicy1idXR0b25zLWluZGljYXRvcicsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyc193cnA6ICcudGFicy1jb250YWluZXJzJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXJzOiAnPiAuY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXJfYWN0aXZlX2NsYXNzOiAnYWN0aXZlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGljYXRvcl9kZWxheTogNDAsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYnMgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPSB0aGlzLiR0YWJzLmhhc0NsYXNzICggJ3ZlcnRpY2FsJyApO1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJzX2J1dHRvbnMgPSB0aGlzLiR0YWJzLmZpbmQgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnNfd3JwICk7XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zID0gdGhpcy4kdGFic19idXR0b25zLmZpbmQgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnMgKTtcbiAgICAgICAgICAgIHRoaXMuJGluZGljYXRvciA9IHRoaXMuJHRhYnMuZmluZCAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuaW5kaWNhdG9yICk7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYnNfY29udGFpbmVycyA9IHRoaXMuJHRhYnMuZmluZCAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVyc193cnAgKTtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMgPSB0aGlzLiR0YWJzX2NvbnRhaW5lcnMuZmluZCAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVycyApO1xuXG4gICAgICAgICAgICB2YXIgJGN1cnJlbnRfYnV0dG9uID0gdGhpcy4kYnV0dG9ucy5maWx0ZXIgKCAnLicgKyB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MgKS5maXJzdCAoKTtcblxuICAgICAgICAgICAgJGN1cnJlbnRfYnV0dG9uID0gKCAkY3VycmVudF9idXR0b24ubGVuZ3RoID4gMCApID8gJGN1cnJlbnRfYnV0dG9uIDogdGhpcy4kYnV0dG9ucy5maXJzdCAoKTtcblxuICAgICAgICAgICAgdGhpcy5wcmV2X2luZGV4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IHRoaXMuJGJ1dHRvbnMuaW5kZXggKCAkY3VycmVudF9idXR0b24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ICggdGhpcy5jdXJyZW50X2luZGV4LCB0cnVlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kdGFic19idXR0b25zLCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnMsIHRoaXMuX2hhbmRlcl9idXR0b25fY2xpY2sgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkd2luZG93LCAncmVzaXplJywgdGhpcy5fcG9zaXRpb25hdGVfaW5kaWNhdG9yICk7IC8vVE9ETzogdGhyb3R0bGUgb3IgZGV2b3VuY2UgaXRcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaGFuZGVyX2J1dHRvbl9jbGljazogZnVuY3Rpb24gKCBldmVudCwgbm9kZSApIHtcblxuICAgICAgICAgICAgdmFyIG5ld19pbmRleCA9IHRoaXMuJGJ1dHRvbnMuaW5kZXggKCAkKG5vZGUpICk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ICggbmV3X2luZGV4ICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfcG9zaXRpb25hdGVfaW5kaWNhdG9yOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkYWN0aXZlID0gdGhpcy4kYnV0dG9ucy5maWx0ZXIgKCAnLicgKyB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MgKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9ICRhY3RpdmUucG9zaXRpb24gKCk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5pc1ZlcnRpY2FsICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsX2hlaWdodCA9IHRoaXMuJHRhYnNfYnV0dG9ucy5oZWlnaHQgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheSAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gcG9zaXRpb24udG9wICsgKCB0aGlzLiRidXR0b25zLmluZGV4ICggJGFjdGl2ZSApID09PSAwID8gMSA6IDAgKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MgKCAndG9wJywgKCB0b3AgKiAxMDAgLyB0b3RhbF9oZWlnaHQgKSArICclJyApO1xuXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gdGhpcy5vcHRpb25zLmluZGljYXRvcl9kZWxheSA6IDAgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBib3R0b20gPSB0b3RhbF9oZWlnaHQgLSBwb3NpdGlvbi50b3AgLSAkYWN0aXZlLmhlaWdodCAoKSArICggdGhpcy4kYnV0dG9ucy5pbmRleCAoICRhY3RpdmUgKSA9PT0gdGhpcy4kYnV0dG9ucy5sZW5ndGggLSAxID8gMSA6IDAgKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MgKCAnYm90dG9tJywgKCBib3R0b20gKiAxMDAgLyB0b3RhbF9oZWlnaHQgKSArICclJyApO1xuXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gMCA6IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JfZGVsYXkgKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHZhciB0b3RhbF93aWR0aCA9IHRoaXMuJHRhYnNfYnV0dG9ucy53aWR0aCAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gcG9zaXRpb24ubGVmdCArICggdGhpcy4kYnV0dG9ucy5pbmRleCAoICRhY3RpdmUgKSA9PT0gMCA/IDEgOiAwICk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzICggJ2xlZnQnLCAoIGxlZnQgKiAxMDAgLyB0b3RhbF93aWR0aCApICsgJyUnICk7XG5cbiAgICAgICAgICAgICAgICB9LCB0aGlzLmN1cnJlbnRfaW5kZXggPiB0aGlzLnByZXZfaW5kZXggPyB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5IDogMCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gdG90YWxfd2lkdGggLSBwb3NpdGlvbi5sZWZ0IC0gJGFjdGl2ZS53aWR0aCAoKSArICggdGhpcy4kYnV0dG9ucy5pbmRleCAoICRhY3RpdmUgKSA9PT0gdGhpcy4kYnV0dG9ucy5sZW5ndGggLSAxID8gMSA6IDAgKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MgKCAncmlnaHQnLCAoIHJpZ2h0ICogMTAwIC8gdG90YWxfd2lkdGggKSArICclJyApO1xuXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gMCA6IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JfZGVsYXkgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiAoIGluZGV4LCBmb3JjZSApIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRfaW5kZXggIT09IGluZGV4IHx8IGZvcmNlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5lcSAoIHRoaXMuY3VycmVudF9pbmRleCApLnJlbW92ZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzICk7XG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5lcSAoIGluZGV4ICkuYWRkQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMuZXEgKCB0aGlzLmN1cnJlbnRfaW5kZXggKS5yZW1vdmVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVyX2FjdGl2ZV9jbGFzcyApO1xuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMuZXEgKCBpbmRleCApLmFkZENsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jb250YWluZXJfYWN0aXZlX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuY3VycmVudF9pbmRleCAhPT0gaW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2X2luZGV4ID0gdGhpcy5jdXJyZW50X2luZGV4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfaW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlX2luZGljYXRvciAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy50YWJzJykudGFicyAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgdGhlIHRhZyBwb2ludGVyXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIHRhZ3MgYnkgcGFzc2luZzogc2luZ2xlIHRhZyBzdHJpbmcsIHNpbmdsZSB0YWdzIHN0cmluZyBzZXBhcmF0ZWQgYnkgc2VwYXJhdG9yLCBhcnJheSBvZiB0YWdzLCBtdWx0aXBsZSBwYXJhbWV0ZXJzXG4vL0ZJWE1FOiBkbyB3ZSBoYW5kbGUgdGhlIGluc2VydGlvbiBvZiBjaGFyYWN0ZXJzIGxpa2UgYCZgIG9yIGAnYCBwcm9wZXJ0bHk/XG4vL0ZJWE1FOiBzaG91bGQgYmUgZm9yYmlkIGNoYXJhY3RlcnMgb3IganVzdCBlc2NhcGUgdGhlbT9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRBR0JPWCAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnRhZ2JveCcsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIHRhZzogJzxkaXYgY2xhc3M9XCJtdWx0aXBsZS13cnAgam9pbmVkIHRhZ2JveC10YWdcIiBkYXRhLXRhZy12YWx1ZT1cInslPW8uc3RyJX1cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXVsdGlwbGVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsLXdycFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsIGNvbXBhY3QgeyU9KG8uY29sb3IgPyBvLmNvbG9yIDogXCJcIiklfSB7JT0oby5zaXplID8gby5zaXplIDogXCJcIiklfSB7JT0oby5jc3MgPyBvLmNzcyA6IFwiXCIpJX1cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGFiZWwtY2VudGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slPW8uc3RyJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24gaWNvbi1uYXZpZ2F0aW9uLWNsb3NlIHJpZ2h0IHRhZ2JveC10YWctcmVtb3ZlclwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgICAgICAgaW5pdDogJycsXG4gICAgICAgICAgICAgICAgc3RyOiAnJyxcbiAgICAgICAgICAgICAgICBhcnI6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFnOiB7XG4gICAgICAgICAgICAgICAgbWluX2xlbmd0aDogMyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJycsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgY3NzOiAnb3V0bGluZWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcmFjdGVyczoge1xuICAgICAgICAgICAgICAgIGZvcmJpZGRlbjogWyAnPCcsICc+JywgJzsnLCAnYCcgXSwgLy9GSVhNRTogYWRkIHRhYiwgZW50ZXIsIGFuZCBhbGwgdGhlIG90aGVyIHNwZWNpYWxzXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiAnLCcsIC8vSU5GTzogSXQgd2lsbCBhbHNvIGJlY29tZSBraW5kIG9mIGEgZm9yYmlkZGVuIGNoYXJhY3RlciwgdXNlZCBmb3IgaW5zZXJ0aW9uXG4gICAgICAgICAgICAgICAgaW5zZXJ0ZXJzOiBbJC51aS5rZXlDb2RlLkVOVEVSLCAkLnVpLmtleUNvZGUuVEFCXSwgLy9UT0RPOiB3cml0ZSB0aGVtIGFzIHN0cmluZywgc28gdGhleSBhcmUgZWFzaWVyIHRvIGVkaXQgYW5kIHRoYXQncyB0aGUgZm9ybWF0IHRoYXQgdGhlIHVzZXIgZXhwZWN0c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvcnQ6IGZhbHNlLCAvL0lORk86IFRoZSB0YWdzIGFyZSBkaXNwbGF5ZWQgaW4gc29ydGVkIG9yZGVyXG4gICAgICAgICAgICBlc2NhcGU6IHRydWUsIC8vSU5GTzogRXNjYXBlIHBvdGVudGlhbCBYU1MgY2hhcmFjdGVyc1xuICAgICAgICAgICAgZGVidXJyOiBmYWxzZSwgLy9JTkZPOiBSZXBsYWNlIG5vbiBsYXRpbiBiYXNpYyBsZXR0ZXJzXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBhZGQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICByZW1vdmU6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhZ2JveCA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHZhciAkaW5wdXRzID0gdGhpcy4kdGFnYm94LmZpbmQgKCAnaW5wdXQnICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gJGlucHV0cy5lcSAoIDAgKTtcbiAgICAgICAgICAgIHRoaXMuJHBhcnRpYWwgPSAkaW5wdXRzLmVxICggMSApO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWFsID0gdGhpcy4kcGFydGlhbC5nZXQgKCAwICk7XG5cbiAgICAgICAgICAgIHRoaXMuJHBhcnRpYWxfd3JwID0gdGhpcy4kcGFydGlhbC5wYXJlbnQgKCAnLmlucHV0LXdycCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkICggdGhpcy5vcHRpb25zLnRhZ3MuaW5pdCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvKiBQQVJUSUFMICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kcGFydGlhbCwgJ2tleXByZXNzIGtleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXByZXNzX2tleWRvd24gKTsgLy9JTkZPOiBga2V5cHJlc3NgIGlzIGZvciBwcmludGFibGUgY2hhcmFjdGVycywgYGtleWRvd25gIGZvciB0aGUgb3RoZXJzXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kcGFydGlhbCwgJ3Bhc3RlJywgdGhpcy5faGFuZGxlcl9wYXN0ZSApO1xuXG4gICAgICAgICAgICAvKiBPTiBFTVBUWSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2tfb25fZW1wdHkgKTtcblxuICAgICAgICAgICAgLyogVEFHICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NsaWNrJywgJy50YWdib3gtdGFnLXJlbW92ZXInLCB0aGlzLl9oYW5kbGVyX2NsaWNrX29uX3RhZ19yZW1vdmVyICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2dldF90YWdfaHRtbDogZnVuY3Rpb24gKCB0YWdfc3RyICkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG1wbCAoICd0YWcnLCBfLm1lcmdlICggeyBzdHI6IHRhZ19zdHIgfSwgdGhpcy5vcHRpb25zLnRhZyApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3RhZ3Nfc3RyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLnN0ciA9IHRoaXMub3B0aW9ucy50YWdzLmFyci5qb2luICggdGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfc2FuaXRpemVfdGFnX3N0cjogZnVuY3Rpb24gKCB0YWdfc3RyICkge1xuXG4gICAgICAgICAgICB0YWdfc3RyID0gXy50cmltICggdGFnX3N0ciApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5lc2NhcGUgKSB7XG5cbiAgICAgICAgICAgICAgICB0YWdfc3RyID0gXy5lc2NhcGUgKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZGVidXJyICkge1xuXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IF8uZGVidXJyICggdGFnX3N0ciApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0YWdfc3RyO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9pbnB1dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dC52YWwgKCB0aGlzLm9wdGlvbnMudGFncy5zdHIgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9jbGVhcl9wYXJ0aWFsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHBhcnRpYWwudmFsICggJycgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFRBRyAqL1xuXG4gICAgICAgIF9wYXJ0aWFsX2FkZF90YWc6IGZ1bmN0aW9uICggdGFnX3N0ciApIHtcblxuICAgICAgICAgICAgdmFyIHRhZ19zdHJfdHJpbW1lZCA9IF8udHJpbSAoIHRhZ19zdHIgKSxcbiAgICAgICAgICAgICAgICB0YWdfc3RyID0gdGhpcy5fc2FuaXRpemVfdGFnX3N0ciAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgaWYgKCB0YWdfc3RyX3RyaW1tZWQubGVuZ3RoIDwgdGhpcy5vcHRpb25zLnRhZy5taW5fbGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0YWdfc3RyX3RyaW1tZWQubGVuZ3RoID4gMCApIHsgLy9JTkZPOiBTbyBpdCB3b24ndCBiZSB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGVudGVyIGFuZCB0aGUgJHBhcnRpYWwgaXMgZW1wdHlcblxuICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnYCcgKyB0YWdfc3RyICsgJ2AgaXMgc2hvcnRlciB0aGFuICcgKyB0aGlzLm9wdGlvbnMudGFnLm1pbl9sZW5ndGggKyAnIGNoYXJhY3RlcnMnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIF8uY29udGFpbnMgKCB0aGlzLm9wdGlvbnMudGFncy5hcnIsIHRhZ19zdHIgKSApIHtcblxuICAgICAgICAgICAgICAgICQubm90eSAoICdgJyArIHRhZ19zdHIgKyAnYCBpcyBhIGR1cGxpY2F0ZScgKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLmFyci5wdXNoICggdGFnX3N0ciApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc29ydCApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5hcnIuc29ydCAoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB0YWdfaHRtbCA9IHRoaXMuX2dldF90YWdfaHRtbCAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmxlbmd0aCA9PT0gMSB8fCAhdGhpcy5vcHRpb25zLnNvcnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbF93cnAuYmVmb3JlICggdGFnX2h0bWwgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmluZGV4T2YgKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpbmRleCA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFnYm94LmZpbmQgKCAnLnRhZ2JveC10YWcnICkuZmlyc3QgKCkuYmVmb3JlICggdGFnX2h0bWwgKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0YWdib3guZmluZCAoICcudGFnYm94LXRhZycgKS5lcSAoIGluZGV4IC0gMSApLmFmdGVyICggdGFnX2h0bWwgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfcGFydGlhbF9yZW1vdmVfdGFnOiBmdW5jdGlvbiAoICR0YWcsIHRhZ19zdHIgKSB7XG5cbiAgICAgICAgICAgICR0YWcucmVtb3ZlICgpO1xuXG4gICAgICAgICAgICBfLnB1bGwgKCB0aGlzLm9wdGlvbnMudGFncy5hcnIsIHRhZ19zdHIgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEtFWVBSRVNTICovXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5cHJlc3Nfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgdmFyIHRhZ19zdHIgPSB0aGlzLiRwYXJ0aWFsLnZhbCAoKTtcblxuICAgICAgICAgICAgaWYgKCBfLmNvbnRhaW5zICggdGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuaW5zZXJ0ZXJzLCBldmVudC5rZXlDb2RlICkgfHwgZXZlbnQua2V5Q29kZSA9PT0gdGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yLmNoYXJDb2RlQXQgKCAwICkgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWRkZWQgPSB0aGlzLmFkZCAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgICAgIGlmICggYWRkZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJfcGFydGlhbCAoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ICgpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuQkFDS1NQQUNFICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0YWdfc3RyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLm9wdGlvbnMudGFncy5hcnIubGVuZ3RoID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRhZyA9IHRoaXMuJHRhZ2JveC5maW5kICggJy50YWdib3gtdGFnJyApLmxhc3QgKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0ID0gISggKCAkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQubWV0YUtleSApIHx8ICggISQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5jdHJsS2V5ICkgKTsgLy9JTkZPOiBXaXRoIGBjdHJsYCBub3Qgb24gYSBNYWMgb3IgYGNtZGAgb24gTWFjOiByZW1vdmUgaXQgY29tcGxldGVsbHksIG90aGVyd2lzZTogY29weSBpdCB0byB0aGUgaW5wdXRcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSAoICR0YWcsIGVkaXQgKTtcblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCAoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmICggXy5jb250YWlucyAoIHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLmZvcmJpZGRlbiwgU3RyaW5nLmZyb21DaGFyQ29kZSAoIGV2ZW50LmtleUNvZGUgKSApICkge1xuXG4gICAgICAgICAgICAgICAgJC5ub3R5ICggJ1RoZSBjaGFyYWN0ZXIgeW91IGVudGVyZWQgaXMgZm9yYmlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBBU1RFICovXG5cbiAgICAgICAgX2hhbmRsZXJfcGFzdGU6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkgeyAvL0ZJWE1FOiBpcyBpdCBuZWNlc3Nhcnk/XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZCAoIHRoaXMuJHBhcnRpYWwudmFsICgpICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcl9wYXJ0aWFsICgpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLIE9OIENMT1NFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2tfb25fdGFnX3JlbW92ZXI6IGZ1bmN0aW9uICggZXZlbnQsIHRhZ19yZW1vdmVyICkge1xuXG4gICAgICAgICAgICB2YXIgJHRhZyA9ICQodGFnX3JlbW92ZXIpLnBhcmVudHMgKCAnLnRhZ2JveC10YWcnICk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlICggJHRhZyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0xJQ0sgT04gRU1QVFkgKi9cblxuICAgICAgICBfaGFuZGxlcl9jbGlja19vbl9lbXB0eTogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzLnBhcnRpYWwgJiYgISQoZXZlbnQudGFyZ2V0KS5pcyAoICdpbnB1dCwgLnRhZ2JveC10YWctbGFiZWwnICkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwYXJ0aWFsLmZvY3VzICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy50YWdzLnN0cjtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKCB0YWdzX3N0ciApIHtcblxuICAgICAgICAgICAgdmFyIHRhZ3MgPSB0YWdzX3N0ci5zcGxpdCAoIHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLnNlcGFyYXRvciApLFxuICAgICAgICAgICAgICAgIGFkZHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICBhZGRzLnB1c2ggKCB0aGlzLl9wYXJ0aWFsX2FkZF90YWcgKCB0YWdzW2ldICkgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYWRkZWQgPSAoIF8uY29tcGFjdCAoIGFkZHMgKS5sZW5ndGggPiAwICk7XG5cbiAgICAgICAgICAgIGlmICggYWRkZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfdGFnc19zdHIgKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhZGRlZDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCB0YWdzX3N0ciwgZWRpdCApIHtcblxuICAgICAgICAgICAgaWYgKCB0YWdzX3N0ciBpbnN0YW5jZW9mIGpRdWVyeSApIHtcblxuICAgICAgICAgICAgICAgIHZhciB0YWdzX29iaiA9IFt0YWdzX3N0cl0sXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBbdGFnc19zdHIuZGF0YSAoICd0YWctdmFsdWUnICldO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRhZ3Nfb2JqID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBbXTtcblxuICAgICAgICAgICAgICAgIHRhZ3Nfc3RyID0gdGFnc19zdHIuc3BsaXQgKCB0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5zZXBhcmF0b3IgKTtcblxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRhZ3Nfc3RyLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFnX3N0ciA9IHRoaXMuX3Nhbml0aXplX3RhZ19zdHIgKCB0YWdzX3N0cltpXSApLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHRhZyA9IHRoaXMuJHRhZ2JveC5maW5kICggJy50YWdib3gtdGFnW2RhdGEtdGFnLXZhbHVlPVwiJyArIHRhZ19zdHIgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAkdGFnLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnc19vYmoucHVzaCAoICR0YWcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaCAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0YWdzX29iai5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0YWdzX29iai5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbF9yZW1vdmVfdGFnICggdGFnc19vYmpbaV0sIHRhZ3NbaV0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV90YWdzX3N0ciAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGwgPT09IDEgJiYgZWRpdCA9PT0gdHJ1ZSApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwYXJ0aWFsLnZhbCAoIHRhZ3NbMF0gKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMudGFncy5hcnIubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ3Muc3RyID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ3MuYXJyID0gW107XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWdib3guZmluZCAoICcudGFnYm94LXRhZycgKS5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcl9wYXJ0aWFsICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFyICgpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbml0ICgpO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy50YWdib3gnKS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHRhZ2JveCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGlucHV0ID0gJHRhZ2JveC5maW5kICggJ2lucHV0JyApLmVxICggMCApLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQ6ICRpbnB1dC52YWwgKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyOiBbXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHRhZ2JveC50YWdib3ggKCBvcHRpb25zICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUSU1FIEFHTyAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnRpbWVBZ28nLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZmFsc2UsXG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRpbWVBZ29fd3JwID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRpbWVzdGFtcCA9IHRoaXMuJHRpbWVBZ29fd3JwLmRhdGEgKCB0aGlzLm9wdGlvbnMudGl0bGUgPyAndGltZXN0YW1wLXRpdGxlJyA6ICd0aW1lc3RhbXAnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfbG9vcCAoIDAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfdXBkYXRlX2xvb3A6IGZ1bmN0aW9uICggd2FpdCApIHtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfbG9vcCAoIHRoaXMudXBkYXRlICgpLm5leHQgKTtcblxuICAgICAgICAgICAgfSwgd2FpdCAqIDEwMDAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgdGltZUFnbyA9IF8udGltZUFnbyAoIHRoaXMub3B0aW9ucy50aW1lc3RhbXAgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMudGl0bGUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycC5hdHRyICggJ3RpdGxlJywgdGltZUFnby5zdHIgKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVBZ29fd3JwLmh0bWwgKCB0aW1lQWdvLnN0ciApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAndXBkYXRlJyApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGltZUFnbztcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdbZGF0YS10aW1lc3RhbXBdJykudGltZUFnbyAoKTtcbiAgICAgICAgJCgnW2RhdGEtdGltZXN0YW1wLXRpdGxlXScpLnRpbWVBZ28gKHsgdGl0bGU6IHRydWUgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogVElNRVIgLSBodHRwOi8vamNoYXZhbm5lcy5jb20vanF1ZXJ5LXRpbWVyICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUSU1FUiAqL1xuXG4gICAgJC50aW1lciA9IGZ1bmN0aW9uICggZnVuYywgdGltZSwgYXV0b3N0YXJ0ICkge1xuXG4gICAgICAgIHJldHVybiBuZXcgVGltZXIgKCBmdW5jLCB0aW1lLCBhdXRvc3RhcnQgKTtcblxuICAgIH07XG5cbiAgICAvKiBUSU1FUiBPQkogKi9cblxuICAgIHZhciBUaW1lciA9IGZ1bmN0aW9uICggZnVuYywgdGltZSwgYXV0b3N0YXJ0ICkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldCAoIGZ1bmMsIHRpbWUsIGF1dG9zdGFydCApO1xuXG4gICAgfTtcblxuICAgIFRpbWVyLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggZnVuYywgdGltZSwgYXV0b3N0YXJ0ICkge1xuXG4gICAgICAgICAgICB0aGlzLmluaXQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBmdW5jO1xuXG4gICAgICAgICAgICBpZiAoICFpc05hTiAoIHRpbWUgKSApIHRoaXMuaW50ZXJ2YWxUaW1lID0gdGltZTtcblxuICAgICAgICAgICAgaWYgKCBhdXRvc3RhcnQgJiYgIXRoaXMuaXNBY3RpdmUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVyICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25jZTogZnVuY3Rpb24gKCB0aW1lICkge1xuXG4gICAgICAgICAgICB2YXIgdGltZXIgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoIGlzTmFOICggdGltZSApICkgdGltZSA9IDA7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lci5hY3Rpb24gKCk7XG5cbiAgICAgICAgICAgIH0sIHRpbWUgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBwbGF5OiBmdW5jdGlvbiAoIHJlc2V0ICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzQWN0aXZlICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCByZXNldCApIHRoaXMuc2V0VGltZXIgKCk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnNldFRpbWVyICggdGhpcy5yZW1haW5pbmdfdGltZSApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuaXNBY3RpdmUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSAtPSBuZXcgRGF0ZSgpIC0gdGhpcy5sYXN0O1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lciAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSA9IHRoaXMuaW50ZXJ2YWxUaW1lO1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyICgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCByZXNldCApIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmlzQWN0aXZlICkgdGhpcy5wYXVzZSAoKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCByZXNldCApIHRoaXMucGxheSAoIHRydWUgKTtcbiAgICAgICAgICAgIGVsc2UgdGhpcy5wbGF5ICgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheSAoIHRydWUgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhclRpbWVyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCAoIHRoaXMudGltZW91dE9iamVjdCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0VGltZXI6IGZ1bmN0aW9uICggdGltZSApIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCBpc05hTiAoIHRpbWUgKSApIHRpbWUgPSB0aGlzLmludGVydmFsVGltZTtcblxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSA9IHRpbWU7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBuZXcgRGF0ZSAoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lciAoKTtcblxuICAgICAgICAgICAgdGhpcy50aW1lb3V0T2JqZWN0ID0gc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRpbWVyLmdvICgpXG5cbiAgICAgICAgICAgIH0sIHRpbWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGdvOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5pc0FjdGl2ZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uICgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZXIgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbWFpbmluZzogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgaWYgKCBfLmlzVW5kZWZpbmVkICggdmFsdWUgKSApIHJldHVybiB0aGlzLnJlbWFpbmluZ190aW1lO1xuXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ190aW1lID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vYnRlYWNoL2J0RWFjaC5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFVUSUxJVElFUyAqL1xuXG4gICAgdmFyIGdldF9jb29yZGluYXRlcyA9IGZ1bmN0aW9uICggJGVsZSApIHtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gJGVsZS5vZmZzZXQgKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFgxOiBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgIFgyOiBvZmZzZXQubGVmdCArICRlbGUud2lkdGggKCksXG4gICAgICAgICAgICBZMTogb2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIFkyOiBvZmZzZXQudG9wICsgJGVsZS5oZWlnaHQgKClcbiAgICAgICAgfTtcblxuICAgIH07XG5cbiAgICB2YXIgZ2V0X292ZXJsYXBwaW5nX2FyZWEgPSBmdW5jdGlvbiAoIGMxLCBjMiApIHtcblxuICAgICAgICB2YXIgeF9vdmVybGFwID0gTWF0aC5tYXggKCAwLCBNYXRoLm1pbiAoIGMxLlgyLCBjMi5YMiApIC0gTWF0aC5tYXggKCBjMS5YMSwgYzIuWDEgKSApLFxuICAgICAgICAgICAgeV9vdmVybGFwID0gTWF0aC5tYXggKCAwLCBNYXRoLm1pbiAoIGMxLlkyLCBjMi5ZMiApIC0gTWF0aC5tYXggKCBjMS5ZMSwgYzIuWTEgKSApO1xuXG4gICAgICAgIHJldHVybiB4X292ZXJsYXAgKiB5X292ZXJsYXA7XG5cbiAgICB9O1xuXG4gICAgLyogVE9VQ0hJTkcgKi9cblxuICAgICQuZm4udG91Y2hpbmcgPSBmdW5jdGlvbiAoIGN1c3RvbV9vcHRpb25zICkge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICB2YXIgb3B0aW9ucyA9IF8ubWVyZ2UgKHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXggOiBmYWxzZSwgLy9JTkZPOiBVc2VmdWwgZm9yIHNwZWVkaW5nIHVwIHRoZSBzZWFyY2hpbmcgcHJvY2VzcyBpZiB3ZSBtYXkgYWxyZWFkeSBndWVzcyB0aGUgaW5pdGlhbCBwb3NpdGlvbi4uLlxuICAgICAgICAgICAgcG9pbnQ6IGZhbHNlLCAvL0lORk86IFVzZWQgZm9yIHRoZSBwdW5jdHVhbCBzZWFyY2hcbiAgICAgICAgICAgIGJpbmFyeVNlYXJjaDogdHJ1ZSwgLy9JTkZPOiB0b2dnbGUgdGhlIGJpbmFyeSBzZWFyY2ggd2hlbiBwZXJmb3JtaW5nIGEgcHVuY3R1YWwgc2VhcmNoXG4gICAgICAgICAgICAvLyAge1xuICAgICAgICAgICAgLy8gICAgICBYOiAwLFxuICAgICAgICAgICAgLy8gICAgICBZOiAwXG4gICAgICAgICAgICAvLyAgfSxcbiAgICAgICAgICAgICRjb21wYXJlcjogZmFsc2UsIC8vSU5GTzogVXNlZCBmb3IgdGhlIG92ZXJsYXBwaW5nIHNlYXJjaFxuICAgICAgICAgICAgJG5vdDogZmFsc2UsXG4gICAgICAgICAgICBzZWxlY3Q6ICdhbGwnXG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zICk7XG5cbiAgICAgICAgLyogU0VBUkNIQUJMRSAqL1xuXG4gICAgICAgIHZhciAkc2VhcmNoYWJsZSA9IG9wdGlvbnMuJG5vdCA/IHRoaXMubm90ICggb3B0aW9ucy4kbm90ICkgOiB0aGlzO1xuXG4gICAgICAgIC8qIENPTVBBUkVSICovXG5cbiAgICAgICAgaWYgKCBvcHRpb25zLiRjb21wYXJlciApIHtcblxuICAgICAgICAgICAgdmFyIGMxID0gZ2V0X2Nvb3JkaW5hdGVzICggb3B0aW9ucy4kY29tcGFyZXIgKSxcbiAgICAgICAgICAgICAgICBub2RlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGFyZWFzID0gW107XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICAgICAgJHNlYXJjaGFibGUuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBjMiA9IGdldF9jb29yZGluYXRlcyAoICQodGhpcykgKSxcbiAgICAgICAgICAgICAgICAgICAgYXJlYSA9IGdldF9vdmVybGFwcGluZ19hcmVhICggYzEsIGMyICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGFyZWEgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2ggKCB0aGlzICk7XG4gICAgICAgICAgICAgICAgICAgIGFyZWFzLnB1c2ggKCBhcmVhICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBvcHRpb25zLnNlbGVjdCApIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKG5vZGVzKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ21vc3QnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChub2Rlc1sgYXJlYXMuaW5kZXhPZiAoIF8ubWF4ICggYXJlYXMgKSApXSk7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGVtcHR5O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBVTkNUVUFMICovXG5cbiAgICAgICAgaWYgKCBvcHRpb25zLnBvaW50ICkge1xuXG4gICAgICAgICAgICB2YXIgJHRvdWNoZWQ7XG5cbiAgICAgICAgICAgIGlmICggb3B0aW9ucy5iaW5hcnlTZWFyY2ggKSB7XG5cbiAgICAgICAgICAgICAgICAkc2VhcmNoYWJsZS5idEVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRub2RlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBnZXRfY29vcmRpbmF0ZXMgKCAkbm9kZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggb3B0aW9ucy5wb2ludC5ZID49IGMuWTEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggb3B0aW9ucy5wb2ludC5ZIDw9IGMuWTIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMucG9pbnQuWCA+PSBjLlgxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggb3B0aW9ucy5wb2ludC5YIDw9IGMuWDIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0b3VjaGVkID0gJG5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnN0YXJ0SW5kZXggKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkdG91Y2hlZCB8fCAkZW1wdHk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAkc2VhcmNoYWJsZS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbm9kZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gZ2V0X2Nvb3JkaW5hdGVzICggJG5vZGUgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMucG9pbnQuWSA+PSBjLlkxICYmIG9wdGlvbnMucG9pbnQuWSA8PSBjLlkyICYmIG9wdGlvbnMucG9pbnQuWCA+PSBjLlgxICYmIG9wdGlvbnMucG9pbnQuWCA8PSBjLlgyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdG91Y2hlZCA9ICRub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJHRvdWNoZWQgfHwgJGVtcHR5O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9